"use strict";(self.webpackChunksalaDeJuegos=self.webpackChunksalaDeJuegos||[]).push([[179],{6304:(bt,Ce,k)=>{k.d(Ce,{Dh:()=>Pe,GT:()=>pe,cc:()=>Oe,hO:()=>ke,on:()=>U,pX:()=>re,xv:()=>ve});var d=k(5879),Q=k(120),L=k(2793);bt=k.hmd(bt);const ee=["ngOnDestroy"],re=(Ne,Ct,Dt,se={})=>new Proxy(Ne,{get:(Me,ae)=>Dt.runOutsideAngular(()=>{var Te;if(Ne[ae])return!(null===(Te=se?.spy)||void 0===Te)&&Te.get&&se.spy.get(ae,Ne[ae]),Ne[ae];if(ee.indexOf(ae)>-1)return()=>{};const He=Ct.toPromise().then(oe=>{const $e=oe&&oe[ae];return"function"==typeof $e?$e.bind(oe):$e&&$e.then?$e.then(it=>Dt.run(()=>it)):Dt.run(()=>$e)});return new Proxy(()=>{},{get:(oe,$e)=>He[$e],apply:(oe,$e,it)=>He.then(Nt=>{var En;const Nn=Nt&&Nt(...it);return!(null===(En=se?.spy)||void 0===En)&&En.apply&&se.spy.apply(ae,it,Nn),Nn})})})}),pe=(Ne,Ct)=>{Ct.forEach(Dt=>{Object.getOwnPropertyNames(Dt.prototype||Dt).forEach(se=>{Object.defineProperty(Ne.prototype,se,Object.getOwnPropertyDescriptor(Dt.prototype||Dt,se))})})};class ye{constructor(Ct){return Ct}}const Pe=new d.OlP("angularfire2.app.options"),ve=new d.OlP("angularfire2.app.name");function U(Ne,Ct,Dt){const Me="object"==typeof Dt&&Dt||{};Me.name=Me.name||"string"==typeof Dt&&Dt||"[DEFAULT]";const Te=Q.Z.apps.filter(He=>He&&He.name===Me.name)[0]||Ct.runOutsideAngular(()=>Q.Z.initializeApp(Ne,Me));try{JSON.stringify(Ne)!==JSON.stringify(Te.options)&&G("error",`${Te.name} Firebase App already initialized with different options${bt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ye(Te)}const G=(Ne,...Ct)=>{(0,d.X6Q)()&&typeof console<"u"&&console[Ne](...Ct)},te={provide:ye,useFactory:U,deps:[Pe,d.R0b,[new d.FiY,ve]]};let ke=(()=>{class Ne{constructor(Dt){Q.Z.registerVersion("angularfire",L.q4.full,"core"),Q.Z.registerVersion("angularfire",L.q4.full,"app-compat"),Q.Z.registerVersion("angular",d.q4F.full,Dt.toString())}static initializeApp(Dt,se){return{ngModule:Ne,providers:[{provide:Pe,useValue:Dt},{provide:ve,useValue:se}]}}}return Ne.\u0275fac=function(Dt){return new(Dt||Ne)(d.LFG(d.Lbi))},Ne.\u0275mod=d.oAB({type:Ne}),Ne.\u0275inj=d.cJS({providers:[te]}),Ne})();function Oe(Ne,Ct,Dt,se,Me){const[,ae,Te]=globalThis.\u0275AngularfireInstanceCache.find(He=>He[0]===Ne)||[];if(ae)return function et(Ne,Ct){try{return Ne.toString()===Ct.toString()}catch{return Ne===Ct}}(Me,Te)||(rt("error",`${Ct} was already initialized on the ${Dt} Firebase App with different settings.${Be?" You may need to reload as Firebase is not HMR aware.":""}`),rt("warn",{is:Me,was:Te})),ae;{const He=se();return globalThis.\u0275AngularfireInstanceCache.push([Ne,He,Me]),He}}const Be=!!bt.hot,rt=(Ne,...Ct)=>{(0,d.X6Q)()&&typeof console<"u"&&console[Ne](...Ct)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2793:(bt,Ce,k)=>{k.d(Ce,{q4:()=>so,iC:()=>Ku,HU:()=>Dh,vb:()=>Xo,JM:()=>Qo});var d=k(5879),Q=k(4097),L=k(5861),ee=k(4303),re=k(9058),pe=k(4537),ye=k(7879);const Pe=(C,T)=>T.some(O=>C instanceof O);let ve,U;const ke=new WeakMap,Oe=new WeakMap,et=new WeakMap,Be=new WeakMap,rt=new WeakMap;let Dt={get(C,T,O){if(C instanceof IDBTransaction){if("done"===T)return Oe.get(C);if("objectStoreNames"===T)return C.objectStoreNames||et.get(C);if("store"===T)return O.objectStoreNames[1]?void 0:O.objectStore(O.objectStoreNames[0])}return Te(C[T])},set:(C,T,O)=>(C[T]=O,!0),has:(C,T)=>C instanceof IDBTransaction&&("done"===T||"store"===T)||T in C};function ae(C){return"function"==typeof C?function Me(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function te(){return U||(U=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(C)?function(...T){return C.apply(He(this),T),Te(ke.get(this))}:function(...T){return Te(C.apply(He(this),T))}:function(T,...O){const R=C.call(He(this),T,...O);return et.set(R,T.sort?T.sort():[T]),Te(R)}}(C):(C instanceof IDBTransaction&&function Ct(C){if(Oe.has(C))return;const T=new Promise((O,R)=>{const $=()=>{C.removeEventListener("complete",ne),C.removeEventListener("error",me),C.removeEventListener("abort",me)},ne=()=>{O(),$()},me=()=>{R(C.error||new DOMException("AbortError","AbortError")),$()};C.addEventListener("complete",ne),C.addEventListener("error",me),C.addEventListener("abort",me)});Oe.set(C,T)}(C),Pe(C,function G(){return ve||(ve=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(C,Dt):C)}function Te(C){if(C instanceof IDBRequest)return function Ne(C){const T=new Promise((O,R)=>{const $=()=>{C.removeEventListener("success",ne),C.removeEventListener("error",me)},ne=()=>{O(Te(C.result)),$()},me=()=>{R(C.error),$()};C.addEventListener("success",ne),C.addEventListener("error",me)});return T.then(O=>{O instanceof IDBCursor&&ke.set(O,C)}).catch(()=>{}),rt.set(T,C),T}(C);if(Be.has(C))return Be.get(C);const T=ae(C);return T!==C&&(Be.set(C,T),rt.set(T,C)),T}const He=C=>rt.get(C),it=["get","getKey","getAll","getAllKeys","count"],Nt=["put","add","delete","clear"],En=new Map;function Nn(C,T){var O;if(!(C instanceof IDBDatabase)||T in C||"string"!=typeof T)return;if(En.get(T))return En.get(T);const R=T.replace(/FromIndex$/,""),$=T!==R,ne=Nt.includes(R);if(!(R in($?IDBIndex:IDBObjectStore).prototype)||!ne&&!it.includes(R))return;const me=function(qe){return(O=O||(0,L.Z)(function*(pt,...It){const At=this.transaction(pt,ne?"readwrite":"readonly");let qt=At.store;return $&&(qt=qt.index(It.shift())),(yield Promise.all([qt[R](...It),ne&&At.done]))[0]})).apply(this,arguments)};return En.set(T,me),me}var Tn,$n,qn,Vr,de,fe,De,we,ze,Ve,mt,tt,Zn,Mt,ln,Ut;!function se(C){Dt=C(Dt)}(C=>({...C,get:(T,O,R)=>Nn(T,O)||C.get(T,O,R),has:(T,O)=>!!Nn(T,O)||C.has(T,O)}));const sn="@firebase/installations",Y="0.6.4",Z=1e4,ge=`w:${Y}`,xe="FIS_v2",nt="https://firebaseinstallations.googleapis.com/v1",ft=36e5,Et=new re.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function jt(C){return C instanceof re.ZR&&C.code.includes("request-failed")}function on({projectId:C}){return`${nt}/projects/${C}/installations`}function tr(C){return{token:C.token,requestStatus:2,expiresIn:an(C.expiresIn),creationTime:Date.now()}}function nr(C,T){return(Tn=Tn||(0,L.Z)(function*(O,R){const ne=(yield R.json()).error;return Et.create("request-failed",{requestName:O,serverCode:ne.code,serverMessage:ne.message,serverStatus:ne.status})})).apply(this,arguments)}function Gt({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function Mn(C){return($n=$n||(0,L.Z)(function*(T){const O=yield T();return O.status>=500&&O.status<600?T():O})).apply(this,arguments)}function an(C){return Number(C.replace("s","000"))}function _i(C){return new Promise(T=>{setTimeout(T,C)})}const Ys=/^[cdef][\w-]{21}$/,ki="";function Uo(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const O=function Ue(C){return function Ns(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return Ys.test(O)?O:ki}catch{return ki}}function q(C){return`${C.appName}!${C.appId}`}const Ee=new Map;function Xe(C,T){const O=q(C);On(O,T),function z(C,T){const O=function J(){return!H&&"BroadcastChannel"in self&&(H=new BroadcastChannel("[Firebase] FID Change"),H.onmessage=C=>{On(C.data.key,C.data.fid)}),H}();O&&O.postMessage({key:C,fid:T}),function Ae(){0===Ee.size&&H&&(H.close(),H=null)}()}(O,T)}function On(C,T){const O=Ee.get(C);if(O)for(const R of O)R(T)}let H=null;const he="firebase-installations-database",vt=1,Lt="firebase-installations-store";let zt=null;function _r(){return zt||(zt=function oe(C,T,{blocked:O,upgrade:R,blocking:$,terminated:ne}={}){const me=indexedDB.open(C,T),Fe=Te(me);return R&&me.addEventListener("upgradeneeded",qe=>{R(Te(me.result),qe.oldVersion,qe.newVersion,Te(me.transaction))}),O&&me.addEventListener("blocked",()=>O()),Fe.then(qe=>{ne&&qe.addEventListener("close",()=>ne()),$&&qe.addEventListener("versionchange",()=>$())}).catch(()=>{}),Fe}(he,vt,{upgrade:(C,T)=>{0===T&&C.createObjectStore(Lt)}})),zt}function Wt(C,T){return(Vr=Vr||(0,L.Z)(function*(O,R){const $=q(O),me=(yield _r()).transaction(Lt,"readwrite"),Fe=me.objectStore(Lt),qe=yield Fe.get($);return yield Fe.put(R,$),yield me.done,(!qe||qe.fid!==R.fid)&&Xe(O,R.fid),R})).apply(this,arguments)}function qr(C){return(de=de||(0,L.Z)(function*(T){const O=q(T),$=(yield _r()).transaction(Lt,"readwrite");yield $.objectStore(Lt).delete(O),yield $.done})).apply(this,arguments)}function Yt(C,T){return(fe=fe||(0,L.Z)(function*(O,R){const $=q(O),me=(yield _r()).transaction(Lt,"readwrite"),Fe=me.objectStore(Lt),qe=yield Fe.get($),pt=R(qe);return void 0===pt?yield Fe.delete($):yield Fe.put(pt,$),yield me.done,pt&&(!qe||qe.fid!==pt.fid)&&Xe(O,pt.fid),pt})).apply(this,arguments)}function Ur(C){return(De=De||(0,L.Z)(function*(T){let O;const R=yield Yt(T.appConfig,$=>{const ne=function Js(C){return Ji(C||{fid:Uo(),registrationStatus:0})}($),me=function vu(C,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(Et.create("app-offline"))};const O={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},R=function fp(C,T){return(we=we||(0,L.Z)(function*(O,R){try{const $=yield function hn(C,T){return(qn=qn||(0,L.Z)(function*({appConfig:O,heartbeatServiceProvider:R},{fid:$}){const ne=on(O),me=Gt(O),Fe=R.getImmediate({optional:!0});if(Fe){const At=yield Fe.getHeartbeatsHeader();At&&me.append("x-firebase-client",At)}const pt={method:"POST",headers:me,body:JSON.stringify({fid:$,authVersion:xe,appId:O.appId,sdkVersion:ge})},It=yield Mn(()=>fetch(ne,pt));if(It.ok){const At=yield It.json();return{fid:At.fid||$,registrationStatus:2,refreshToken:At.refreshToken,authToken:tr(At.authToken)}}throw yield nr("Create Installation",It)})).apply(this,arguments)}(O,R);return Wt(O.appConfig,$)}catch($){throw jt($)&&409===$.customData.serverCode?yield qr(O.appConfig):yield Wt(O.appConfig,{fid:R.fid,registrationStatus:0}),$}})).apply(this,arguments)}(C,O);return{installationEntry:O,registrationPromise:R}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:Rs(C)}:{installationEntry:T}}(T,ne);return O=me.registrationPromise,me.installationEntry});return R.fid===ki?{installationEntry:yield O}:{installationEntry:R,registrationPromise:O}})).apply(this,arguments)}function Rs(C){return(ze=ze||(0,L.Z)(function*(T){let O=yield va(T.appConfig);for(;1===O.registrationStatus;)yield _i(100),O=yield va(T.appConfig);if(0===O.registrationStatus){const{installationEntry:R,registrationPromise:$}=yield Ur(T);return $||R}return O})).apply(this,arguments)}function va(C){return Yt(C,T=>{if(!T)throw Et.create("installation-not-found");return Ji(T)})}function Ji(C){return function Ps(C){return 1===C.registrationStatus&&C.registrationTime+Z<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function fn(C,T){return(Ve=Ve||(0,L.Z)(function*({appConfig:O,heartbeatServiceProvider:R},$){const ne=function Kn(C,{fid:T}){return`${on(C)}/${T}/authTokens:generate`}(O,$),me=function kn(C,{refreshToken:T}){const O=Gt(C);return O.append("Authorization",function fs(C){return`${xe} ${C}`}(T)),O}(O,$),Fe=R.getImmediate({optional:!0});if(Fe){const At=yield Fe.getHeartbeatsHeader();At&&me.append("x-firebase-client",At)}const pt={method:"POST",headers:me,body:JSON.stringify({installation:{sdkVersion:ge,appId:O.appId}})},It=yield Mn(()=>fetch(ne,pt));if(It.ok)return tr(yield It.json());throw yield nr("Generate Auth Token",It)})).apply(this,arguments)}function Yn(C){return(mt=mt||(0,L.Z)(function*(T,O=!1){let R;const $=yield Yt(T.appConfig,me=>{if(!Ke(me))throw Et.create("not-registered");const Fe=me.authToken;if(!O&&function Fi(C){return 2===C.requestStatus&&!function Li(C){const T=Date.now();return T<C.creationTime||C.creationTime+C.expiresIn<T+ft}(C)}(Fe))return me;if(1===Fe.requestStatus)return R=function lc(C,T){return(tt=tt||(0,L.Z)(function*(O,R){let $=yield po(O.appConfig);for(;1===$.authToken.requestStatus;)yield _i(100),$=yield po(O.appConfig);const ne=$.authToken;return 0===ne.requestStatus?Yn(O,R):ne})).apply(this,arguments)}(T,O),me;{if(!navigator.onLine)throw Et.create("app-offline");const qe=function jo(C){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:T})}(me);return R=function ks(C,T){return(Zn=Zn||(0,L.Z)(function*(O,R){try{const $=yield fn(O,R),ne=Object.assign(Object.assign({},R),{authToken:$});return yield Wt(O.appConfig,ne),$}catch($){if(!jt($)||401!==$.customData.serverCode&&404!==$.customData.serverCode){const ne=Object.assign(Object.assign({},R),{authToken:{requestStatus:0}});yield Wt(O.appConfig,ne)}else yield qr(O.appConfig);throw $}})).apply(this,arguments)}(T,qe),qe}});return R?yield R:$.authToken})).apply(this,arguments)}function po(C){return Yt(C,T=>{if(!Ke(T))throw Et.create("not-registered");return function pl(C){return 1===C.requestStatus&&C.requestTime+Z<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function Ke(C){return void 0!==C&&2===C.registrationStatus}function Ln(C){return Et.create("missing-app-config-values",{valueName:C})}const ml="installations",gp=C=>{const T=C.getProvider("app").getImmediate(),O=function pn(C){if(!C||!C.options)throw Ln("App Configuration");if(!C.name)throw Ln("App Name");const T=["projectId","apiKey","appId"];for(const O of T)if(!C.options[O])throw Ln(O);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(T);return{app:T,appConfig:O,heartbeatServiceProvider:(0,ee.qX)(T,"heartbeat"),_delete:()=>Promise.resolve()}},Zd=C=>{const T=C.getProvider("app").getImmediate(),O=(0,ee.qX)(T,ml).getImmediate();return{getId:()=>function gl(C){return(Mt=Mt||(0,L.Z)(function*(T){const O=T,{installationEntry:R,registrationPromise:$}=yield Ur(O);return $?$.catch(console.error):Yn(O).catch(console.error),R.fid})).apply(this,arguments)}(O),getToken:$=>function uc(C){return(ln=ln||(0,L.Z)(function*(T,O=!1){const R=T;return yield function Qs(C){return(Ut=Ut||(0,L.Z)(function*(T){const{registrationPromise:O}=yield Ur(T);O&&(yield O)})).apply(this,arguments)}(R),(yield Yn(R,O)).token})).apply(this,arguments)}(O,$)}};var Zr;(function dc(){(0,ee.Xd)(new pe.wA(ml,gp,"PUBLIC")),(0,ee.Xd)(new pe.wA("installations-internal",Zd,"PRIVATE"))})(),(0,ee.KN)(sn,Y),(0,ee.KN)(sn,Y,"esm2017");const bu="@firebase/remote-config",rr=new re.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class vi{constructor(T,O,R,$){this.client=T,this.storage=O,this.storageCache=R,this.logger=$}isCachedDataFresh(T,O){if(!O)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const R=Date.now()-O,$=R<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${R}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${$}.`),$}fetch(T){var O=this;return(0,L.Z)(function*(){const[R,$]=yield Promise.all([O.storage.getLastSuccessfulFetchTimestampMillis(),O.storage.getLastSuccessfulFetchResponse()]);if($&&O.isCachedDataFresh(T.cacheMaxAgeMillis,R))return $;T.eTag=$&&$.eTag;const ne=yield O.client.fetch(T),me=[O.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ne.status&&me.push(O.storage.setLastSuccessfulFetchResponse(ne)),yield Promise.all(me),ne})()}}function mo(C=navigator){return C.languages&&C.languages[0]||C.language}class Hr{constructor(T,O,R,$,ne,me){this.firebaseInstallations=T,this.sdkVersion=O,this.namespace=R,this.projectId=$,this.apiKey=ne,this.appId=me}fetch(T){var O=this;return(0,L.Z)(function*(){const[R,$]=yield Promise.all([O.firebaseInstallations.getId(),O.firebaseInstallations.getToken()]),me=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${O.projectId}/namespaces/${O.namespace}:fetch?key=${O.apiKey}`,Fe={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},qe={sdk_version:O.sdkVersion,app_instance_id:R,app_instance_id_token:$,app_id:O.appId,language_code:mo()},pt={method:"POST",headers:Fe,body:JSON.stringify(qe)},It=fetch(me,pt),At=new Promise((Ft,$i)=>{T.signal.addEventListener(()=>{const Ir=new Error("The operation was aborted.");Ir.name="AbortError",$i(Ir)})});let qt;try{yield Promise.race([It,At]),qt=yield It}catch(Ft){let $i="fetch-client-network";throw"AbortError"===Ft?.name&&($i="fetch-timeout"),rr.create($i,{originalErrorMessage:Ft?.message})}let Xn=qt.status;const Bn=qt.headers.get("ETag")||void 0;let vn,Rr;if(200===qt.status){let Ft;try{Ft=yield qt.json()}catch($i){throw rr.create("fetch-client-parse",{originalErrorMessage:$i?.message})}vn=Ft.entries,Rr=Ft.state}if("INSTANCE_STATE_UNSPECIFIED"===Rr?Xn=500:"NO_CHANGE"===Rr?Xn=304:("NO_TEMPLATE"===Rr||"EMPTY_CONFIG"===Rr)&&(vn={}),304!==Xn&&200!==Xn)throw rr.create("fetch-status",{httpStatus:Xn});return{status:Xn,eTag:Bn,config:vn}})()}}class Vi{constructor(T,O){this.client=T,this.storage=O}fetch(T){var O=this;return(0,L.Z)(function*(){const R=(yield O.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return O.attemptFetch(T,R)})()}attemptFetch(T,{throttleEndTimeMillis:O,backoffCount:R}){var $=this;return(0,L.Z)(function*(){yield function ba(C,T){return new Promise((O,R)=>{const $=Math.max(T-Date.now(),0),ne=setTimeout(O,$);C.addEventListener(()=>{clearTimeout(ne),R(rr.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,O);try{const ne=yield $.client.fetch(T);return yield $.storage.deleteThrottleMetadata(),ne}catch(ne){if(!function ir(C){if(!(C instanceof re.ZR&&C.customData))return!1;const T=Number(C.customData.httpStatus);return 429===T||500===T||503===T||504===T}(ne))throw ne;const me={throttleEndTimeMillis:Date.now()+(0,re.$s)(R),backoffCount:R+1};return yield $.storage.setThrottleMetadata(me),$.attemptFetch(T,me)}})()}}class Fs{constructor(T,O,R,$,ne){this.app=T,this._client=O,this._storageCache=R,this._storage=$,this._logger=ne,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function _l(C,T){const O=C.target.error||void 0;return rr.create(T,{originalErrorMessage:O&&O?.message})}const ri="app_namespace_store";class ps{constructor(T,O,R,$=function gc(){return new Promise((C,T)=>{try{const O=indexedDB.open("firebase_remote_config",1);O.onerror=R=>{T(_l(R,"storage-open"))},O.onsuccess=R=>{C(R.target.result)},O.onupgradeneeded=R=>{0===R.oldVersion&&R.target.result.createObjectStore(ri,{keyPath:"compositeKey"})}}catch(O){T(rr.create("storage-open",{originalErrorMessage:O?.message}))}})}()){this.appId=T,this.appName=O,this.namespace=R,this.openDbPromise=$}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var O=this;return(0,L.Z)(function*(){const R=yield O.openDbPromise;return new Promise(($,ne)=>{const Fe=R.transaction([ri],"readonly").objectStore(ri),qe=O.createCompositeKey(T);try{const pt=Fe.get(qe);pt.onerror=It=>{ne(_l(It,"storage-get"))},pt.onsuccess=It=>{const At=It.target.result;$(At?At.value:void 0)}}catch(pt){ne(rr.create("storage-get",{originalErrorMessage:pt?.message}))}})})()}set(T,O){var R=this;return(0,L.Z)(function*(){const $=yield R.openDbPromise;return new Promise((ne,me)=>{const qe=$.transaction([ri],"readwrite").objectStore(ri),pt=R.createCompositeKey(T);try{const It=qe.put({compositeKey:pt,value:O});It.onerror=At=>{me(_l(At,"storage-set"))},It.onsuccess=()=>{ne()}}catch(It){me(rr.create("storage-set",{originalErrorMessage:It?.message}))}})})()}delete(T){var O=this;return(0,L.Z)(function*(){const R=yield O.openDbPromise;return new Promise(($,ne)=>{const Fe=R.transaction([ri],"readwrite").objectStore(ri),qe=O.createCompositeKey(T);try{const pt=Fe.delete(qe);pt.onerror=It=>{ne(_l(It,"storage-delete"))},pt.onsuccess=()=>{$()}}catch(pt){ne(rr.create("storage-delete",{originalErrorMessage:pt?.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class mc{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,L.Z)(function*(){const O=T.storage.getLastFetchStatus(),R=T.storage.getLastSuccessfulFetchTimestampMillis(),$=T.storage.getActiveConfig(),ne=yield O;ne&&(T.lastFetchStatus=ne);const me=yield R;me&&(T.lastSuccessfulFetchTimestampMillis=me);const Fe=yield $;Fe&&(T.activeConfig=Fe)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function Ls(){return(Zr=Zr||(0,L.Z)(function*(){if(!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch{return!1}})).apply(this,arguments)}!function Iu(){(0,ee.Xd)(new pe.wA("remote-config",function C(T,{instanceIdentifier:O}){const R=T.getProvider("app").getImmediate(),$=T.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw rr.create("registration-window");if(!(0,re.hl)())throw rr.create("indexed-db-unavailable");const{projectId:ne,apiKey:me,appId:Fe}=R.options;if(!ne)throw rr.create("registration-project-id");if(!me)throw rr.create("registration-api-key");if(!Fe)throw rr.create("registration-app-id");const qe=new ps(Fe,R.name,O=O||"firebase"),pt=new mc(qe),It=new ye.Yd(bu);It.logLevel=ye.in.ERROR;const At=new Hr($,ee.Jn,O,ne,me,Fe),qt=new Vi(At,qe),Xn=new vi(qt,qe,pt,It),Bn=new Fs(R,Xn,pt,qe,It);return function ya(C){const T=(0,re.m9)(C);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(Bn),Bn},"PUBLIC").setMultipleInstances(!0)),(0,ee.KN)(bu,"0.4.4"),(0,ee.KN)(bu,"0.4.4","esm2017")}();const _c=(C,T)=>T.some(O=>C instanceof O);let _o,nn;const Tu=new WeakMap,ii=new WeakMap,wa=new WeakMap,yi=new WeakMap,Wo=new WeakMap;let Kr={get(C,T,O){if(C instanceof IDBTransaction){if("done"===T)return ii.get(C);if("objectStoreNames"===T)return C.objectStoreNames||wa.get(C);if("store"===T)return O.objectStoreNames[1]?void 0:O.objectStore(O.objectStoreNames[0])}return Xi(C[T])},set:(C,T,O)=>(C[T]=O,!0),has:(C,T)=>C instanceof IDBTransaction&&("done"===T||"store"===T)||T in C};function vo(C){return"function"==typeof C?function Su(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Cu(){return nn||(nn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(C)?function(...T){return C.apply(es(this),T),Xi(Tu.get(this))}:function(...T){return Xi(C.apply(es(this),T))}:function(T,...O){const R=C.call(es(this),T,...O);return wa.set(R,T.sort?T.sort():[T]),Xi(R)}}(C):(C instanceof IDBTransaction&&function yr(C){if(ii.has(C))return;const T=new Promise((O,R)=>{const $=()=>{C.removeEventListener("complete",ne),C.removeEventListener("error",me),C.removeEventListener("abort",me)},ne=()=>{O(),$()},me=()=>{R(C.error||new DOMException("AbortError","AbortError")),$()};C.addEventListener("complete",ne),C.addEventListener("error",me),C.addEventListener("abort",me)});ii.set(C,T)}(C),_c(C,function vp(){return _o||(_o=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(C,Kr):C)}function Xi(C){if(C instanceof IDBRequest)return function Gr(C){const T=new Promise((O,R)=>{const $=()=>{C.removeEventListener("success",ne),C.removeEventListener("error",me)},ne=()=>{O(Xi(C.result)),$()},me=()=>{R(C.error),$()};C.addEventListener("success",ne),C.addEventListener("error",me)});return T.then(O=>{O instanceof IDBCursor&&Tu.set(O,C)}).catch(()=>{}),Wo.set(T,C),T}(C);if(yi.has(C))return yi.get(C);const T=vo(C);return T!==C&&(yi.set(C,T),Wo.set(T,C)),T}const es=C=>Wo.get(C);function vc(C,T,{blocked:O,upgrade:R,blocking:$,terminated:ne}={}){const me=indexedDB.open(C,T),Fe=Xi(me);return R&&me.addEventListener("upgradeneeded",qe=>{R(Xi(me.result),qe.oldVersion,qe.newVersion,Xi(me.transaction))}),O&&me.addEventListener("blocked",()=>O()),Fe.then(qe=>{ne&&qe.addEventListener("close",()=>ne()),$&&qe.addEventListener("versionchange",()=>$())}).catch(()=>{}),Fe}function Au(C,{blocked:T}={}){const O=indexedDB.deleteDatabase(C);return T&&O.addEventListener("blocked",()=>T()),Xi(O).then(()=>{})}const Da=["get","getKey","getAll","getAllKeys","count"],r_=["put","add","delete","clear"],Mu=new Map;function Qd(C,T){var O;if(!(C instanceof IDBDatabase)||T in C||"string"!=typeof T)return;if(Mu.get(T))return Mu.get(T);const R=T.replace(/FromIndex$/,""),$=T!==R,ne=r_.includes(R);if(!(R in($?IDBIndex:IDBObjectStore).prototype)||!ne&&!Da.includes(R))return;const me=function(qe){return(O=O||(0,L.Z)(function*(pt,...It){const At=this.transaction(pt,ne?"readwrite":"readonly");let qt=At.store;return $&&(qt=qt.index(It.shift())),(yield Promise.all([qt[R](...It),ne&&At.done]))[0]})).apply(this,arguments)};return Mu.set(T,me),me}var Ou,vl,i_,Xd,Gn,s_,o_,a_,yl,yo,c_,no,xu,eh,l_,u_,th,bi,ro,Nu;!function si(C){Kr=C(Kr)}(C=>({...C,get:(T,O,R)=>Qd(T,O)||C.get(T,O,R),has:(T,O)=>!!Qd(T,O)||C.has(T,O)}));const yc="/firebase-messaging-sw.js",ur="/firebase-cloud-messaging-push-scope",ms="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ea="https://fcmregistrations.googleapis.com/v1",Ru="google.c.a.c_id",Pu="google.c.a.c_l",bc="google.c.a.ts";var Ia=function(C){return C.PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",C}(Ia||{});function ts(C){const T=new Uint8Array(C);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function nh(C){const O=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),R=atob(O),$=new Uint8Array(R.length);for(let ne=0;ne<R.length;++ne)$[ne]=R.charCodeAt(ne);return $}const Ca="fcm_token_details_db",wi=5,Ta="fcm_token_object_Store",bp="firebase-messaging-database",wl=1,wo="firebase-messaging-store";let qo=null;function wc(){return qo||(qo=vc(bp,wl,{upgrade:(C,T)=>{0===T&&C.createObjectStore(wo)}})),qo}function wp(C){return(vl=vl||(0,L.Z)(function*(T){const O=ku(T),$=yield(yield wc()).transaction(wo).objectStore(wo).get(O);if($)return $;{const ne=yield function Sa(C){return(Ou=Ou||(0,L.Z)(function*(T){var O;if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Fe=>Fe.name).includes(Ca))return null;let R=null;return(yield vc(Ca,wi,{upgrade:function(me,Fe,qe,pt){return(O=O||(0,L.Z)(function*(It,At,qt,Xn){var Bn;if(At<2||!It.objectStoreNames.contains(Ta))return;const vn=Xn.objectStore(Ta),Rr=yield vn.index("fcmSenderId").get(T);if(yield vn.clear(),Rr)if(2===At){const Ft=Rr;if(!Ft.auth||!Ft.p256dh||!Ft.endpoint)return;R={token:Ft.fcmToken,createTime:null!==(Bn=Ft.createTime)&&void 0!==Bn?Bn:Date.now(),subscriptionOptions:{auth:Ft.auth,p256dh:Ft.p256dh,endpoint:Ft.endpoint,swScope:Ft.swScope,vapidKey:"string"==typeof Ft.vapidKey?Ft.vapidKey:ts(Ft.vapidKey)}}}else if(3===At){const Ft=Rr;R={token:Ft.fcmToken,createTime:Ft.createTime,subscriptionOptions:{auth:ts(Ft.auth),p256dh:ts(Ft.p256dh),endpoint:Ft.endpoint,swScope:Ft.swScope,vapidKey:ts(Ft.vapidKey)}}}else if(4===At){const Ft=Rr;R={token:Ft.fcmToken,createTime:Ft.createTime,subscriptionOptions:{auth:ts(Ft.auth),p256dh:ts(Ft.p256dh),endpoint:Ft.endpoint,swScope:Ft.swScope,vapidKey:ts(Ft.vapidKey)}}}})).apply(this,arguments)}})).close(),yield Au(Ca),yield Au("fcm_vapid_details_db"),yield Au("undefined"),function bl(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:T}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}(R)?R:null})).apply(this,arguments)}(T.appConfig.senderId);if(ne)return yield Dl(T,ne),ne}})).apply(this,arguments)}function Dl(C,T){return(i_=i_||(0,L.Z)(function*(O,R){const $=ku(O),me=(yield wc()).transaction(wo,"readwrite");return yield me.objectStore(wo).put(R,$),yield me.done,R})).apply(this,arguments)}function ku({appConfig:C}){return C.appId}const oi=new re.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Wy(C,T){return(Gn=Gn||(0,L.Z)(function*(O,R){const $=yield Bs(O),ne=Ma(R),me={method:"POST",headers:$,body:JSON.stringify(ne)};let Fe;try{Fe=yield(yield fetch(Aa(O.appConfig),me)).json()}catch(qe){throw oi.create("token-subscribe-failed",{errorInfo:qe?.toString()})}if(Fe.error)throw oi.create("token-subscribe-failed",{errorInfo:Fe.error.message});if(!Fe.token)throw oi.create("token-subscribe-no-token");return Fe.token})).apply(this,arguments)}function El(C,T){return(o_=o_||(0,L.Z)(function*(O,R){const ne={method:"DELETE",headers:yield Bs(O)};try{const Fe=yield(yield fetch(`${Aa(O.appConfig)}/${R}`,ne)).json();if(Fe.error)throw oi.create("token-unsubscribe-failed",{errorInfo:Fe.error.message})}catch(me){throw oi.create("token-unsubscribe-failed",{errorInfo:me?.toString()})}})).apply(this,arguments)}function Aa({projectId:C}){return`${Ea}/projects/${C}/registrations`}function Bs(C){return(a_=a_||(0,L.Z)(function*({appConfig:T,installations:O}){const R=yield O.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T.apiKey,"x-goog-firebase-installations-auth":`FIS ${R}`})})).apply(this,arguments)}function Ma({p256dh:C,auth:T,endpoint:O,vapidKey:R}){const $={web:{endpoint:O,auth:T,p256dh:C}};return R!==ms&&($.web.applicationPubKey=R),$}const Dp=6048e5;function Il(C){return(yl=yl||(0,L.Z)(function*(T){const O=yield function sh(C,T){return(xu=xu||(0,L.Z)(function*(O,R){return(yield O.pushManager.getSubscription())||O.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:nh(R)})})).apply(this,arguments)}(T.swRegistration,T.vapidKey),R={vapidKey:T.vapidKey,swScope:T.swRegistration.scope,endpoint:O.endpoint,auth:ts(O.getKey("auth")),p256dh:ts(O.getKey("p256dh"))},$=yield wp(T.firebaseDependencies);if($){if(function oh(C,T){return T.vapidKey===C.vapidKey&&T.endpoint===C.endpoint&&T.auth===C.auth&&T.p256dh===C.p256dh}($.subscriptionOptions,R))return Date.now()>=$.createTime+Dp?function rh(C,T){return(c_=c_||(0,L.Z)(function*(O,R){try{const $=yield function Do(C,T){return(s_=s_||(0,L.Z)(function*(O,R){const $=yield Bs(O),ne=Ma(R.subscriptionOptions),me={method:"PATCH",headers:$,body:JSON.stringify(ne)};let Fe;try{Fe=yield(yield fetch(`${Aa(O.appConfig)}/${R.token}`,me)).json()}catch(qe){throw oi.create("token-update-failed",{errorInfo:qe?.toString()})}if(Fe.error)throw oi.create("token-update-failed",{errorInfo:Fe.error.message});if(!Fe.token)throw oi.create("token-update-no-token");return Fe.token})).apply(this,arguments)}(O.firebaseDependencies,R),ne=Object.assign(Object.assign({},R),{token:$,createTime:Date.now()});return yield Dl(O.firebaseDependencies,ne),$}catch($){throw yield function Lu(C){return(yo=yo||(0,L.Z)(function*(T){const O=yield wp(T.firebaseDependencies);O&&(yield El(T.firebaseDependencies,O.token),yield function Dc(C){return(Xd=Xd||(0,L.Z)(function*(T){const O=ku(T),$=(yield wc()).transaction(wo,"readwrite");yield $.objectStore(wo).delete(O),yield $.done})).apply(this,arguments)}(T.firebaseDependencies));const R=yield T.swRegistration.pushManager.getSubscription();return!R||R.unsubscribe()})).apply(this,arguments)}(O),$}})).apply(this,arguments)}(T,{token:$.token,createTime:Date.now(),subscriptionOptions:R}):$.token;try{yield El(T.firebaseDependencies,$.token)}catch(ne){console.warn(ne)}return ih(T.firebaseDependencies,R)}return ih(T.firebaseDependencies,R)})).apply(this,arguments)}function ih(C,T){return(no=no||(0,L.Z)(function*(O,R){const ne={token:yield Wy(O,R),createTime:Date.now(),subscriptionOptions:R};return yield Dl(O,ne),ne.token})).apply(this,arguments)}function Ec(C){const T={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function Cl(C,T){if(!T.notification)return;C.notification={};const O=T.notification.title;O&&(C.notification.title=O);const R=T.notification.body;R&&(C.notification.body=R);const $=T.notification.image;$&&(C.notification.image=$);const ne=T.notification.icon;ne&&(C.notification.icon=ne)}(T,C),function ah(C,T){T.data&&(C.data=T.data)}(T,C),function Bu(C,T){var O,R,$,ne,me;if(!(T.fcmOptions||null!==(O=T.notification)&&void 0!==O&&O.click_action))return;C.fcmOptions={};const Fe=null!==($=null===(R=T.fcmOptions)||void 0===R?void 0:R.link)&&void 0!==$?$:null===(ne=T.notification)||void 0===ne?void 0:ne.click_action;Fe&&(C.fcmOptions.link=Fe);const qe=null===(me=T.fcmOptions)||void 0===me?void 0:me.analytics_label;qe&&(C.fcmOptions.analyticsLabel=qe)}(T,C),T}function Sl(C,T){const O=[];for(let R=0;R<C.length;R++)O.push(C.charAt(R)),R<T.length&&O.push(T.charAt(R));return O.join("")}function Ic(C){return oi.create("missing-app-config-values",{valueName:C})}Sl("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Sl("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ip{constructor(T,O,R){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const $=function Ep(C){if(!C||!C.options)throw Ic("App Configuration Object");if(!C.name)throw Ic("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:O}=C;for(const R of T)if(!O[R])throw Ic(R);return{appName:C.name,projectId:O.projectId,apiKey:O.apiKey,appId:O.appId,senderId:O.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:$,installations:O,analyticsProvider:R}}_delete(){return Promise.resolve()}}function _n(C,T){return(th=th||(0,L.Z)(function*(O,R){if(!navigator)throw oi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw oi.create("permission-blocked");return yield function ch(C,T){return(u_=u_||(0,L.Z)(function*(O,R){R?O.vapidKey=R:O.vapidKey||(O.vapidKey=ms)})).apply(this,arguments)}(O,R?.vapidKey),yield function Vu(C,T){return(l_=l_||(0,L.Z)(function*(O,R){if(!R&&!O.swRegistration&&(yield function _s(C){return(eh=eh||(0,L.Z)(function*(T){try{T.swRegistration=yield navigator.serviceWorker.register(yc,{scope:ur}),T.swRegistration.update().catch(()=>{})}catch(O){throw oi.create("failed-service-worker-registration",{browserErrorMessage:O?.message})}})).apply(this,arguments)}(O)),R||!O.swRegistration){if(!(R instanceof ServiceWorkerRegistration))throw oi.create("invalid-sw-registration");O.swRegistration=R}})).apply(this,arguments)}(O,R?.serviceWorkerRegistration),Il(O)})).apply(this,arguments)}function Di(C,T){return(ro=ro||(0,L.Z)(function*(O,R){const $=R.data;if(!$.isFirebaseMessaging)return;O.onMessageHandler&&$.messageType===Ia.PUSH_RECEIVED&&("function"==typeof O.onMessageHandler?O.onMessageHandler(Ec($)):O.onMessageHandler.next(Ec($)));const ne=$.data;(function Tl(C){return"object"==typeof C&&!!C&&Ru in C})(ne)&&"1"===ne["google.c.a.e"]&&(yield function Cc(C,T,O){return(bi=bi||(0,L.Z)(function*(R,$,ne){const me=function Oa(C){switch(C){case Ia.NOTIFICATION_CLICKED:return"notification_open";case Ia.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}($);(yield R.firebaseDependencies.analyticsProvider.get()).logEvent(me,{message_id:ne[Ru],message_name:ne[Pu],message_time:ne[bc],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}(O,$.messageType,ne))})).apply(this,arguments)}const Cp="@firebase/messaging",xa=C=>{const T=new Ip(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",O=>Di(T,O)),T},Ei=C=>{const T=C.getProvider("messaging").getImmediate();return{getToken:R=>_n(T,R)}};function lh(){return(Nu=Nu||(0,L.Z)(function*(){try{yield(0,re.eu)()}catch{return!1}return typeof window<"u"&&(0,re.hl)()&&(0,re.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}var Vs,Uu,Bt,ju,Sp,dh,Ml,$u,Ap;!function Tp(){(0,ee.Xd)(new pe.wA("messaging",xa,"PUBLIC")),(0,ee.Xd)(new pe.wA("messaging-internal",Ei,"PRIVATE")),(0,ee.KN)(Cp,"0.12.4"),(0,ee.KN)(Cp,"0.12.4","esm2017")}();const Re="analytics",mn="firebase_id",ns="origin",Mp=6e4,zn="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ra="https://www.googletagmanager.com/gtag/js",Jn=new ye.Yd("@firebase/analytics"),Jr=new re.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function dr(C){if(!C.startsWith(Ra)){const T=Jr.create("invalid-gtag-resource",{gtagURL:C});return Jn.warn(T.message),""}return C}function mh(C){return Promise.all(C.map(T=>T.catch(O=>O)))}const Pa=30,Ac=new class h_{constructor(T={},O=1e3){this.throttleMetadata=T,this.intervalMillis=O}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,O){this.throttleMetadata[T]=O}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function Hu(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function Gu(C){return(ju=ju||(0,L.Z)(function*(T,O=Ac,R){const{appId:$,apiKey:ne,measurementId:me}=T.options;if(!$)throw Jr.create("no-app-id");if(!ne){if(me)return{measurementId:me,appId:$};throw Jr.create("no-api-key")}const Fe=O.getThrottleMetadata($)||{backoffCount:0,throttleEndTimeMillis:Date.now()},qe=new Mr;return setTimeout((0,L.Z)(function*(){qe.abort()}),void 0!==R?R:Mp),Pp({appId:$,apiKey:ne,measurementId:me},Fe,qe,O)})).apply(this,arguments)}function Pp(C,T,O){return(Sp=Sp||(0,L.Z)(function*(R,{throttleEndTimeMillis:$,backoffCount:ne},me,Fe=Ac){var qe;const{appId:pt,measurementId:It}=R;try{yield function kp(C,T){return new Promise((O,R)=>{const $=Math.max(T-Date.now(),0),ne=setTimeout(O,$);C.addEventListener(()=>{clearTimeout(ne),R(Jr.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(me,$)}catch(At){if(It)return Jn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${It} provided in the "measurementId" field in the local Firebase config. [${At?.message}]`),{appId:pt,measurementId:It};throw At}try{const At=yield function Rp(C){return(Bt=Bt||(0,L.Z)(function*(T){var O;const{appId:R,apiKey:$}=T,ne={method:"GET",headers:Hu($)},me=zn.replace("{app-id}",R),Fe=yield fetch(me,ne);if(200!==Fe.status&&304!==Fe.status){let qe="";try{const pt=yield Fe.json();null!==(O=pt.error)&&void 0!==O&&O.message&&(qe=pt.error.message)}catch{}throw Jr.create("config-fetch-failed",{httpStatus:Fe.status,responseMessage:qe})}return Fe.json()})).apply(this,arguments)}(R);return Fe.deleteThrottleMetadata(pt),At}catch(At){const qt=At;if(!function ai(C){if(!(C instanceof re.ZR&&C.customData))return!1;const T=Number(C.customData.httpStatus);return 429===T||500===T||503===T||504===T}(qt)){if(Fe.deleteThrottleMetadata(pt),It)return Jn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${It} provided in the "measurementId" field in the local Firebase config. [${qt?.message}]`),{appId:pt,measurementId:It};throw At}const Xn=503===Number(null===(qe=qt?.customData)||void 0===qe?void 0:qe.httpStatus)?(0,re.$s)(ne,Fe.intervalMillis,Pa):(0,re.$s)(ne,Fe.intervalMillis),Bn={throttleEndTimeMillis:Date.now()+Xn,backoffCount:ne+1};return Fe.setThrottleMetadata(pt,Bn),Jn.debug(`Calling attemptFetch again in ${Xn} millis`),Pp(R,Bn,me,Fe)}})).apply(this,arguments)}class Mr{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}let Ol,io;function Ht(C,T,O,R,$,ne,me){return($u=$u||(0,L.Z)(function*(Fe,qe,pt,It,At,qt,Xn){var Bn;const vn=Gu(Fe);vn.then(ui=>{pt[ui.measurementId]=ui.appId,Fe.options.measurementId&&ui.measurementId!==Fe.options.measurementId&&Jn.warn(`The measurement ID in the local Firebase config (${Fe.options.measurementId}) does not match the measurement ID fetched from the server (${ui.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ui=>Jn.error(ui)),qe.push(vn);const Rr=function Mc(){return(Ml=Ml||(0,L.Z)(function*(){if(!(0,re.hl)())return Jn.warn(Jr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,re.eu)()}catch(C){return Jn.warn(Jr.create("indexeddb-unavailable",{errorInfo:C?.toString()}).message),!1}return!0})).apply(this,arguments)}().then(ui=>{if(ui)return It.getId()}),[Ft,$i]=yield Promise.all([vn,Rr]);(function Np(C){const T=window.document.getElementsByTagName("script");for(const O of Object.values(T))if(O.src&&O.src.includes(Ra)&&O.src.includes(C))return O;return null})(qt)||function xp(C,T){const O=function Op(C,T){let O;return window.trustedTypes&&(O=window.trustedTypes.createPolicy(C,T)),O}("firebase-js-sdk-policy",{createScriptURL:dr}),R=document.createElement("script"),$=`${Ra}?l=${C}&id=${T}`;R.src=O?O?.createScriptURL($):$,R.async=!0,document.head.appendChild(R)}(qt,Ft.measurementId),io&&(At("consent","default",io),function Vn(C){io=C}(void 0)),At("js",new Date);const Ir=null!==(Bn=Xn?.config)&&void 0!==Bn?Bn:{};return Ir[ns]="firebase",Ir.update=!0,null!=$i&&(Ir[mn]=$i),At("config",Ft.measurementId,Ir),Ol&&(At("set",Ol),function Nl(C){Ol=C}(void 0)),Ft.measurementId})).apply(this,arguments)}class Lp{constructor(T){this.app=T}_delete(){return delete ys[this.app.options.appId],Promise.resolve()}}let ys={},Oc=[];const rs={};let xc,zr,is="dataLayer",ka=!1;function Io(C,T,O){!function vh(){const C=[];if((0,re.ru)()&&C.push("This is a browser extension environment."),(0,re.zI)()||C.push("Cookies are not available."),C.length>0){const T=C.map((R,$)=>`(${$+1}) ${R}`).join(" "),O=Jr.create("invalid-analytics-context",{errorInfo:T});Jn.warn(O.message)}}();const R=C.options.appId;if(!R)throw Jr.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw Jr.create("no-api-key");Jn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ys[R])throw Jr.create("already-exists",{id:R});if(!ka){!function Ii(C){let T=[];Array.isArray(window[C])?T=window[C]:window[C]=T}(is);const{wrappedGtag:ne,gtagCore:me}=function vs(C,T,O,R,$){let ne=function(...me){window[R].push(arguments)};return window[$]&&"function"==typeof window[$]&&(ne=window[$]),window[$]=function Tc(C,T,O,R){var $;return function ne(me){return($=$||(0,L.Z)(function*(Fe,...qe){try{if("event"===Fe){const[pt,It]=qe;yield function _h(C,T,O,R,$){return(Uu=Uu||(0,L.Z)(function*(ne,me,Fe,qe,pt){try{let It=[];if(pt&&pt.send_to){let At=pt.send_to;Array.isArray(At)||(At=[At]);const qt=yield mh(Fe);for(const Xn of At){const Bn=qt.find(Rr=>Rr.measurementId===Xn),vn=Bn&&me[Bn.appId];if(!vn){It=[];break}It.push(vn)}}0===It.length&&(It=Object.values(me)),yield Promise.all(It),ne("event",qe,pt||{})}catch(It){Jn.error(It)}})).apply(this,arguments)}(C,T,O,pt,It)}else if("config"===Fe){const[pt,It]=qe;yield function Eo(C,T,O,R,$,ne){return(Vs=Vs||(0,L.Z)(function*(me,Fe,qe,pt,It,At){const qt=pt[It];try{if(qt)yield Fe[qt];else{const Bn=(yield mh(qe)).find(vn=>vn.measurementId===It);Bn&&(yield Fe[Bn.appId])}}catch(Xn){Jn.error(Xn)}me("config",It,At)})).apply(this,arguments)}(C,T,O,R,pt,It)}else if("consent"===Fe){const[pt]=qe;C("consent","update",pt)}else if("get"===Fe){const[pt,It,At]=qe;C("get",pt,It,At)}else if("set"===Fe){const[pt]=qe;C("set",pt)}else C(Fe,...qe)}catch(pt){Jn.error(pt)}})).apply(this,arguments)}}(ne,C,T,O),{gtagCore:ne,wrappedGtag:window[$]}}(ys,Oc,rs,is,"gtag");zr=ne,xc=me,ka=!0}return ys[R]=Ht(C,Oc,rs,T,xc,is,O),new Lp(C)}function li(){return(Ap=Ap||(0,L.Z)(function*(){if((0,re.ru)()||!(0,re.zI)()||!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch{return!1}})).apply(this,arguments)}const Nc="@firebase/analytics";!function Or(){(0,ee.Xd)(new pe.wA(Re,(T,{options:O})=>Io(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),O),"PUBLIC")),(0,ee.Xd)(new pe.wA("analytics-internal",function C(T){try{const O=T.getProvider(Re).getImmediate();return{logEvent:(R,$,ne)=>function Ci(C,T,O,R){C=(0,re.m9)(C),function Qn(C,T,O,R,$){return(dh=dh||(0,L.Z)(function*(ne,me,Fe,qe,pt){if(pt&&pt.global)ne("event",Fe,qe);else{const It=yield me;ne("event",Fe,Object.assign(Object.assign({},qe),{send_to:It}))}})).apply(this,arguments)}(zr,ys[C.app.options.appId],T,O,R).catch($=>Jn.error($))}(O,R,$,ne)}}catch(O){throw Jr.create("interop-component-reg-failed",{reason:O})}},"PRIVATE")),(0,ee.KN)(Nc,"0.10.0"),(0,ee.KN)(Nc,"0.10.0","esm2017")}();var Un=k(1954),Wn=k(2631);const Rc=new class xr extends Wn.v{}(class Ko extends Un.o{constructor(T,O){super(T,O),this.scheduler=T,this.work=O}schedule(T,O=0){return O>0?super.schedule(T,O):(this.delay=O,this.state=T,this.scheduler.flush(this),this)}execute(T,O){return O>0||this.closed?super.execute(T,O):this._execute(T,O)}requestAsyncId(T,O,R=0){return null!=R&&R>0||null==R&&this.delay>0?super.requestAsyncId(T,O,R):(T.flush(this),0)}});var wh=k(6321),Nr=k(9397),Pc=k(5137),hr=k(3093);const so=new d.GfV("7.6.1"),kl="__angularfire_symbol__analyticsIsSupportedValue",oo="__angularfire_symbol__analyticsIsSupported",Yo="__angularfire_symbol__remoteConfigIsSupportedValue",qu="__angularfire_symbol__remoteConfigIsSupported",Co="__angularfire_symbol__messagingIsSupportedValue",Jo="__angularfire_symbol__messagingIsSupported";function Qo(C,T,O){if(T){if(1===T.length)return T[0];const ne=T.filter(me=>me.app===O);if(1===ne.length)return ne[0]}return O.container.getProvider(C).getImmediate({optional:!0})}globalThis[oo]||(globalThis[oo]=li().then(C=>globalThis[kl]=C).catch(()=>globalThis[kl]=!1)),globalThis[Jo]||(globalThis[Jo]=lh().then(C=>globalThis[Co]=C).catch(()=>globalThis[Co]=!1)),globalThis[qu]||(globalThis[qu]=Ls().then(C=>globalThis[Yo]=C).catch(()=>globalThis[Yo]=!1));const Xo=(C,T)=>{const O=T?[T]:(0,Q.C6)(),R=[];return O.forEach($=>{$.container.getProvider(C).instances.forEach(me=>{R.includes(me)||R.push(me)})}),R};function ea(){}class Zu{constructor(T,O=Rc){this.zone=T,this.delegate=O}now(){return this.delegate.now()}schedule(T,O,R){const $=this.zone;return this.delegate.schedule(function(me){$.runGuarded(()=>{T.apply(this,[me])})},O,R)}}class Ti{constructor(T){this.zone=T,this.task=null}call(T,O){const R=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ea,{},ea,ea)),O.pipe((0,Nr.b)({next:R,complete:R,error:R})).subscribe(T).add(R)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Dh=(()=>{class C{constructor(O){this.ngZone=O,this.outsideAngular=O.runOutsideAngular(()=>new Zu(Zone.current)),this.insideAngular=O.run(()=>new Zu(Zone.current,wh.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(O){return new(O||C)(d.LFG(d.R0b))},C.\u0275prov=d.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function or(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function Ku(C){return or(),function Fl(C){return function(O){return(O=O.lift(new Ti(C.ngZone))).pipe((0,Pc.R)(C.outsideAngular),(0,hr.Q)(C.insideAngular))}}(or())(C)}},9058:(bt,Ce,k)=>{k.d(Ce,{$s:()=>Xe,BH:()=>ae,G6:()=>Vr,L:()=>ve,LL:()=>Ve,Pz:()=>Me,Sg:()=>Te,UG:()=>$e,US:()=>pe,ZB:()=>te,ZR:()=>ze,aH:()=>se,b$:()=>En,eu:()=>fe,hl:()=>de,jU:()=>it,m9:()=>On,ne:()=>on,pd:()=>Et,r3:()=>Y,ru:()=>Nt,tV:()=>U,uI:()=>oe,vZ:()=>nt,w1:()=>Tn,xO:()=>gn,xb:()=>ge,z$:()=>He,zI:()=>De,zd:()=>at});const ee=function(z){const H=[];let J=0;for(let Ae=0;Ae<z.length;Ae++){let he=z.charCodeAt(Ae);he<128?H[J++]=he:he<2048?(H[J++]=he>>6|192,H[J++]=63&he|128):55296==(64512&he)&&Ae+1<z.length&&56320==(64512&z.charCodeAt(Ae+1))?(he=65536+((1023&he)<<10)+(1023&z.charCodeAt(++Ae)),H[J++]=he>>18|240,H[J++]=he>>12&63|128,H[J++]=he>>6&63|128,H[J++]=63&he|128):(H[J++]=he>>12|224,H[J++]=he>>6&63|128,H[J++]=63&he|128)}return H},pe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(z,H){if(!Array.isArray(z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const J=H?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ae=[];for(let he=0;he<z.length;he+=3){const vt=z[he],Lt=he+1<z.length,zt=Lt?z[he+1]:0,_r=he+2<z.length,Wt=_r?z[he+2]:0;let Ur=(15&zt)<<2|Wt>>6,Js=63&Wt;_r||(Js=64,Lt||(Ur=64)),Ae.push(J[vt>>2],J[(3&vt)<<4|zt>>4],J[Ur],J[Js])}return Ae.join("")},encodeString(z,H){return this.HAS_NATIVE_SUPPORT&&!H?btoa(z):this.encodeByteArray(ee(z),H)},decodeString(z,H){return this.HAS_NATIVE_SUPPORT&&!H?atob(z):function(z){const H=[];let J=0,Ae=0;for(;J<z.length;){const he=z[J++];if(he<128)H[Ae++]=String.fromCharCode(he);else if(he>191&&he<224){const vt=z[J++];H[Ae++]=String.fromCharCode((31&he)<<6|63&vt)}else if(he>239&&he<365){const _r=((7&he)<<18|(63&z[J++])<<12|(63&z[J++])<<6|63&z[J++])-65536;H[Ae++]=String.fromCharCode(55296+(_r>>10)),H[Ae++]=String.fromCharCode(56320+(1023&_r))}else{const vt=z[J++],Lt=z[J++];H[Ae++]=String.fromCharCode((15&he)<<12|(63&vt)<<6|63&Lt)}}return H.join("")}(this.decodeStringToByteArray(z,H))},decodeStringToByteArray(z,H){this.init_();const J=H?this.charToByteMapWebSafe_:this.charToByteMap_,Ae=[];for(let he=0;he<z.length;){const vt=J[z.charAt(he++)],zt=he<z.length?J[z.charAt(he)]:0;++he;const Wt=he<z.length?J[z.charAt(he)]:64;++he;const Yt=he<z.length?J[z.charAt(he)]:64;if(++he,null==vt||null==zt||null==Wt||null==Yt)throw new ye;Ae.push(vt<<2|zt>>4),64!==Wt&&(Ae.push(zt<<4&240|Wt>>2),64!==Yt&&Ae.push(Wt<<6&192|Yt))}return Ae},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let z=0;z<this.ENCODED_VALS.length;z++)this.byteToCharMap_[z]=this.ENCODED_VALS.charAt(z),this.charToByteMap_[this.byteToCharMap_[z]]=z,this.byteToCharMapWebSafe_[z]=this.ENCODED_VALS_WEBSAFE.charAt(z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[z]]=z,z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(z)]=z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(z)]=z)}}};class ye extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ve=function(z){return function(z){const H=ee(z);return pe.encodeByteArray(H,!0)}(z).replace(/\./g,"")},U=function(z){try{return pe.decodeString(z,!0)}catch(H){console.error("base64Decode failed: ",H)}return null};function te(z,H){if(!(H instanceof Object))return H;switch(H.constructor){case Date:return new Date(H.getTime());case Object:void 0===z&&(z={});break;case Array:z=[];break;default:return H}for(const J in H)!H.hasOwnProperty(J)||!ke(J)||(z[J]=te(z[J],H[J]));return z}function ke(z){return"__proto__"!==z}const Ne=()=>{try{return function Oe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const z=process.env.__FIREBASE_DEFAULTS__;return z?JSON.parse(z):void 0})()||(()=>{if(typeof document>"u")return;let z;try{z=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const H=z&&U(z[1]);return H&&JSON.parse(H)})()}catch(z){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${z}`)}},se=()=>{var z;return null===(z=Ne())||void 0===z?void 0:z.config},Me=z=>{var H;return null===(H=Ne())||void 0===H?void 0:H[`_${z}`]};class ae{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((H,J)=>{this.resolve=H,this.reject=J})}wrapCallback(H){return(J,Ae)=>{J?this.reject(J):this.resolve(Ae),"function"==typeof H&&(this.promise.catch(()=>{}),1===H.length?H(J):H(J,Ae))}}}function Te(z,H){if(z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ae=H||"demo-project",he=z.iat||0,vt=z.sub||z.user_id;if(!vt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Lt=Object.assign({iss:`https://securetoken.google.com/${Ae}`,aud:Ae,iat:he,exp:he+3600,auth_time:he,sub:vt,user_id:vt,firebase:{sign_in_provider:"custom",identities:{}}},z);return[ve(JSON.stringify({alg:"none",type:"JWT"})),ve(JSON.stringify(Lt)),""].join(".")}function He(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function oe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(He())}function $e(){var z;const H=null===(z=Ne())||void 0===z?void 0:z.forceEnvironment;if("node"===H)return!0;if("browser"===H)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function it(){return"object"==typeof self&&self.self===self}function Nt(){const z="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof z&&void 0!==z.id}function En(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Tn(){const z=He();return z.indexOf("MSIE ")>=0||z.indexOf("Trident/")>=0}function Vr(){return!$e()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function de(){try{return"object"==typeof indexedDB}catch{return!1}}function fe(){return new Promise((z,H)=>{try{let J=!0;const Ae="validate-browser-context-for-indexeddb-analytics-module",he=self.indexedDB.open(Ae);he.onsuccess=()=>{he.result.close(),J||self.indexedDB.deleteDatabase(Ae),z(!0)},he.onupgradeneeded=()=>{J=!1},he.onerror=()=>{var vt;H((null===(vt=he.error)||void 0===vt?void 0:vt.message)||"")}}catch(J){H(J)}})}function De(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ze extends Error{constructor(H,J,Ae){super(J),this.code=H,this.customData=Ae,this.name="FirebaseError",Object.setPrototypeOf(this,ze.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ve.prototype.create)}}class Ve{constructor(H,J,Ae){this.service=H,this.serviceName=J,this.errors=Ae}create(H,...J){const Ae=J[0]||{},he=`${this.service}/${H}`,vt=this.errors[H],Lt=vt?function mt(z,H){return z.replace(tt,(J,Ae)=>{const he=H[Ae];return null!=he?String(he):`<${Ae}?>`})}(vt,Ae):"Error";return new ze(he,`${this.serviceName}: ${Lt} (${he}).`,Ae)}}const tt=/\{\$([^}]+)}/g;function Y(z,H){return Object.prototype.hasOwnProperty.call(z,H)}function ge(z){for(const H in z)if(Object.prototype.hasOwnProperty.call(z,H))return!1;return!0}function nt(z,H){if(z===H)return!0;const J=Object.keys(z),Ae=Object.keys(H);for(const he of J){if(!Ae.includes(he))return!1;const vt=z[he],Lt=H[he];if(ft(vt)&&ft(Lt)){if(!nt(vt,Lt))return!1}else if(vt!==Lt)return!1}for(const he of Ae)if(!J.includes(he))return!1;return!0}function ft(z){return null!==z&&"object"==typeof z}function gn(z){const H=[];for(const[J,Ae]of Object.entries(z))Array.isArray(Ae)?Ae.forEach(he=>{H.push(encodeURIComponent(J)+"="+encodeURIComponent(he))}):H.push(encodeURIComponent(J)+"="+encodeURIComponent(Ae));return H.length?"&"+H.join("&"):""}function at(z){const H={};return z.replace(/^\?/,"").split("&").forEach(Ae=>{if(Ae){const[he,vt]=Ae.split("=");H[decodeURIComponent(he)]=decodeURIComponent(vt)}}),H}function Et(z){const H=z.indexOf("?");if(!H)return"";const J=z.indexOf("#",H);return z.substring(H,J>0?J:void 0)}function on(z,H){const J=new tr(z,H);return J.subscribe.bind(J)}class tr{constructor(H,J){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=J,this.task.then(()=>{H(this)}).catch(Ae=>{this.error(Ae)})}next(H){this.forEachObserver(J=>{J.next(H)})}error(H){this.forEachObserver(J=>{J.error(H)}),this.close(H)}complete(){this.forEachObserver(H=>{H.complete()}),this.close()}subscribe(H,J,Ae){let he;if(void 0===H&&void 0===J&&void 0===Ae)throw new Error("Missing Observer.");he=function Gt(z,H){if("object"!=typeof z||null===z)return!1;for(const J of H)if(J in z&&"function"==typeof z[J])return!0;return!1}(H,["next","error","complete"])?H:{next:H,error:J,complete:Ae},void 0===he.next&&(he.next=kn),void 0===he.error&&(he.error=kn),void 0===he.complete&&(he.complete=kn);const vt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?he.error(this.finalError):he.complete()}catch{}}),this.observers.push(he),vt}unsubscribeOne(H){void 0===this.observers||void 0===this.observers[H]||(delete this.observers[H],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(H){if(!this.finalized)for(let J=0;J<this.observers.length;J++)this.sendOne(J,H)}sendOne(H,J){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[H])try{J(this.observers[H])}catch(Ae){typeof console<"u"&&console.error&&console.error(Ae)}})}close(H){this.finalized||(this.finalized=!0,void 0!==H&&(this.finalError=H),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kn(){}const Uo=1e3,Ue=2,q=144e5,Ee=.5;function Xe(z,H=Uo,J=Ue){const Ae=H*Math.pow(J,z),he=Math.round(Ee*Ae*(Math.random()-.5)*2);return Math.min(q,Ae+he)}function On(z){return z&&z._delegate?z._delegate:z}},1938:(bt,Ce,k)=>{var d=k(5879);let Q=null;function L(){return Q}class re{}const pe=new d.OlP("DocumentToken");let ye=(()=>{var t;class e{historyGo(n){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=d.Yz7({token:t,factory:function(){return(0,d.f3M)(ve)},providedIn:"platform"}),e})();const Pe=new d.OlP("Location Initialized");let ve=(()=>{var t;class e extends ye{constructor(){super(),this._doc=(0,d.f3M)(pe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return L().getBaseHref(this._doc)}onPopState(n){const i=L().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",n,!1),()=>i.removeEventListener("popstate",n)}onHashChange(n){const i=L().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",n,!1),()=>i.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,i,a){this._history.pushState(n,i,a)}replaceState(n,i,a){this._history.replaceState(n,i,a)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=d.Yz7({token:t,factory:function(){return new t},providedIn:"platform"}),e})();function U(t,e){if(0==t.length)return e;if(0==e.length)return t;let r=0;return t.endsWith("/")&&r++,e.startsWith("/")&&r++,2==r?t+e.substring(1):1==r?t+e:t+"/"+e}function G(t){const e=t.match(/#|\?|$/),r=e&&e.index||t.length;return t.slice(0,r-("/"===t[r-1]?1:0))+t.slice(r)}function te(t){return t&&"?"!==t[0]?"?"+t:t}let ke=(()=>{var t;class e{historyGo(n){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=d.Yz7({token:t,factory:function(){return(0,d.f3M)(et)},providedIn:"root"}),e})();const Oe=new d.OlP("appBaseHref");let et=(()=>{var t;class e extends ke{constructor(n,i){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,d.f3M)(pe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return U(this._baseHref,n)}path(n=!1){const i=this._platformLocation.pathname+te(this._platformLocation.search),a=this._platformLocation.hash;return a&&n?`${i}${a}`:i}pushState(n,i,a,l){const f=this.prepareExternalUrl(a+te(l));this._platformLocation.pushState(n,i,f)}replaceState(n,i,a,l){const f=this.prepareExternalUrl(a+te(l));this._platformLocation.replaceState(n,i,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return(t=e).\u0275fac=function(n){return new(n||t)(d.LFG(ye),d.LFG(Oe,8))},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Be=(()=>{var t;class e extends ke{constructor(n,i){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(n){const i=U(this._baseHref,n);return i.length>0?"#"+i:i}pushState(n,i,a,l){let f=this.prepareExternalUrl(a+te(l));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.pushState(n,i,f)}replaceState(n,i,a,l){let f=this.prepareExternalUrl(a+te(l));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.replaceState(n,i,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return(t=e).\u0275fac=function(n){return new(n||t)(d.LFG(ye),d.LFG(Oe,8))},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac}),e})(),rt=(()=>{var t;class e{constructor(n){this._subject=new d.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const i=this._locationStrategy.getBaseHref();this._basePath=function se(t){if(new RegExp("^(https?:)?//").test(t)){const[,r]=t.split(/\/\/[^\/]+/);return r}return t}(G(Dt(i))),this._locationStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,i=""){return this.path()==this.normalize(n+te(i))}normalize(n){return e.stripTrailingSlash(function Ct(t,e){if(!t||!e.startsWith(t))return e;const r=e.substring(t.length);return""===r||["/",";","?","#"].includes(r[0])?r:e}(this._basePath,Dt(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,i="",a=null){this._locationStrategy.pushState(a,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+te(i)),a)}replaceState(n,i="",a=null){this._locationStrategy.replaceState(a,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+te(i)),a)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",i){this._urlChangeListeners.forEach(a=>a(n,i))}subscribe(n,i,a){return this._subject.subscribe({next:n,error:i,complete:a})}}return(t=e).normalizeQueryParams=te,t.joinWithSlash=U,t.stripTrailingSlash=G,t.\u0275fac=function(n){return new(n||t)(d.LFG(ke))},t.\u0275prov=d.Yz7({token:t,factory:function(){return function Ne(){return new rt((0,d.LFG)(ke))}()},providedIn:"root"}),e})();function Dt(t){return t.replace(/\/index.html$/,"")}let ir=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({}),e})();function ri(t){return"server"===t}let ps=(()=>{var t;class e{}return(t=e).\u0275prov=(0,d.Yz7)({token:t,providedIn:"root",factory:()=>new mc((0,d.LFG)(pe),window)}),e})();class mc{constructor(e,r){this.document=e,this.window=r,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const r=function Iu(t,e){const r=t.getElementById(e)||t.getElementsByName(e)[0];if(r)return r;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=n.currentNode;for(;i;){const a=i.shadowRoot;if(a){const l=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(l)return l}i=n.nextNode()}}return null}(this.document,e);r&&(this.scrollToElement(r),r.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const r=e.getBoundingClientRect(),n=r.left+this.window.pageXOffset,i=r.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(n-a[0],i-a[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Aa extends re{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Bs extends Aa{static makeCurrent(){!function ee(t){Q||(Q=t)}(new Bs)}onAndCancel(e,r,n){return e.addEventListener(r,n),()=>{e.removeEventListener(r,n)}}dispatchEvent(e,r){e.dispatchEvent(r)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,r){return(r=r||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,r){return"window"===r?window:"document"===r?e:"body"===r?e.body:null}getBaseHref(e){const r=function Dp(){return Ma=Ma||document.querySelector("base"),Ma?Ma.getAttribute("href"):null}();return null==r?null:function Lu(t){Il=Il||document.createElement("a"),Il.setAttribute("href",t);const e=Il.pathname;return"/"===e.charAt(0)?e:`/${e}`}(r)}resetBaseElement(){Ma=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Ke(t,e){e=encodeURIComponent(e);for(const r of t.split(";")){const n=r.indexOf("="),[i,a]=-1==n?[r,""]:[r.slice(0,n),r.slice(n+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let Il,Ma=null,ih=(()=>{var t;class e{build(){return new XMLHttpRequest}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac}),e})();const sh=new d.OlP("EventManagerPlugins");let oh=(()=>{var t;class e{constructor(n,i){this._zone=i,this._eventNameToPlugin=new Map,n.forEach(a=>{a.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,i,a){return this._findPluginFor(i).addEventListener(n,i,a)}getZone(){return this._zone}_findPluginFor(n){let i=this._eventNameToPlugin.get(n);if(i)return i;if(i=this._plugins.find(l=>l.supports(n)),!i)throw new d.vHH(5101,!1);return this._eventNameToPlugin.set(n,i),i}}return(t=e).\u0275fac=function(n){return new(n||t)(d.LFG(sh),d.LFG(d.R0b))},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac}),e})();class Ec{constructor(e){this._doc=e}}const Cl="ng-app-id";let ah=(()=>{var t;class e{constructor(n,i,a,l={}){this.doc=n,this.appId=i,this.nonce=a,this.platformId=l,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=ri(l),this.resetHostNodes()}addStyles(n){for(const i of n)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(n){for(const i of n)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(i=>i.remove()),n.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const i of this.getAllStyles())this.addStyleToHost(n,i)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const i of this.hostNodes)this.addStyleToHost(i,n)}onStyleRemoved(n){const i=this.styleRef;i.get(n)?.elements?.forEach(a=>a.remove()),i.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${Cl}="${this.appId}"]`);if(n?.length){const i=new Map;return n.forEach(a=>{null!=a.textContent&&i.set(a.textContent,a)}),i}return null}changeUsageCount(n,i){const a=this.styleRef;if(a.has(n)){const l=a.get(n);return l.usage+=i,l.usage}return a.set(n,{usage:i,elements:[]}),i}getStyleElement(n,i){const a=this.styleNodesInDOM,l=a?.get(i);if(l?.parentNode===n)return a.delete(i),l.removeAttribute(Cl),l;{const f=this.doc.createElement("style");return this.nonce&&f.setAttribute("nonce",this.nonce),f.textContent=i,this.platformIsServer&&f.setAttribute(Cl,this.appId),f}}addStyleToHost(n,i){const a=this.getStyleElement(n,i);n.appendChild(a);const l=this.styleRef,f=l.get(i)?.elements;f?f.push(a):l.set(i,{elements:[a],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return(t=e).\u0275fac=function(n){return new(n||t)(d.LFG(pe),d.LFG(d.AFp),d.LFG(d.Ojb,8),d.LFG(d.Lbi))},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac}),e})();const Bu={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Tl=/%COMP%/g,_s=new d.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function _n(t,e){return e.map(r=>r.replace(Tl,t))}let Cc=(()=>{var t;class e{constructor(n,i,a,l,f,_,y,I=null){this.eventManager=n,this.sharedStylesHost=i,this.appId=a,this.removeStylesOnCompDestroy=l,this.doc=f,this.platformId=_,this.ngZone=y,this.nonce=I,this.rendererByCompId=new Map,this.platformIsServer=ri(_),this.defaultRenderer=new Oa(n,f,y,this.platformIsServer)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===d.ifc.ShadowDom&&(i={...i,encapsulation:d.ifc.Emulated});const a=this.getOrCreateRenderer(n,i);return a instanceof Tp?a.applyToHost(n):a instanceof Ei&&a.applyStyles(),a}getOrCreateRenderer(n,i){const a=this.rendererByCompId;let l=a.get(i.id);if(!l){const f=this.doc,_=this.ngZone,y=this.eventManager,I=this.sharedStylesHost,M=this.removeStylesOnCompDestroy,F=this.platformIsServer;switch(i.encapsulation){case d.ifc.Emulated:l=new Tp(y,I,i,this.appId,M,f,_,F);break;case d.ifc.ShadowDom:return new xa(y,I,n,i,f,_,this.nonce,F);default:l=new Ei(y,I,i,M,f,_,F)}a.set(i.id,l)}return l}ngOnDestroy(){this.rendererByCompId.clear()}}return(t=e).\u0275fac=function(n){return new(n||t)(d.LFG(oh),d.LFG(ah),d.LFG(d.AFp),d.LFG(_s),d.LFG(pe),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(d.Ojb))},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac}),e})();class Oa{constructor(e,r,n,i){this.eventManager=e,this.doc=r,this.ngZone=n,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,r){return r?this.doc.createElementNS(Bu[r]||r,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,r){(Al(e)?e.content:e).appendChild(r)}insertBefore(e,r,n){e&&(Al(e)?e.content:e).insertBefore(r,n)}removeChild(e,r){e&&e.removeChild(r)}selectRootElement(e,r){let n="string"==typeof e?this.doc.querySelector(e):e;if(!n)throw new d.vHH(-5104,!1);return r||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,r,n,i){if(i){r=i+":"+r;const a=Bu[i];a?e.setAttributeNS(a,r,n):e.setAttribute(r,n)}else e.setAttribute(r,n)}removeAttribute(e,r,n){if(n){const i=Bu[n];i?e.removeAttributeNS(i,r):e.removeAttribute(`${n}:${r}`)}else e.removeAttribute(r)}addClass(e,r){e.classList.add(r)}removeClass(e,r){e.classList.remove(r)}setStyle(e,r,n,i){i&(d.JOm.DashCase|d.JOm.Important)?e.style.setProperty(r,n,i&d.JOm.Important?"important":""):e.style[r]=n}removeStyle(e,r,n){n&d.JOm.DashCase?e.style.removeProperty(r):e.style[r]=""}setProperty(e,r,n){e[r]=n}setValue(e,r){e.nodeValue=r}listen(e,r,n){if("string"==typeof e&&!(e=L().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${r}`);return this.eventManager.addEventListener(e,r,this.decoratePreventDefault(n))}decoratePreventDefault(e){return r=>{if("__ngUnwrap__"===r)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(r)):e(r))&&r.preventDefault()}}}function Al(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class xa extends Oa{constructor(e,r,n,i,a,l,f,_){super(e,a,l,_),this.sharedStylesHost=r,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const y=_n(i.id,i.styles);for(const I of y){const M=document.createElement("style");f&&M.setAttribute("nonce",f),M.textContent=I,this.shadowRoot.appendChild(M)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,r){return super.appendChild(this.nodeOrShadowRoot(e),r)}insertBefore(e,r,n){return super.insertBefore(this.nodeOrShadowRoot(e),r,n)}removeChild(e,r){return super.removeChild(this.nodeOrShadowRoot(e),r)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ei extends Oa{constructor(e,r,n,i,a,l,f,_){super(e,a,l,f),this.sharedStylesHost=r,this.removeStylesOnCompDestroy=i,this.styles=_?_n(_,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Tp extends Ei{constructor(e,r,n,i,a,l,f,_){const y=i+"-"+n.id;super(e,r,n,a,l,f,_,y),this.contentAttr=function Vu(t){return"_ngcontent-%COMP%".replace(Tl,t)}(y),this.hostAttr=function ch(t){return"_nghost-%COMP%".replace(Tl,t)}(y)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,r){const n=super.createElement(e,r);return super.setAttribute(n,this.contentAttr,""),n}}let lh=(()=>{var t;class e extends Ec{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,a){return n.addEventListener(i,a,!1),()=>this.removeEventListener(n,i,a)}removeEventListener(n,i,a){return n.removeEventListener(i,a)}}return(t=e).\u0275fac=function(n){return new(n||t)(d.LFG(pe))},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac}),e})();const uh=["alt","control","meta","shift"],Zo={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},d_={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let qy=(()=>{var t;class e extends Ec{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,i,a){const l=e.parseEventName(i),f=e.eventCallback(l.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>L().onAndCancel(n,l.domEventName,f))}static parseEventName(n){const i=n.toLowerCase().split("."),a=i.shift();if(0===i.length||"keydown"!==a&&"keyup"!==a)return null;const l=e._normalizeKey(i.pop());let f="",_=i.indexOf("code");if(_>-1&&(i.splice(_,1),f="code."),uh.forEach(I=>{const M=i.indexOf(I);M>-1&&(i.splice(M,1),f+=I+".")}),f+=l,0!=i.length||0===l.length)return null;const y={};return y.domEventName=a,y.fullKey=f,y}static matchEventFullKeyCode(n,i){let a=Zo[n.key]||n.key,l="";return i.indexOf("code.")>-1&&(a=n.code,l="code."),!(null==a||!a)&&(a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),uh.forEach(f=>{f!==a&&(0,d_[f])(n)&&(l+=f+".")}),l+=a,l===i)}static eventCallback(n,i,a){return l=>{e.matchEventFullKeyCode(l,n)&&a.runGuarded(()=>i(l))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return(t=e).\u0275fac=function(n){return new(n||t)(d.LFG(pe))},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac}),e})();const hh=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:"browser"},{provide:d.g9A,useValue:function Bt(){Bs.makeCurrent()},multi:!0},{provide:pe,useFactory:function Sp(){return(0,d.RDi)(document),document},deps:[]}]),fh=new d.OlP(""),Na=[{provide:d.rWj,useClass:class rh{addToWindow(e){d.dqk.getAngularTestability=(n,i=!0)=>{const a=e.findTestabilityInTree(n,i);if(null==a)throw new d.vHH(5103,!1);return a},d.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(n=>{const i=d.dqk.getAllAngularTestabilities();let a=i.length,l=!1;const f=function(_){l=l||_,a--,0==a&&n(l)};i.forEach(_=>{_.whenStable(f)})})}findTestabilityInTree(e,r,n){return null==r?null:e.getTestability(r)??(n?L().isShadowRoot(r)?this.findTestabilityInTree(e,r.host,!0):this.findTestabilityInTree(e,r.parentElement,!0):null)}},deps:[]},{provide:d.lri,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]}],Us=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function ju(){return new d.qLn},deps:[]},{provide:sh,useClass:lh,multi:!0,deps:[pe,d.R0b,d.Lbi]},{provide:sh,useClass:qy,multi:!0,deps:[pe]},Cc,ah,oh,{provide:d.FYo,useExisting:Cc},{provide:class Ls{},useClass:ih,deps:[]},[]];let ph=(()=>{var t;class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:d.AFp,useValue:n.appId}]}}}return(t=e).\u0275fac=function(n){return new(n||t)(d.LFG(fh,12))},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({providers:[...Us,...Na],imports:[ir,d.hGG]}),e})(),Re=(()=>{var t;class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return(t=e).\u0275fac=function(n){return new(n||t)(d.LFG(pe))},t.\u0275prov=d.Yz7({token:t,factory:function(n){let i=null;return i=n?new n:function gh(){return new Re((0,d.LFG)(pe))}(),i},providedIn:"root"}),e})();typeof window<"u"&&window;var ai=k(5592),Mr=k(4674),Qn=k(2459),Rt=k(2096),ji=k(5619);const{isArray:Fp}=Array,{getPrototypeOf:xl,prototype:ci,keys:io}=Object;function Vn(t){if(1===t.length){const e=t[0];if(Fp(e))return{args:e,keys:null};if(function Nl(t){return t&&"object"==typeof t&&xl(t)===ci}(e)){const r=io(e);return{args:r.map(n=>e[n]),keys:r}}}return{args:t,keys:null}}var Mc=k(2737),Ht=k(7398);const{isArray:Lp}=Array;function Oc(t){return(0,Ht.U)(e=>function ys(t,e){return Lp(e)?t(...e):t(e)}(t,e))}var rs=k(9940);function is(t,e){return t.reduce((r,n,i)=>(r[n]=e[i],r),{})}var Er=k(8251),xc=k(7103);function zr(...t){const e=(0,rs.yG)(t),r=(0,rs.jO)(t),{args:n,keys:i}=Vn(t);if(0===n.length)return(0,Qn.D)([],e);const a=new ai.y(function ka(t,e,r=Mc.y){return n=>{zu(e,()=>{const{length:i}=t,a=new Array(i);let l=i,f=i;for(let _=0;_<i;_++)zu(e,()=>{const y=(0,Qn.D)(t[_],e);let I=!1;y.subscribe((0,Er.x)(n,M=>{a[_]=M,I||(I=!0,f--),f||n.next(r(a.slice()))},()=>{--l||n.complete()}))},n)},n)}}(n,e,i?l=>is(i,l):Mc.y));return r?a.pipe(Oc(r)):a}function zu(t,e,r){t?(0,xc.f)(r,t,e):e()}const Io=(0,k(2306).d)(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});var Rl=k(7537);function li(...t){return function js(){return(0,Rl.J)(1)}()((0,Qn.D)(t,(0,rs.yG)(t)))}var bs=k(4829);function f_(t){return new ai.y(e=>{(0,bs.Xf)(t()).subscribe(e)})}var yh=k(8407);function Wu(t,e){const r=(0,Mr.m)(t)?t:()=>t,n=i=>i.error(r());return new ai.y(e?i=>e.schedule(n,0,i):n)}var $s=k(6232),bh=k(7394),Ci=k(9360);function Bp(){return(0,Ci.e)((t,e)=>{let r=null;t._refCount++;const n=(0,Er.x)(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(r=null);const i=t._connection,a=r;r=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(n),n.closed||(r=t.connect())})}class Nc extends ai.y{constructor(e,r){super(),this.source=e,this.subjectFactory=r,this._subject=null,this._refCount=0,this._connection=null,(0,Ci.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new bh.w0;const r=this.getSubject();e.add(this.source.subscribe((0,Er.x)(r,void 0,()=>{this._teardown(),r.complete()},n=>{this._teardown(),r.error(n)},()=>this._teardown()))),e.closed&&(this._connection=null,e=bh.w0.EMPTY)}return e}refCount(){return Bp()(this)}}var wn=k(8645),Or=k(4664);function Un(t){return t<=0?()=>$s.E:(0,Ci.e)((e,r)=>{let n=0;e.subscribe((0,Er.x)(r,i=>{++n<=t&&(r.next(i),t<=n&&r.complete())}))})}function Ko(...t){const e=(0,rs.yG)(t);return(0,Ci.e)((r,n)=>{(e?li(t,r,e):li(t,r)).subscribe(n)})}function Wn(t,e){return(0,Ci.e)((r,n)=>{let i=0;r.subscribe((0,Er.x)(n,a=>t.call(e,a,i++)&&n.next(a)))})}var xr=k(1631);function Rc(t){return(0,Ci.e)((e,r)=>{let n=!1;e.subscribe((0,Er.x)(r,i=>{n=!0,r.next(i)},()=>{n||r.next(t),r.complete()}))})}function Pl(t=wh){return(0,Ci.e)((e,r)=>{let n=!1;e.subscribe((0,Er.x)(r,i=>{n=!0,r.next(i)},()=>n?r.complete():r.error(t())))})}function wh(){return new Io}function Nr(t,e){const r=arguments.length>=2;return n=>n.pipe(t?Wn((i,a)=>t(i,a,n)):Mc.y,Un(1),r?Rc(e):Pl(()=>new Io))}function Pc(t,e){return(0,Mr.m)(e)?(0,xr.z)(t,e,1):(0,xr.z)(t,1)}var hr=k(9397);function so(t){return(0,Ci.e)((e,r)=>{let a,n=null,i=!1;n=e.subscribe((0,Er.x)(r,void 0,void 0,l=>{a=(0,bs.Xf)(t(l,so(t)(e))),n?(n.unsubscribe(),n=null,a.subscribe(r)):i=!0})),i&&(n.unsubscribe(),n=null,a.subscribe(r))})}function oo(t,e){return(0,Ci.e)(function kl(t,e,r,n,i){return(a,l)=>{let f=r,_=e,y=0;a.subscribe((0,Er.x)(l,I=>{const M=y++;_=f?t(_,I,M):(f=!0,I),n&&l.next(_)},i&&(()=>{f&&l.next(_),l.complete()})))}}(t,e,arguments.length>=2,!0))}function Yo(t){return t<=0?()=>$s.E:(0,Ci.e)((e,r)=>{let n=[];e.subscribe((0,Er.x)(r,i=>{n.push(i),t<n.length&&n.shift()},()=>{for(const i of n)r.next(i);r.complete()},void 0,()=>{n=null}))})}function Jo(t){return(0,Ci.e)((e,r)=>{try{e.subscribe(r)}finally{r.add(t)}})}var Fa=k(2420);function sr(t){return(0,Ci.e)((e,r)=>{(0,bs.Xf)(t).subscribe((0,Er.x)(r,()=>r.complete(),Fa.Z)),!r.closed&&e.subscribe(r)})}const Jt="primary",To=Symbol("RouteTitle");class Qo{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const r=this.params[e];return Array.isArray(r)?r[0]:r}return null}getAll(e){if(this.has(e)){const r=this.params[e];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}}function Xo(t){return new Qo(t)}function ea(t,e,r){const n=r.path.split("/");if(n.length>t.length||"full"===r.pathMatch&&(e.hasChildren()||n.length<t.length))return null;const i={};for(let a=0;a<n.length;a++){const l=n[a],f=t[a];if(l.startsWith(":"))i[l.substring(1)]=f;else if(l!==f.path)return null}return{consumed:t.slice(0,n.length),posParams:i}}function Ti(t,e){const r=t?Object.keys(t):void 0,n=e?Object.keys(e):void 0;if(!r||!n||r.length!=n.length)return!1;let i;for(let a=0;a<r.length;a++)if(i=r[a],!Dh(t[i],e[i]))return!1;return!0}function Dh(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const r=[...t].sort(),n=[...e].sort();return r.every((i,a)=>n[a]===i)}return t===e}function or(t){return t.length>0?t[t.length-1]:null}function ao(t){return function Ol(t){return!!t&&(t instanceof ai.y||(0,Mr.m)(t.lift)&&(0,Mr.m)(t.subscribe))}(t)?t:(0,d.QGY)(t)?(0,Qn.D)(Promise.resolve(t)):(0,Rt.of)(t)}const So={exact:function Fl(t,e,r){if(!me(t.segments,e.segments)||!T(t.segments,e.segments,r)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children)if(!t.children[n]||!Fl(t.children[n],e.children[n],r))return!1;return!0},subset:Va},La={exact:function Ku(t,e){return Ti(t,e)},subset:function Ba(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(r=>Dh(t[r],e[r]))},ignored:()=>!0};function Vp(t,e,r){return So[r.paths](t.root,e.root,r.matrixParams)&&La[r.queryParams](t.queryParams,e.queryParams)&&!("exact"===r.fragment&&t.fragment!==e.fragment)}function Va(t,e,r){return C(t,e,e.segments,r)}function C(t,e,r,n){if(t.segments.length>r.length){const i=t.segments.slice(0,r.length);return!(!me(i,r)||e.hasChildren()||!T(i,r,n))}if(t.segments.length===r.length){if(!me(t.segments,r)||!T(t.segments,r,n))return!1;for(const i in e.children)if(!t.children[i]||!Va(t.children[i],e.children[i],n))return!1;return!0}{const i=r.slice(0,t.segments.length),a=r.slice(t.segments.length);return!!(me(t.segments,i)&&T(t.segments,i,n)&&t.children[Jt])&&C(t.children[Jt],e,a,n)}}function T(t,e,r){return e.every((n,i)=>La[r](t[i].parameters,n.parameters))}class O{constructor(e=new R([],{}),r={},n=null){this.root=e,this.queryParams=r,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xo(this.queryParams)),this._queryParamMap}toString(){return It.serialize(this)}}class R{constructor(e,r){this.segments=e,this.children=r,this.parent=null,Object.values(r).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return At(this)}}class ${constructor(e,r){this.path=e,this.parameters=r}get parameterMap(){return this._parameterMap||(this._parameterMap=Xo(this.parameters)),this._parameterMap}toString(){return Ir(this)}}function me(t,e){return t.length===e.length&&t.every((r,n)=>r.path===e[n].path)}let qe=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=d.Yz7({token:t,factory:function(){return new pt},providedIn:"root"}),e})();class pt{parse(e){const r=new Ll(e);return new O(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(e){const r=`/${qt(e.root,!0)}`,n=function p_(t){const e=Object.keys(t).map(r=>{const n=t[r];return Array.isArray(n)?n.map(i=>`${Bn(r)}=${Bn(i)}`).join("&"):`${Bn(r)}=${Bn(n)}`}).filter(r=>!!r);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${r}${n}${"string"==typeof e.fragment?`#${function vn(t){return encodeURI(t)}(e.fragment)}`:""}`}}const It=new pt;function At(t){return t.segments.map(e=>Ir(e)).join("/")}function qt(t,e){if(!t.hasChildren())return At(t);if(e){const r=t.children[Jt]?qt(t.children[Jt],!1):"",n=[];return Object.entries(t.children).forEach(([i,a])=>{i!==Jt&&n.push(`${i}:${qt(a,!1)}`)}),n.length>0?`${r}(${n.join("//")})`:r}{const r=function Fe(t,e){let r=[];return Object.entries(t.children).forEach(([n,i])=>{n===Jt&&(r=r.concat(e(i,n)))}),Object.entries(t.children).forEach(([n,i])=>{n!==Jt&&(r=r.concat(e(i,n)))}),r}(t,(n,i)=>i===Jt?[qt(t.children[Jt],!1)]:[`${i}:${qt(n,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Jt]?`${At(t)}/${r[0]}`:`${At(t)}/(${r.join("//")})`}}function Xn(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Bn(t){return Xn(t).replace(/%3B/gi,";")}function Rr(t){return Xn(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ft(t){return decodeURIComponent(t)}function $i(t){return Ft(t.replace(/\+/g,"%20"))}function Ir(t){return`${Rr(t.path)}${function ui(t){return Object.keys(t).map(e=>`;${Rr(e)}=${Rr(t[e])}`).join("")}(t.parameters)}`}const Up=/^[^\/()?;#]+/;function ta(t){const e=t.match(Up);return e?e[0]:""}const g_=/^[^\/()?;=#]+/,m_=/^[^=?&#]+/,ws=/^[^&#]+/;class Ll{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new R([],{}):new R([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(r).length>0)&&(n[Jt]=new R(e,r)),n}parseSegment(){const e=ta(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new d.vHH(4009,!1);return this.capture(e),new $(Ft(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const r=function jp(t){const e=t.match(g_);return e?e[0]:""}(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){const i=ta(this.remaining);i&&(n=i,this.capture(n))}e[Ft(r)]=Ft(n)}parseQueryParam(e){const r=function Yy(t){const e=t.match(m_);return e?e[0]:""}(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){const l=function $p(t){const e=t.match(ws);return e?e[0]:""}(this.remaining);l&&(n=l,this.capture(n))}const i=$i(r),a=$i(n);if(e.hasOwnProperty(i)){let l=e[i];Array.isArray(l)||(l=[l],e[i]=l),l.push(a)}else e[i]=a}parseParens(e){const r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=ta(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new d.vHH(4010,!1);let a;n.indexOf(":")>-1?(a=n.slice(0,n.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=Jt);const l=this.parseChildren();r[a]=1===Object.keys(l).length?l[Jt]:new R([],l),this.consumeOptional("//")}return r}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new d.vHH(4011,!1)}}function Jy(t){return t.segments.length>0?new R([],{[Jt]:t}):t}function Hp(t){const e={};for(const n of Object.keys(t.children)){const a=Hp(t.children[n]);if(n===Jt&&0===a.segments.length&&a.hasChildren())for(const[l,f]of Object.entries(a.children))e[l]=f;else(a.segments.length>0||a.hasChildren())&&(e[n]=a)}return function __(t){if(1===t.numberOfChildren&&t.children[Jt]){const e=t.children[Jt];return new R(t.segments.concat(e.segments),e.children)}return t}(new R(t.segments,e))}function kc(t){return t instanceof O}function Gp(t){let e;const i=Jy(function r(a){const l={};for(const _ of a.children){const y=r(_);l[_.outlet]=y}const f=new R(a.url,l);return a===t&&(e=f),f}(t.root));return e??i}function zp(t,e,r,n){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return Fc(i,i,i,r,n);const a=function Qy(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Ju(!0,0,t);let e=0,r=!1;const n=t.reduce((i,a,l)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return Object.entries(a.outlets).forEach(([_,y])=>{f[_]="string"==typeof y?y.split("/"):y}),[...i,{outlets:f}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===l?(a.split("/").forEach((f,_)=>{0==_&&"."===f||(0==_&&""===f?r=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,a]},[]);return new Ju(r,e,n)}(e);if(a.toRoot())return Fc(i,i,new R([],{}),r,n);const l=function Xy(t,e,r){if(t.isAbsolute)return new Lc(e,!0,0);if(!r)return new Lc(e,!1,NaN);if(null===r.parent)return new Lc(r,!0,0);const n=Yu(t.commands[0])?0:1;return function v_(t,e,r){let n=t,i=e,a=r;for(;a>i;){if(a-=i,n=n.parent,!n)throw new d.vHH(4005,!1);i=n.segments.length}return new Lc(n,!1,i-a)}(r,r.segments.length-1+n,t.numberOfDoubleDots)}(a,i,t),f=l.processChildren?Bl(l.segmentGroup,l.index,a.commands):Qu(l.segmentGroup,l.index,a.commands);return Fc(i,l.segmentGroup,f,r,n)}function Yu(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Ua(t){return"object"==typeof t&&null!=t&&t.outlets}function Fc(t,e,r,n,i){let l,a={};n&&Object.entries(n).forEach(([_,y])=>{a[_]=Array.isArray(y)?y.map(I=>`${I}`):`${y}`}),l=t===e?r:ja(t,e,r);const f=Jy(Hp(l));return new O(f,a,i)}function ja(t,e,r){const n={};return Object.entries(t.children).forEach(([i,a])=>{n[i]=a===e?r:ja(a,e,r)}),new R(t.segments,n)}class Ju{constructor(e,r,n){if(this.isAbsolute=e,this.numberOfDoubleDots=r,this.commands=n,e&&n.length>0&&Yu(n[0]))throw new d.vHH(4003,!1);const i=n.find(Ua);if(i&&i!==or(n))throw new d.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Lc{constructor(e,r,n){this.segmentGroup=e,this.processChildren=r,this.index=n}}function Qu(t,e,r){if(t||(t=new R([],{})),0===t.segments.length&&t.hasChildren())return Bl(t,e,r);const n=function e0(t,e,r){let n=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(n>=r.length)return a;const l=t.segments[i],f=r[n];if(Ua(f))break;const _=`${f}`,y=n<r.length-1?r[n+1]:null;if(i>0&&void 0===_)break;if(_&&y&&"object"==typeof y&&void 0===y.outlets){if(!Zp(_,y,l))return a;n+=2}else{if(!Zp(_,{},l))return a;n++}i++}return{match:!0,pathIndex:i,commandIndex:n}}(t,e,r),i=r.slice(n.commandIndex);if(n.match&&n.pathIndex<t.segments.length){const a=new R(t.segments.slice(0,n.pathIndex),{});return a.children[Jt]=new R(t.segments.slice(n.pathIndex),t.children),Bl(a,0,i)}return n.match&&0===i.length?new R(t.segments,{}):n.match&&!t.hasChildren()?qp(t,e,r):n.match?Bl(t,0,i):qp(t,e,r)}function Bl(t,e,r){if(0===r.length)return new R(t.segments,{});{const n=function Wp(t){return Ua(t[0])?t[0].outlets:{[Jt]:t}}(r),i={};if(Object.keys(n).some(a=>a!==Jt)&&t.children[Jt]&&1===t.numberOfChildren&&0===t.children[Jt].segments.length){const a=Bl(t.children[Jt],e,r);return new R(t.segments,a.children)}return Object.entries(n).forEach(([a,l])=>{"string"==typeof l&&(l=[l]),null!==l&&(i[a]=Qu(t.children[a],e,l))}),Object.entries(t.children).forEach(([a,l])=>{void 0===n[a]&&(i[a]=l)}),new R(t.segments,i)}}function qp(t,e,r){const n=t.segments.slice(0,e);let i=0;for(;i<r.length;){const a=r[i];if(Ua(a)){const _=Vl(a.outlets);return new R(n,_)}if(0===i&&Yu(r[0])){n.push(new $(t.segments[e].path,Ul(r[0]))),i++;continue}const l=Ua(a)?a.outlets[Jt]:`${a}`,f=i<r.length-1?r[i+1]:null;l&&f&&Yu(f)?(n.push(new $(l,Ul(f))),i+=2):(n.push(new $(l,{})),i++)}return new R(n,{})}function Vl(t){const e={};return Object.entries(t).forEach(([r,n])=>{"string"==typeof n&&(n=[n]),null!==n&&(e[r]=qp(new R([],{}),0,n))}),e}function Ul(t){const e={};return Object.entries(t).forEach(([r,n])=>e[r]=`${n}`),e}function Zp(t,e,r){return t==r.path&&Ti(e,r.parameters)}const Eh="imperative";class co{constructor(e,r){this.id=e,this.url=r}}class jl extends co{constructor(e,r,n="imperative",i=null){super(e,r),this.type=0,this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class na extends co{constructor(e,r,n){super(e,r),this.urlAfterRedirects=n,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Xu extends co{constructor(e,r,n,i){super(e,r),this.reason=n,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class $l extends co{constructor(e,r,n,i){super(e,r),this.reason=n,this.code=i,this.type=16}}class Bc extends co{constructor(e,r,n,i){super(e,r),this.error=n,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ed extends co{constructor(e,r,n,i){super(e,r),this.urlAfterRedirects=n,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class y_ extends co{constructor(e,r,n,i){super(e,r),this.urlAfterRedirects=n,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class t0 extends co{constructor(e,r,n,i,a){super(e,r),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Kp extends co{constructor(e,r,n,i){super(e,r),this.urlAfterRedirects=n,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qw extends co{constructor(e,r,n,i){super(e,r),this.urlAfterRedirects=n,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yp{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class n0{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class b_{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class r0{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jp{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xw{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class td{constructor(e,r,n){this.routerEvent=e,this.position=r,this.anchor=n,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class nd{}class Qp{constructor(e){this.url=e}}class eD{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ih,this.attachRef=null}}let Ih=(()=>{var t;class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,i){const a=this.getOrCreateContext(n);a.outlet=i,this.contexts.set(n,a)}onChildOutletDestroyed(n){const i=this.getContext(n);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let i=this.getContext(n);return i||(i=new eD,this.contexts.set(n,i)),i}getContext(n){return this.contexts.get(n)||null}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class s0{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const r=this.pathFromRoot(e);return r.length>1?r[r.length-2]:null}children(e){const r=Ch(e,this._root);return r?r.children.map(n=>n.value):[]}firstChild(e){const r=Ch(e,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(e){const r=$a(e,this._root);return r.length<2?[]:r[r.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return $a(e,this._root).map(r=>r.value)}}function Ch(t,e){if(t===e.value)return e;for(const r of e.children){const n=Ch(t,r);if(n)return n}return null}function $a(t,e){if(t===e.value)return[e];for(const r of e.children){const n=$a(t,r);if(n.length)return n.unshift(e),n}return[]}class ss{constructor(e,r){this.value=e,this.children=r}toString(){return`TreeNode(${this.value})`}}function Ha(t){const e={};return t&&t.children.forEach(r=>e[r.value.outlet]=r),e}class Xp extends s0{constructor(e,r){super(e),this.snapshot=r,Ah(this,e)}toString(){return this.snapshot.toString()}}function eg(t,e){const r=function Qr(t,e){const l=new ra([],{},{},"",{},Jt,e,null,{});return new rd("",new ss(l,[]))}(0,e),n=new ji.X([new $("",{})]),i=new ji.X({}),a=new ji.X({}),l=new ji.X({}),f=new ji.X(""),_=new lo(n,i,l,f,a,Jt,e,r.root);return _.snapshot=r.root,new Xp(new ss(_,[]),r)}class lo{constructor(e,r,n,i,a,l,f,_){this.urlSubject=e,this.paramsSubject=r,this.queryParamsSubject=n,this.fragmentSubject=i,this.dataSubject=a,this.outlet=l,this.component=f,this._futureSnapshot=_,this.title=this.dataSubject?.pipe((0,Ht.U)(y=>y[To]))??(0,Rt.of)(void 0),this.url=e,this.params=r,this.queryParams=n,this.fragment=i,this.data=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ht.U)(e=>Xo(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ht.U)(e=>Xo(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Th(t,e="emptyOnly"){const r=t.pathFromRoot;let n=0;if("always"!==e)for(n=r.length-1;n>=1;){const i=r[n],a=r[n-1];if(i.routeConfig&&""===i.routeConfig.path)n--;else{if(a.component)break;n--}}return function Sh(t){return t.reduce((e,r)=>({params:{...e.params,...r.params},data:{...e.data,...r.data},resolve:{...r.data,...e.resolve,...r.routeConfig?.data,...r._resolvedData}}),{params:{},data:{},resolve:{}})}(r.slice(n))}class ra{get title(){return this.data?.[To]}constructor(e,r,n,i,a,l,f,_,y){this.url=e,this.params=r,this.queryParams=n,this.fragment=i,this.data=a,this.outlet=l,this.component=f,this.routeConfig=_,this._resolve=y}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Xo(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xo(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(n=>n.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class rd extends s0{constructor(e,r){super(r),this.url=e,Ah(this,r)}toString(){return w_(this._root)}}function Ah(t,e){e.value._routerState=t,e.children.forEach(r=>Ah(t,r))}function w_(t){const e=t.children.length>0?` { ${t.children.map(w_).join(", ")} } `:"";return`${t.value}${e}`}function Ao(t){if(t.snapshot){const e=t.snapshot,r=t._futureSnapshot;t.snapshot=r,Ti(e.queryParams,r.queryParams)||t.queryParamsSubject.next(r.queryParams),e.fragment!==r.fragment&&t.fragmentSubject.next(r.fragment),Ti(e.params,r.params)||t.paramsSubject.next(r.params),function Zu(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(!Ti(t[r],e[r]))return!1;return!0}(e.url,r.url)||t.urlSubject.next(r.url),Ti(e.data,r.data)||t.dataSubject.next(r.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function id(t,e){const r=Ti(t.params,e.params)&&function ne(t,e){return me(t,e)&&t.every((r,n)=>Ti(r.parameters,e[n].parameters))}(t.url,e.url);return r&&!(!t.parent!=!e.parent)&&(!t.parent||id(t.parent,e.parent))}let Hl=(()=>{var t;class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Jt,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.parentContexts=(0,d.f3M)(Ih),this.location=(0,d.f3M)(d.s_b),this.changeDetector=(0,d.f3M)(d.sBO),this.environmentInjector=(0,d.f3M)(d.lqb),this.inputBinder=(0,d.f3M)(Mh,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:i,previousValue:a}=n.name;if(i)return;this.isTrackedInParentContexts(a)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(a)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.vHH(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,i){this.activated=n,this._activatedRoute=i,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,i){if(this.isActivated)throw new d.vHH(4013,!1);this._activatedRoute=n;const a=this.location,f=n.snapshot.component,_=this.parentContexts.getOrCreateContext(this.name).children,y=new o0(n,_,a.injector);this.activated=a.createComponent(f,{index:a.length,injector:y,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275dir=d.lG2({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[d.TTD]}),e})();class o0{constructor(e,r,n){this.route=e,this.childContexts=r,this.parent=n}get(e,r){return e===lo?this.route:e===Ih?this.childContexts:this.parent.get(e,r)}}const Mh=new d.OlP("");let tg=(()=>{var t;class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:i}=n,a=zr([i.queryParams,i.params,i.data]).pipe((0,Or.w)(([l,f,_],y)=>(_={...l,...f,..._},0===y?(0,Rt.of)(_):Promise.resolve(_)))).subscribe(l=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(n);const f=(0,d.qFp)(i.component);if(f)for(const{templateName:_}of f.inputs)n.activatedComponentRef.setInput(_,l[_]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,a)}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac}),e})();function Vc(t,e,r){if(r&&t.shouldReuseRoute(e.value,r.value.snapshot)){const n=r.value;n._futureSnapshot=e.value;const i=function a0(t,e,r){return e.children.map(n=>{for(const i of r.children)if(t.shouldReuseRoute(n.value,i.value.snapshot))return Vc(t,n,i);return Vc(t,n)})}(t,e,r);return new ss(n,i)}{if(t.shouldAttach(e.value)){const a=t.retrieve(e.value);if(null!==a){const l=a.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(f=>Vc(t,f)),l}}const n=function br(t){return new lo(new ji.X(t.url),new ji.X(t.params),new ji.X(t.queryParams),new ji.X(t.fragment),new ji.X(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(a=>Vc(t,a));return new ss(n,i)}}const ia="ngNavigationCancelingError";function Oh(t,e){const{redirectTo:r,navigationBehaviorOptions:n}=kc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=sd(!1,0,e);return i.url=r,i.navigationBehaviorOptions=n,i}function sd(t,e,r){const n=new Error("NavigationCancelingError: "+(t||""));return n[ia]=!0,n.cancellationCode=e,r&&(n.url=r),n}function Ga(t){return t&&t[ia]}let ng=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275cmp=d.Xpm({type:t,selectors:[["ng-component"]],standalone:!0,features:[d.jDz],decls:1,vars:0,template:function(n,i){1&n&&d._UZ(0,"router-outlet")},dependencies:[Hl],encapsulation:2}),e})();function B(t){const e=t.children&&t.children.map(B),r=e?{...t,children:e}:{...t};return!r.component&&!r.loadComponent&&(e||r.loadChildren)&&r.outlet&&r.outlet!==Jt&&(r.component=ng),r}function j(t){return t.outlet||Jt}function be(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const r=e.routeConfig;if(r?._loadedInjector)return r._loadedInjector;if(r?._injector)return r._injector}return null}class Tt{constructor(e,r,n,i,a){this.routeReuseStrategy=e,this.futureState=r,this.currState=n,this.forwardEvent=i,this.inputBindingEnabled=a}activate(e){const r=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,n,e),Ao(this.futureState.root),this.activateChildRoutes(r,n,e)}deactivateChildRoutes(e,r,n){const i=Ha(r);e.children.forEach(a=>{const l=a.value.outlet;this.deactivateRoutes(a,i[l],n),delete i[l]}),Object.values(i).forEach(a=>{this.deactivateRouteAndItsChildren(a,n)})}deactivateRoutes(e,r,n){const i=e.value,a=r?r.value:null;if(i===a)if(i.component){const l=n.getContext(i.outlet);l&&this.deactivateChildRoutes(e,r,l.children)}else this.deactivateChildRoutes(e,r,n);else a&&this.deactivateRouteAndItsChildren(r,n)}deactivateRouteAndItsChildren(e,r){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,r):this.deactivateRouteAndOutlet(e,r)}detachAndStoreRouteSubtree(e,r){const n=r.getContext(e.value.outlet),i=n&&e.value.component?n.children:r,a=Ha(e);for(const l of Object.keys(a))this.deactivateRouteAndItsChildren(a[l],i);if(n&&n.outlet){const l=n.outlet.detach(),f=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:f})}}deactivateRouteAndOutlet(e,r){const n=r.getContext(e.value.outlet),i=n&&e.value.component?n.children:r,a=Ha(e);for(const l of Object.keys(a))this.deactivateRouteAndItsChildren(a[l],i);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(e,r,n){const i=Ha(r);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],n),this.forwardEvent(new Xw(a.value.snapshot))}),e.children.length&&this.forwardEvent(new r0(e.value.snapshot))}activateRoutes(e,r,n){const i=e.value,a=r?r.value:null;if(Ao(i),i===a)if(i.component){const l=n.getOrCreateContext(i.outlet);this.activateChildRoutes(e,r,l.children)}else this.activateChildRoutes(e,r,n);else if(i.component){const l=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),l.children.onOutletReAttached(f.contexts),l.attachRef=f.componentRef,l.route=f.route.value,l.outlet&&l.outlet.attach(f.componentRef,f.route.value),Ao(f.route.value),this.activateChildRoutes(e,null,l.children)}else{const f=be(i.snapshot);l.attachRef=null,l.route=i,l.injector=f,l.outlet&&l.outlet.activateWith(i,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,n)}}class en{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Rn{constructor(e,r){this.component=e,this.route=r}}function Cr(t,e,r){const n=t._root;return za(n,e?e._root:null,r,[n.value])}function Hs(t,e){const r=Symbol(),n=e.get(t,r);return n===r?"function"!=typeof t||(0,d.Z0I)(t)?e.get(t):t:n}function za(t,e,r,n,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=Ha(e);return t.children.forEach(l=>{(function Gl(t,e,r,n,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=t.value,l=e?e.value:null,f=r?r.getContext(t.value.outlet):null;if(l&&a.routeConfig===l.routeConfig){const _=function E_(t,e,r){if("function"==typeof r)return r(t,e);switch(r){case"pathParamsChange":return!me(t.url,e.url);case"pathParamsOrQueryParamsChange":return!me(t.url,e.url)||!Ti(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!id(t,e)||!Ti(t.queryParams,e.queryParams);default:return!id(t,e)}}(l,a,a.routeConfig.runGuardsAndResolvers);_?i.canActivateChecks.push(new en(n)):(a.data=l.data,a._resolvedData=l._resolvedData),za(t,e,a.component?f?f.children:null:r,n,i),_&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new Rn(f.outlet.component,l))}else l&&zl(e,f,i),i.canActivateChecks.push(new en(n)),za(t,null,a.component?f?f.children:null:r,n,i)})(l,a[l.value.outlet],r,n.concat([l.value]),i),delete a[l.value.outlet]}),Object.entries(a).forEach(([l,f])=>zl(f,r.getContext(l),i)),i}function zl(t,e,r){const n=Ha(t),i=t.value;Object.entries(n).forEach(([a,l])=>{zl(l,i.component?e?e.children.getContext(a):null:e,r)}),r.canDeactivateChecks.push(new Rn(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Uc(t){return"function"==typeof t}function rD(t){return t instanceof Io||"EmptyError"===t?.name}const xh=Symbol("INITIAL_VALUE");function od(){return(0,Or.w)(t=>zr(t.map(e=>e.pipe(Un(1),Ko(xh)))).pipe((0,Ht.U)(e=>{for(const r of e)if(!0!==r){if(r===xh)return xh;if(!1===r||r instanceof O)return r}return!0}),Wn(e=>e!==xh),Un(1)))}function d0(t){return(0,yh.z)((0,hr.b)(e=>{if(kc(e))throw Oh(0,e)}),(0,Ht.U)(e=>!0===e))}class ig{constructor(e){this.segmentGroup=e||null}}class sg{constructor(e){this.urlTree=e}}function Wa(t){return Wu(new ig(t))}function f0(t){return Wu(new sg(t))}class cD{constructor(e,r){this.urlSerializer=e,this.urlTree=r}noMatchError(e){return new d.vHH(4002,!1)}lineralizeSegments(e,r){let n=[],i=r.root;for(;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return(0,Rt.of)(n);if(i.numberOfChildren>1||!i.children[Jt])return Wu(new d.vHH(4e3,!1));i=i.children[Jt]}}applyRedirectCommands(e,r,n){return this.applyRedirectCreateUrlTree(r,this.urlSerializer.parse(r),e,n)}applyRedirectCreateUrlTree(e,r,n,i){const a=this.createSegmentGroup(e,r.root,n,i);return new O(a,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(e,r){const n={};return Object.entries(e).forEach(([i,a])=>{if("string"==typeof a&&a.startsWith(":")){const f=a.substring(1);n[i]=r[f]}else n[i]=a}),n}createSegmentGroup(e,r,n,i){const a=this.createSegments(e,r.segments,n,i);let l={};return Object.entries(r.children).forEach(([f,_])=>{l[f]=this.createSegmentGroup(e,_,n,i)}),new R(a,l)}createSegments(e,r,n,i){return r.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,n))}findPosParam(e,r,n){const i=n[r.path.substring(1)];if(!i)throw new d.vHH(4001,!1);return i}findOrReturn(e,r){let n=0;for(const i of r){if(i.path===e.path)return r.splice(n),i;n++}return e}}const og={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ag(t,e,r,n,i){const a=g0(t,e,r);return a.matched?(n=function D_(t,e){return t.providers&&!t._injector&&(t._injector=(0,d.MMx)(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,n),function h0(t,e,r,n){const i=e.canMatch;if(!i||0===i.length)return(0,Rt.of)(!0);const a=i.map(l=>{const f=Hs(l,t);return ao(function u0(t){return t&&Uc(t.canMatch)}(f)?f.canMatch(e,r):t.runInContext(()=>f(e,r)))});return(0,Rt.of)(a).pipe(od(),d0())}(n,e,r).pipe((0,Ht.U)(l=>!0===l?a:{...og}))):(0,Rt.of)(a)}function g0(t,e,r){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||r.length>0)?{...og}:{matched:!0,consumedSegments:[],remainingSegments:r,parameters:{},positionalParamSegments:{}};const i=(e.matcher||ea)(r,t,e);if(!i)return{...og};const a={};Object.entries(i.posParams??{}).forEach(([f,_])=>{a[f]=_.path});const l=i.consumed.length>0?{...a,...i.consumed[i.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:i.consumed,remainingSegments:r.slice(i.consumed.length),parameters:l,positionalParamSegments:i.posParams??{}}}function m0(t,e,r,n){return r.length>0&&function eS(t,e,r){return r.some(n=>cg(t,e,n)&&j(n)!==Jt)}(t,r,n)?{segmentGroup:new R(e,XT(n,new R(r,t.children))),slicedSegments:[]}:0===r.length&&function lD(t,e,r){return r.some(n=>cg(t,e,n))}(t,r,n)?{segmentGroup:new R(t.segments,QT(t,0,r,n,t.children)),slicedSegments:r}:{segmentGroup:new R(t.segments,t.children),slicedSegments:r}}function QT(t,e,r,n,i){const a={};for(const l of n)if(cg(t,r,l)&&!i[j(l)]){const f=new R([],{});a[j(l)]=f}return{...i,...a}}function XT(t,e){const r={};r[Jt]=e;for(const n of t)if(""===n.path&&j(n)!==Jt){const i=new R([],{});r[j(n)]=i}return r}function cg(t,e,r){return(!(t.hasChildren()||e.length>0)||"full"!==r.pathMatch)&&""===r.path}class tS{constructor(e,r,n,i,a,l,f){this.injector=e,this.configLoader=r,this.rootComponentType=n,this.config=i,this.urlTree=a,this.paramsInheritanceStrategy=l,this.urlSerializer=f,this.allowRedirects=!0,this.applyRedirects=new cD(this.urlSerializer,this.urlTree)}noMatchError(e){return new d.vHH(4002,!1)}recognize(){const e=m0(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Jt).pipe(so(r=>{if(r instanceof sg)return this.allowRedirects=!1,this.urlTree=r.urlTree,this.match(r.urlTree);throw r instanceof ig?this.noMatchError(r):r}),(0,Ht.U)(r=>{const n=new ra([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Jt,this.rootComponentType,null,{}),i=new ss(n,r),a=new rd("",i),l=function Jw(t,e,r=null,n=null){return zp(Gp(t),e,r,n)}(n,[],this.urlTree.queryParams,this.urlTree.fragment);return l.queryParams=this.urlTree.queryParams,a.url=this.urlSerializer.serialize(l),this.inheritParamsAndData(a._root),{state:a,tree:l}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Jt).pipe(so(n=>{throw n instanceof ig?this.noMatchError(n):n}))}inheritParamsAndData(e){const r=e.value,n=Th(r,this.paramsInheritanceStrategy);r.params=Object.freeze(n.params),r.data=Object.freeze(n.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,r,n,i){return 0===n.segments.length&&n.hasChildren()?this.processChildren(e,r,n):this.processSegment(e,r,n,n.segments,i,!0)}processChildren(e,r,n){const i=[];for(const a of Object.keys(n.children))"primary"===a?i.unshift(a):i.push(a);return(0,Qn.D)(i).pipe(Pc(a=>{const l=n.children[a],f=function ie(t,e){const r=t.filter(n=>j(n)===e);return r.push(...t.filter(n=>j(n)!==e)),r}(r,a);return this.processSegmentGroup(e,f,l,a)}),oo((a,l)=>(a.push(...l),a)),Rc(null),function qu(t,e){const r=arguments.length>=2;return n=>n.pipe(t?Wn((i,a)=>t(i,a,n)):Mc.y,Yo(1),r?Rc(e):Pl(()=>new Io))}(),(0,xr.z)(a=>{if(null===a)return Wa(n);const l=uD(a);return function nS(t){t.sort((e,r)=>e.value.outlet===Jt?-1:r.value.outlet===Jt?1:e.value.outlet.localeCompare(r.value.outlet))}(l),(0,Rt.of)(l)}))}processSegment(e,r,n,i,a,l){return(0,Qn.D)(r).pipe(Pc(f=>this.processSegmentAgainstRoute(f._injector??e,r,f,n,i,a,l).pipe(so(_=>{if(_ instanceof ig)return(0,Rt.of)(null);throw _}))),Nr(f=>!!f),so(f=>{if(rD(f))return function _0(t,e,r){return 0===e.length&&!t.children[r]}(n,i,a)?(0,Rt.of)([]):Wa(n);throw f}))}processSegmentAgainstRoute(e,r,n,i,a,l,f){return function M_(t,e,r,n){return!!(j(t)===n||n!==Jt&&cg(e,r,t))&&("**"===t.path||g0(e,t,r).matched)}(n,i,a,l)?void 0===n.redirectTo?this.matchSegmentAgainstRoute(e,i,n,a,l,f):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,r,n,a,l):Wa(i):Wa(i)}expandSegmentAgainstRouteUsingRedirect(e,r,n,i,a,l){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,i,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,r,n,i,a,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,n,i){const a=this.applyRedirects.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?f0(a):this.applyRedirects.lineralizeSegments(n,a).pipe((0,xr.z)(l=>{const f=new R(l,{});return this.processSegment(e,r,f,l,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,r,n,i,a,l){const{matched:f,consumedSegments:_,remainingSegments:y,positionalParamSegments:I}=g0(r,i,a);if(!f)return Wa(r);const M=this.applyRedirects.applyRedirectCommands(_,i.redirectTo,I);return i.redirectTo.startsWith("/")?f0(M):this.applyRedirects.lineralizeSegments(i,M).pipe((0,xr.z)(F=>this.processSegment(e,n,r,F.concat(y),l,!1)))}matchSegmentAgainstRoute(e,r,n,i,a,l){let f;if("**"===n.path){const _=i.length>0?or(i).parameters:{},y=new ra(i,_,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,hD(n),j(n),n.component??n._loadedComponent??null,n,cd(n));f=(0,Rt.of)({snapshot:y,consumedSegments:[],remainingSegments:[]}),r.children={}}else f=ag(r,n,i,e).pipe((0,Ht.U)(({matched:_,consumedSegments:y,remainingSegments:I,parameters:M})=>_?{snapshot:new ra(y,M,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,hD(n),j(n),n.component??n._loadedComponent??null,n,cd(n)),consumedSegments:y,remainingSegments:I}:null));return f.pipe((0,Or.w)(_=>null===_?Wa(r):this.getChildConfig(e=n._injector??e,n,i).pipe((0,Or.w)(({routes:y})=>{const I=n._loadedInjector??e,{snapshot:M,consumedSegments:F,remainingSegments:P}=_,{segmentGroup:K,slicedSegments:le}=m0(r,F,P,y);if(0===le.length&&K.hasChildren())return this.processChildren(I,y,K).pipe((0,Ht.U)(Ze=>null===Ze?null:[new ss(M,Ze)]));if(0===y.length&&0===le.length)return(0,Rt.of)([new ss(M,[])]);const ue=j(n)===a;return this.processSegment(I,y,K,le,ue?Jt:a,!0).pipe((0,Ht.U)(Ze=>[new ss(M,Ze)]))}))))}getChildConfig(e,r,n){return r.children?(0,Rt.of)({routes:r.children,injector:e}):r.loadChildren?void 0!==r._loadedRoutes?(0,Rt.of)({routes:r._loadedRoutes,injector:r._loadedInjector}):function aD(t,e,r,n){const i=e.canLoad;if(void 0===i||0===i.length)return(0,Rt.of)(!0);const a=i.map(l=>{const f=Hs(l,t);return ao(function l0(t){return t&&Uc(t.canLoad)}(f)?f.canLoad(e,r):t.runInContext(()=>f(e,r)))});return(0,Rt.of)(a).pipe(od(),d0())}(e,r,n).pipe((0,xr.z)(i=>i?this.configLoader.loadChildren(e,r).pipe((0,hr.b)(a=>{r._loadedRoutes=a.routes,r._loadedInjector=a.injector})):function A_(t){return Wu(sd(!1,3))}())):(0,Rt.of)({routes:[],injector:e})}}function hx(t){const e=t.value.routeConfig;return e&&""===e.path}function uD(t){const e=[],r=new Set;for(const n of t){if(!hx(n)){e.push(n);continue}const i=e.find(a=>n.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...n.children),r.add(i)):e.push(n)}for(const n of r){const i=uD(n.children);e.push(new ss(n.value,i))}return e.filter(n=>!r.has(n))}function hD(t){return t.data||{}}function cd(t){return t.resolve||{}}function v0(t,e){return(0,xr.z)(r=>{const{targetSnapshot:n,guards:{canActivateChecks:i}}=r;if(!i.length)return(0,Rt.of)(r);let a=0;return(0,Qn.D)(i).pipe(Pc(l=>function fD(t,e,r,n){const i=t.routeConfig,a=t._resolve;return void 0!==i?.title&&!_D(i)&&(a[To]=i.title),function pD(t,e,r,n){const i=function gD(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return(0,Rt.of)({});const a={};return(0,Qn.D)(i).pipe((0,xr.z)(l=>function mD(t,e,r,n){const i=be(e)??n,a=Hs(t,i);return ao(a.resolve?a.resolve(e,r):i.runInContext(()=>a(e,r)))}(t[l],e,r,n).pipe(Nr(),(0,hr.b)(f=>{a[l]=f}))),Yo(1),function Co(t){return(0,Ht.U)(()=>t)}(a),so(l=>rD(l)?$s.E:Wu(l)))}(a,t,e,n).pipe((0,Ht.U)(l=>(t._resolvedData=l,t.data=Th(t,r).resolve,i&&_D(i)&&(t.data[To]=i.title),null)))}(l.route,n,t,e)),(0,hr.b)(()=>a++),Yo(1),(0,xr.z)(l=>a===i.length?(0,Rt.of)(r):$s.E))})}function _D(t){return"string"==typeof t.title||null===t.title}function y0(t){return(0,Or.w)(e=>{const r=t(e);return r?(0,Qn.D)(r).pipe((0,Ht.U)(()=>e)):(0,Rt.of)(e)})}const Rh=new d.OlP("ROUTES");let b0=(()=>{var t;class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,d.f3M)(d.Sil)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return(0,Rt.of)(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const i=ao(n.loadComponent()).pipe((0,Ht.U)(jc),(0,hr.b)(l=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=l}),Jo(()=>{this.componentLoaders.delete(n)})),a=new Nc(i,()=>new wn.x).pipe(Bp());return this.componentLoaders.set(n,a),a}loadChildren(n,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return(0,Rt.of)({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const l=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,Ht.U)(_=>{this.onLoadEndListener&&this.onLoadEndListener(i);let y,I;return Array.isArray(_)?I=_:(y=_.create(n).injector,I=y.get(Rh,[],d.XFs.Self|d.XFs.Optional).flat()),{routes:I.map(B),injector:y}}),Jo(()=>{this.childrenLoaders.delete(i)})),f=new Nc(l,()=>new wn.x).pipe(Bp());return this.childrenLoaders.set(i,f),f}loadModuleFactoryOrRoutes(n){return ao(n()).pipe((0,Ht.U)(jc),(0,xr.z)(i=>i instanceof d.YKP||Array.isArray(i)?(0,Rt.of)(i):(0,Qn.D)(this.compiler.compileModuleAsync(i))))}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function jc(t){return function rS(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let Wl=(()=>{var t;class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new wn.x,this.transitionAbortSubject=new wn.x,this.configLoader=(0,d.f3M)(b0),this.environmentInjector=(0,d.f3M)(d.lqb),this.urlSerializer=(0,d.f3M)(qe),this.rootContexts=(0,d.f3M)(Ih),this.inputBindingEnabled=null!==(0,d.f3M)(Mh,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Rt.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=a=>this.events.next(new n0(a)),this.configLoader.onLoadStartListener=a=>this.events.next(new Yp(a))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:i})}setupNavigations(n,i,a){return this.transitions=new ji.X({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:n.urlHandlingStrategy.extract(i),urlAfterRedirects:n.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Eh,restoredState:null,currentSnapshot:a.snapshot,targetSnapshot:null,currentRouterState:a,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Wn(l=>0!==l.id),(0,Ht.U)(l=>({...l,extractedUrl:n.urlHandlingStrategy.extract(l.rawUrl)})),(0,Or.w)(l=>{this.currentTransition=l;let f=!1,_=!1;return(0,Rt.of)(l).pipe((0,hr.b)(y=>{this.currentNavigation={id:y.id,initialUrl:y.rawUrl,extractedUrl:y.extractedUrl,trigger:y.source,extras:y.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Or.w)(y=>{const I=y.currentBrowserUrl.toString(),M=!n.navigated||y.extractedUrl.toString()!==I||I!==y.currentUrlTree.toString();if(!M&&"reload"!==(y.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const P="";return this.events.next(new $l(y.id,this.urlSerializer.serialize(y.rawUrl),P,0)),y.resolve(null),$s.E}if(n.urlHandlingStrategy.shouldProcessUrl(y.rawUrl))return(0,Rt.of)(y).pipe((0,Or.w)(P=>{const K=this.transitions?.getValue();return this.events.next(new jl(P.id,this.urlSerializer.serialize(P.extractedUrl),P.source,P.restoredState)),K!==this.transitions?.getValue()?$s.E:Promise.resolve(P)}),function O_(t,e,r,n,i,a){return(0,xr.z)(l=>function Nh(t,e,r,n,i,a,l="emptyOnly"){return new tS(t,e,r,n,i,l,a).recognize()}(t,e,r,n,l.extractedUrl,i,a).pipe((0,Ht.U)(({state:f,tree:_})=>({...l,targetSnapshot:f,urlAfterRedirects:_}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),(0,hr.b)(P=>{l.targetSnapshot=P.targetSnapshot,l.urlAfterRedirects=P.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:P.urlAfterRedirects};const K=new ed(P.id,this.urlSerializer.serialize(P.extractedUrl),this.urlSerializer.serialize(P.urlAfterRedirects),P.targetSnapshot);this.events.next(K)}));if(M&&n.urlHandlingStrategy.shouldProcessUrl(y.currentRawUrl)){const{id:P,extractedUrl:K,source:le,restoredState:ue,extras:Ze}=y,Je=new jl(P,this.urlSerializer.serialize(K),le,ue);this.events.next(Je);const Qe=eg(0,this.rootComponentType).snapshot;return this.currentTransition=l={...y,targetSnapshot:Qe,urlAfterRedirects:K,extras:{...Ze,skipLocationChange:!1,replaceUrl:!1}},(0,Rt.of)(l)}{const P="";return this.events.next(new $l(y.id,this.urlSerializer.serialize(y.extractedUrl),P,1)),y.resolve(null),$s.E}}),(0,hr.b)(y=>{const I=new y_(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(I)}),(0,Ht.U)(y=>(this.currentTransition=l={...y,guards:Cr(y.targetSnapshot,y.currentSnapshot,this.rootContexts)},l)),function ad(t,e){return(0,xr.z)(r=>{const{targetSnapshot:n,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:l}}=r;return 0===l.length&&0===a.length?(0,Rt.of)({...r,guardsResult:!0}):function iD(t,e,r,n){return(0,Qn.D)(t).pipe((0,xr.z)(i=>function oD(t,e,r,n,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!a||0===a.length)return(0,Rt.of)(!0);const l=a.map(f=>{const _=be(e)??i,y=Hs(f,_);return ao(function T_(t){return t&&Uc(t.canDeactivate)}(y)?y.canDeactivate(t,e,r,n):_.runInContext(()=>y(t,e,r,n))).pipe(Nr())});return(0,Rt.of)(l).pipe(od())}(i.component,i.route,r,e,n)),Nr(i=>!0!==i,!0))}(l,n,i,t).pipe((0,xr.z)(f=>f&&function I_(t){return"boolean"==typeof t}(f)?function sD(t,e,r,n){return(0,Qn.D)(e).pipe(Pc(i=>li(function dx(t,e){return null!==t&&e&&e(new b_(t)),(0,Rt.of)(!0)}(i.route.parent,n),function YT(t,e){return null!==t&&e&&e(new Jp(t)),(0,Rt.of)(!0)}(i.route,n),function JT(t,e,r){const n=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(l=>function di(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(l)).filter(l=>null!==l).map(l=>f_(()=>{const f=l.guards.map(_=>{const y=be(l.node)??r,I=Hs(_,y);return ao(function C_(t){return t&&Uc(t.canActivateChild)}(I)?I.canActivateChild(n,t):y.runInContext(()=>I(n,t))).pipe(Nr())});return(0,Rt.of)(f).pipe(od())}));return(0,Rt.of)(a).pipe(od())}(t,i.path,r),function S_(t,e,r){const n=e.routeConfig?e.routeConfig.canActivate:null;if(!n||0===n.length)return(0,Rt.of)(!0);const i=n.map(a=>f_(()=>{const l=be(e)??r,f=Hs(a,l);return ao(function rg(t){return t&&Uc(t.canActivate)}(f)?f.canActivate(e,t):l.runInContext(()=>f(e,t))).pipe(Nr())}));return(0,Rt.of)(i).pipe(od())}(t,i.route,r))),Nr(i=>!0!==i,!0))}(n,a,t,e):(0,Rt.of)(f)),(0,Ht.U)(f=>({...r,guardsResult:f})))})}(this.environmentInjector,y=>this.events.next(y)),(0,hr.b)(y=>{if(l.guardsResult=y.guardsResult,kc(y.guardsResult))throw Oh(0,y.guardsResult);const I=new t0(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot,!!y.guardsResult);this.events.next(I)}),Wn(y=>!!y.guardsResult||(this.cancelNavigationTransition(y,"",3),!1)),y0(y=>{if(y.guards.canActivateChecks.length)return(0,Rt.of)(y).pipe((0,hr.b)(I=>{const M=new Kp(I.id,this.urlSerializer.serialize(I.extractedUrl),this.urlSerializer.serialize(I.urlAfterRedirects),I.targetSnapshot);this.events.next(M)}),(0,Or.w)(I=>{let M=!1;return(0,Rt.of)(I).pipe(v0(n.paramsInheritanceStrategy,this.environmentInjector),(0,hr.b)({next:()=>M=!0,complete:()=>{M||this.cancelNavigationTransition(I,"",2)}}))}),(0,hr.b)(I=>{const M=new Qw(I.id,this.urlSerializer.serialize(I.extractedUrl),this.urlSerializer.serialize(I.urlAfterRedirects),I.targetSnapshot);this.events.next(M)}))}),y0(y=>{const I=M=>{const F=[];M.routeConfig?.loadComponent&&!M.routeConfig._loadedComponent&&F.push(this.configLoader.loadComponent(M.routeConfig).pipe((0,hr.b)(P=>{M.component=P}),(0,Ht.U)(()=>{})));for(const P of M.children)F.push(...I(P));return F};return zr(I(y.targetSnapshot.root)).pipe(Rc(),Un(1))}),y0(()=>this.afterPreactivation()),(0,Ht.U)(y=>{const I=function Hi(t,e,r){const n=Vc(t,e._root,r?r._root:void 0);return new Xp(n,e)}(n.routeReuseStrategy,y.targetSnapshot,y.currentRouterState);return this.currentTransition=l={...y,targetRouterState:I},l}),(0,hr.b)(()=>{this.events.next(new nd)}),((t,e,r,n)=>(0,Ht.U)(i=>(new Tt(e,i.targetRouterState,i.currentRouterState,r,n).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,y=>this.events.next(y),this.inputBindingEnabled),Un(1),(0,hr.b)({next:y=>{f=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new na(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects))),n.titleStrategy?.updateTitle(y.targetRouterState.snapshot),y.resolve(!0)},complete:()=>{f=!0}}),sr(this.transitionAbortSubject.pipe((0,hr.b)(y=>{throw y}))),Jo(()=>{f||_||this.cancelNavigationTransition(l,"",1),this.currentNavigation?.id===l.id&&(this.currentNavigation=null)}),so(y=>{if(_=!0,Ga(y))this.events.next(new Xu(l.id,this.urlSerializer.serialize(l.extractedUrl),y.message,y.cancellationCode)),function Si(t){return Ga(t)&&kc(t.url)}(y)?this.events.next(new Qp(y.url)):l.resolve(!1);else{this.events.next(new Bc(l.id,this.urlSerializer.serialize(l.extractedUrl),y,l.targetSnapshot??void 0));try{l.resolve(n.errorHandler(y))}catch(I){l.reject(I)}}return $s.E}))}))}cancelNavigationTransition(n,i,a){const l=new Xu(n.id,this.urlSerializer.serialize(n.extractedUrl),i,a);this.events.next(l),n.resolve(!1)}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function vD(t){return t!==Eh}let iS=(()=>{var t;class e{buildTitle(n){let i,a=n.root;for(;void 0!==a;)i=this.getResolvedTitleForRoute(a)??i,a=a.children.find(l=>l.outlet===Jt);return i}getResolvedTitleForRoute(n){return n.data[To]}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=d.Yz7({token:t,factory:function(){return(0,d.f3M)(fx)},providedIn:"root"}),e})(),fx=(()=>{var t;class e extends iS{constructor(n){super(),this.title=n}updateTitle(n){const i=this.buildTitle(n);void 0!==i&&this.title.setTitle(i)}}return(t=e).\u0275fac=function(n){return new(n||t)(d.LFG(Re))},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),px=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=d.Yz7({token:t,factory:function(){return(0,d.f3M)(mx)},providedIn:"root"}),e})();class gx{shouldDetach(e){return!1}store(e,r){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,r){return e.routeConfig===r.routeConfig}}let mx=(()=>{var t;class e extends gx{}return(t=e).\u0275fac=function(){let r;return function(i){return(r||(r=d.n5z(t)))(i||t)}}(),t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const lg=new d.OlP("",{providedIn:"root",factory:()=>({})});let sS=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=d.Yz7({token:t,factory:function(){return(0,d.f3M)(oS)},providedIn:"root"}),e})(),oS=(()=>{var t;class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,i){return n}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var ug=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(ug||{});function yD(t,e){t.events.pipe(Wn(r=>r instanceof na||r instanceof Xu||r instanceof Bc||r instanceof $l),(0,Ht.U)(r=>r instanceof na||r instanceof $l?ug.COMPLETE:r instanceof Xu&&(0===r.code||1===r.code)?ug.REDIRECTING:ug.FAILED),Wn(r=>r!==ug.REDIRECTING),Un(1)).subscribe(()=>{e()})}function w0(t){throw t}function $c(t,e,r){return e.parse("/")}const dg={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},bD={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let os=(()=>{var t;class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,d.f3M)(d.c2e),this.isNgZoneEnabled=!1,this._events=new wn.x,this.options=(0,d.f3M)(lg,{optional:!0})||{},this.pendingTasks=(0,d.f3M)(d.HDt),this.errorHandler=this.options.errorHandler||w0,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||$c,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,d.f3M)(sS),this.routeReuseStrategy=(0,d.f3M)(px),this.titleStrategy=(0,d.f3M)(iS),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,d.f3M)(Rh,{optional:!0})?.flat()??[],this.navigationTransitions=(0,d.f3M)(Wl),this.urlSerializer=(0,d.f3M)(qe),this.location=(0,d.f3M)(rt),this.componentInputBindingEnabled=!!(0,d.f3M)(Mh,{optional:!0}),this.eventsSubscription=new bh.w0,this.isNgZoneEnabled=(0,d.f3M)(d.R0b)instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new O,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=eg(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:a}=this.navigationTransitions;if(null===a)return void(aS(i)&&this._events.next(i));if(i instanceof jl)vD(a.source)&&(this.browserUrlTree=a.extractedUrl);else if(i instanceof $l)this.rawUrlTree=a.rawUrl;else if(i instanceof ed){if("eager"===this.urlUpdateStrategy){if(!a.extras.skipLocationChange){const l=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl);this.setBrowserUrl(l,a)}this.browserUrlTree=a.urlAfterRedirects}}else if(i instanceof nd)this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects);else if(i instanceof Xu)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(a);else if(i instanceof Qp){const l=this.urlHandlingStrategy.merge(i.url,a.currentRawUrl),f={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||vD(a.source)};this.scheduleNavigation(l,Eh,null,f,{resolve:a.resolve,reject:a.reject,promise:a.promise})}i instanceof Bc&&this.restoreHistory(a,!0),i instanceof na&&(this.navigated=!0),aS(i)&&this._events.next(i)}catch(a){this.navigationTransitions.transitionAbortSubject.next(a)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Eh,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const i="popstate"===n.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,i,n.state)},0)}))}navigateToSyncWithBrowser(n,i,a){const l={replaceUrl:!0},f=a?.navigationId?a:null;if(a){const y={...a};delete y.navigationId,delete y.\u0275routerPageId,0!==Object.keys(y).length&&(l.state=y)}const _=this.parseUrl(n);this.scheduleNavigation(_,i,f,l)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(B),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,i={}){const{relativeTo:a,queryParams:l,fragment:f,queryParamsHandling:_,preserveFragment:y}=i,I=y?this.currentUrlTree.fragment:f;let F,M=null;switch(_){case"merge":M={...this.currentUrlTree.queryParams,...l};break;case"preserve":M=this.currentUrlTree.queryParams;break;default:M=l||null}null!==M&&(M=this.removeEmptyProps(M));try{F=Gp(a?a.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),F=this.currentUrlTree.root}return zp(F,n,M,I??null)}navigateByUrl(n,i={skipLocationChange:!1}){const a=kc(n)?n:this.parseUrl(n),l=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(l,Eh,null,i)}navigate(n,i={skipLocationChange:!1}){return function wD(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new d.vHH(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,i),i)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let i;try{i=this.urlSerializer.parse(n)}catch(a){i=this.malformedUriErrorHandler(a,this.urlSerializer,n)}return i}isActive(n,i){let a;if(a=!0===i?{...dg}:!1===i?{...bD}:i,kc(n))return Vp(this.currentUrlTree,n,a);const l=this.parseUrl(n);return Vp(this.currentUrlTree,l,a)}removeEmptyProps(n){return Object.keys(n).reduce((i,a)=>{const l=n[a];return null!=l&&(i[a]=l),i},{})}scheduleNavigation(n,i,a,l,f){if(this.disposed)return Promise.resolve(!1);let _,y,I;f?(_=f.resolve,y=f.reject,I=f.promise):I=new Promise((F,P)=>{_=F,y=P});const M=this.pendingTasks.add();return yD(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(M))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:l,resolve:_,reject:y,promise:I,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),I.catch(F=>Promise.reject(F))}setBrowserUrl(n,i){const a=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(a)||i.extras.replaceUrl){const f={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(a,"",f)}else{const l={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(a,"",l)}}restoreHistory(n,i=!1){if("computed"===this.canceledNavigationResolution){const l=this.currentPageId-this.browserPageId;0!==l?this.location.historyGo(l):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===l&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,i){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:i}:{navigationId:n}}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function aS(t){return!(t instanceof nd||t instanceof Qp)}let D0=(()=>{var t;class e{constructor(n,i,a,l,f,_){this.router=n,this.route=i,this.tabIndexAttribute=a,this.renderer=l,this.el=f,this.locationStrategy=_,this.href=null,this.commands=null,this.onChanges=new wn.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const y=f.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===y||"area"===y,this.isAnchorElement?this.subscription=n.events.subscribe(I=>{I instanceof na&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,i,a,l,f){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||i||a||l||f||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:(0,d.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,i){const a=this.renderer,l=this.el.nativeElement;null!==i?a.setAttribute(l,n,i):a.removeAttribute(l,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(t=e).\u0275fac=function(n){return new(n||t)(d.Y36(os),d.Y36(lo),d.$8M("tabindex"),d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(ke))},t.\u0275dir=d.lG2({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,i){1&n&&d.NdJ("click",function(l){return i.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&n&&d.uIk("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",d.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",d.VuI],replaceUrl:["replaceUrl","replaceUrl",d.VuI],routerLink:"routerLink"},standalone:!0,features:[d.Xq5,d.TTD]}),e})();class x_{}let DD=(()=>{var t;class e{constructor(n,i,a,l,f){this.router=n,this.injector=a,this.preloadingStrategy=l,this.loader=f}setUpPreloading(){this.subscription=this.router.events.pipe(Wn(n=>n instanceof na),Pc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,i){const a=[];for(const l of i){l.providers&&!l._injector&&(l._injector=(0,d.MMx)(l.providers,n,`Route: ${l.path}`));const f=l._injector??n,_=l._loadedInjector??f;(l.loadChildren&&!l._loadedRoutes&&void 0===l.canLoad||l.loadComponent&&!l._loadedComponent)&&a.push(this.preloadConfig(f,l)),(l.children||l._loadedRoutes)&&a.push(this.processRoutes(_,l.children??l._loadedRoutes))}return(0,Qn.D)(a).pipe((0,Rl.J)())}preloadConfig(n,i){return this.preloadingStrategy.preload(i,()=>{let a;a=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(n,i):(0,Rt.of)(null);const l=a.pipe((0,xr.z)(f=>null===f?(0,Rt.of)(void 0):(i._loadedRoutes=f.routes,i._loadedInjector=f.injector,this.processRoutes(f.injector??n,f.routes))));if(i.loadComponent&&!i._loadedComponent){const f=this.loader.loadComponent(i);return(0,Qn.D)([l,f]).pipe((0,Rl.J)())}return l})}}return(t=e).\u0275fac=function(n){return new(n||t)(d.LFG(os),d.LFG(d.Sil),d.LFG(d.lqb),d.LFG(x_),d.LFG(b0))},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const I0=new d.OlP("");let ED=(()=>{var t;class e{constructor(n,i,a,l,f={}){this.urlSerializer=n,this.transitions=i,this.viewportScroller=a,this.zone=l,this.options=f,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},f.scrollPositionRestoration=f.scrollPositionRestoration||"disabled",f.anchorScrolling=f.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof jl?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof na?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof $l&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof td&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new td(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(t=e).\u0275fac=function(n){d.$Z()},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac}),e})();function qa(t,e){return{\u0275kind:t,\u0275providers:e}}function ld(){const t=(0,d.f3M)(d.zs3);return e=>{const r=t.get(d.z2F);if(e!==r.components[0])return;const n=t.get(os),i=t.get(TD);1===t.get(C0)&&n.initialNavigation(),t.get(MD,null,d.XFs.Optional)?.setUpPreloading(),t.get(I0,null,d.XFs.Optional)?.init(),n.resetRootComponentType(r.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const TD=new d.OlP("",{factory:()=>new wn.x}),C0=new d.OlP("",{providedIn:"root",factory:()=>1}),MD=new d.OlP("");function cS(t){return qa(0,[{provide:MD,useExisting:DD},{provide:x_,useExisting:t}])}const Pn=new d.OlP("ROUTER_FORROOT_GUARD"),hg=[rt,{provide:qe,useClass:pt},os,Ih,{provide:lo,useFactory:function ID(t){return t.routerState.root},deps:[os]},b0,[]];function OD(){return new d.PXZ("Router",os)}let T0=(()=>{var t;class e{constructor(n){}static forRoot(n,i){return{ngModule:e,providers:[hg,[],{provide:Rh,multi:!0,useValue:n},{provide:Pn,useFactory:ND,deps:[[os,new d.FiY,new d.tp0]]},{provide:lg,useValue:i||{}},i?.useHash?{provide:ke,useClass:Be}:{provide:ke,useClass:et},{provide:I0,useFactory:()=>{const t=(0,d.f3M)(ps),e=(0,d.f3M)(d.R0b),r=(0,d.f3M)(lg),n=(0,d.f3M)(Wl),i=(0,d.f3M)(qe);return r.scrollOffset&&t.setOffset(r.scrollOffset),new ED(i,n,t,e,r)}},i?.preloadingStrategy?cS(i.preloadingStrategy).\u0275providers:[],{provide:d.PXZ,multi:!0,useFactory:OD},i?.initialNavigation?RD(i):[],i?.bindToComponentInputs?qa(8,[tg,{provide:Mh,useExisting:tg}]).\u0275providers:[],[{provide:fg,useFactory:ld},{provide:d.tb,multi:!0,useExisting:fg}]]}}static forChild(n){return{ngModule:e,providers:[{provide:Rh,multi:!0,useValue:n}]}}}return(t=e).\u0275fac=function(n){return new(n||t)(d.LFG(Pn,8))},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({}),e})();function ND(t){return"guarded"}function RD(t){return["disabled"===t.initialNavigation?qa(3,[{provide:d.ip1,multi:!0,useFactory:()=>{const e=(0,d.f3M)(os);return()=>{e.setUpLocationChangeListener()}}},{provide:C0,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?qa(2,[{provide:C0,useValue:0},{provide:d.ip1,multi:!0,deps:[d.zs3],useFactory:e=>{const r=e.get(Pe,Promise.resolve());return()=>r.then(()=>new Promise(n=>{const i=e.get(os),a=e.get(TD);yD(i,()=>{n(!0)}),e.get(Wl).afterPreactivation=()=>(n(!0),a.closed?(0,Rt.of)(void 0):a),i.initialNavigation()}))}}]).\u0275providers:[]]}const fg=new d.OlP("");var Se=k(5861),P_=k(3019),ud=k(3093),fS=k(4552);class A0 extends wn.x{constructor(e=1/0,r=1/0,n=fS.l){super(),this._bufferSize=e,this._windowTime=r,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=r===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,r)}next(e){const{isStopped:r,_buffer:n,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:l}=this;r||(n.push(e),!i&&n.push(a.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const r=this._innerSubscribe(e),{_infiniteTimeWindow:n,_buffer:i}=this,a=i.slice();for(let l=0;l<a.length&&!e.closed;l+=n?1:2)e.next(a[l]);return this._checkFinalizedStatuses(e),r}_trimBuffer(){const{_bufferSize:e,_timestampProvider:r,_buffer:n,_infiniteTimeWindow:i}=this,a=(i?1:2)*e;if(e<1/0&&a<n.length&&n.splice(0,n.length-a),!i){const l=r.now();let f=0;for(let _=1;_<n.length&&n[_]<=l;_+=2)f=_;f&&n.splice(0,f+1)}}}var k_=k(3020);function sa(t,e,r){let n,i=!1;return t&&"object"==typeof t?({bufferSize:n=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:r}=t):n=t??1/0,(0,k_.B)({connector:()=>new A0(n,e,r),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function pg(t,e){return(0,Mr.m)(e)?(0,Or.w)(()=>t,e):(0,Or.w)(()=>t)}var gg=k(5137),as=k(2793),oa=k(6304);k(4097);var F_,Fh,B_,yg,_S,_g=k(4303),kh=k(4537),yn=k(9058),Za=k(7879);const N0=new Map,R0={activated:!1,tokenObservers:[]},vS={initialized:!1,enabled:!1};function Pr(t){return N0.get(t)||Object.assign({},R0)}function bg(){return vS}const k0="https://content-firebaseappcheck.googleapis.com/v1",bS="exchangeDebugToken",wg={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class wS{constructor(e,r,n,i,a){if(this.operation=e,this.retryPolicy=r,this.getWaitDuration=n,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var r=this;return(0,Se.Z)(function*(){r.stop();try{r.pending=new yn.BH,yield function LD(t){return new Promise(e=>{setTimeout(e,t)})}(r.getNextRun(e)),r.pending.resolve(),yield r.pending.promise,r.pending=new yn.BH,yield r.operation(),r.pending.resolve(),yield r.pending.promise,r.process(!0).catch(()=>{})}catch(n){r.retryPolicy(n)?r.process(!1).catch(()=>{}):r.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const r=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),r}}}const Xr=new yn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function j_(t){if(!Pr(t).activated)throw Xr.create("use-before-activation",{appName:t.name})}function V0(t,e){return(F_=F_||(0,Se.Z)(function*({url:r,body:n},i){const a={"Content-Type":"application/json"},l=i.getImmediate({optional:!0});if(l){const P=yield l.getHeartbeatsHeader();P&&(a["X-Firebase-Client"]=P)}const f={method:"POST",body:JSON.stringify(n),headers:a};let _,y;try{_=yield fetch(r,f)}catch(P){throw Xr.create("fetch-network-error",{originalErrorMessage:P?.message})}if(200!==_.status)throw Xr.create("fetch-status-error",{httpStatus:_.status});try{y=yield _.json()}catch(P){throw Xr.create("fetch-parse-error",{originalErrorMessage:P?.message})}const I=y.ttl.match(/^([\d.]+)(s)$/);if(!I||!I[2]||isNaN(Number(I[1])))throw Xr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${y.ttl}`});const M=1e3*Number(I[1]),F=Date.now();return{token:y.token,expireTimeMillis:F+M,issuedAtTimeMillis:F}})).apply(this,arguments)}function BD(t,e){const{projectId:r,appId:n,apiKey:i}=t.options;return{url:`${k0}/projects/${r}/apps/${n}:${bS}?key=${i}`,body:{debug_token:e}}}const Bh="firebase-app-check-database",Eg=1,Ig="firebase-app-check-store";let H_=null;function IS(t,e){return(Fh=Fh||(0,Se.Z)(function*(r,n){const a=(yield function VD(){return H_||(H_=new Promise((t,e)=>{try{const r=indexedDB.open(Bh,Eg);r.onsuccess=n=>{t(n.target.result)},r.onerror=n=>{var i;e(Xr.create("storage-open",{originalErrorMessage:null===(i=n.target.error)||void 0===i?void 0:i.message}))},r.onupgradeneeded=n=>{0===n.oldVersion&&n.target.result.createObjectStore(Ig,{keyPath:"compositeKey"})}}catch(r){e(Xr.create("storage-open",{originalErrorMessage:r?.message}))}}),H_)}()).transaction(Ig,"readwrite"),f=a.objectStore(Ig).put({compositeKey:r,value:n});return new Promise((_,y)=>{f.onsuccess=I=>{_()},a.onerror=I=>{var M;y(Xr.create("storage-set",{originalErrorMessage:null===(M=I.target.error)||void 0===M?void 0:M.message}))}})})).apply(this,arguments)}const Cg=new Za.Yd("@firebase/app-check");function z_(t,e){return(0,yn.hl)()?function UD(t,e){return IS(function $0(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(r=>{Cg.warn(`Failed to write token to IndexedDB. Error: ${r}`)}):Promise.resolve()}function W_(){return bg().enabled}function H0(){return(B_=B_||(0,Se.Z)(function*(){const t=bg();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Nx={error:"UNKNOWN_ERROR"};function $D(t){return yn.US.encodeString(JSON.stringify(t),!1)}function Tg(t){return(yg=yg||(0,Se.Z)(function*(e,r=!1){const n=e.app;j_(n);const i=Pr(n);let l,a=i.token;if(a&&!Ds(a)&&(i.token=void 0,a=void 0),!a){const y=yield i.cachedTokenPromise;y&&(Ds(y)?a=y:yield z_(n,void 0))}if(!r&&a&&Ds(a))return{token:a.token};let _,f=!1;if(W_()){i.exchangeTokenPromise||(i.exchangeTokenPromise=V0(BD(n,yield H0()),e.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),f=!0);const y=yield i.exchangeTokenPromise;return yield z_(n,y),i.token=y,{token:y.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),f=!0),a=yield Pr(n).exchangeTokenPromise}catch(y){"appCheck/throttled"===y.code?Cg.warn(y.message):Cg.error(y),l=y}return a?l?_=Ds(a)?{token:a.token,internalError:l}:z0(l):(_={token:a.token},i.token=a,yield z_(n,a)):_=z0(l),f&&function q_(t,e){const r=Pr(t).tokenObservers;for(const n of r)try{"EXTERNAL"===n.type&&null!=e.error?n.error(e.error):n.next(e)}catch{}}(n,_),_})).apply(this,arguments)}function G0(t,e){const r=Pr(t),n=r.tokenObservers.filter(i=>i.next!==e);0===n.length&&r.tokenRefresher&&r.tokenRefresher.isRunning()&&r.tokenRefresher.stop(),r.tokenObservers=n}function AS(t){const{app:e}=t,r=Pr(e);let n=r.tokenRefresher;n||(n=function MS(t){const{app:e}=t;return new wS((0,Se.Z)(function*(){let n;if(n=Pr(e).token?yield Tg(t,!0):yield Tg(t),n.error)throw n.error;if(n.internalError)throw n.internalError}),()=>!0,()=>{const r=Pr(e);if(r.token){let n=r.token.issuedAtTimeMillis+.5*(r.token.expireTimeMillis-r.token.issuedAtTimeMillis)+3e5;return n=Math.min(n,r.token.expireTimeMillis-3e5),Math.max(0,n-Date.now())}return 0},wg.RETRIAL_MIN_WAIT,wg.RETRIAL_MAX_WAIT)}(t),r.tokenRefresher=n),!n.isRunning()&&r.isTokenAutoRefreshEnabled&&n.start()}function Ds(t){return t.expireTimeMillis-Date.now()>0}function z0(t){return{token:$D(Nx),error:t}}class OS{constructor(e,r){this.app=e,this.heartbeatServiceProvider=r}_delete(){const{tokenObservers:e}=Pr(this.app);for(const r of e)G0(this.app,r.next);return Promise.resolve()}}const K_="app-check-internal";!function Vh(){(0,_g.Xd)(new kh.wA("app-check",t=>function Rx(t,e){return new OS(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,r)=>{t.getProvider(K_).initialize()})),(0,_g.Xd)(new kh.wA(K_,t=>function Ai(t){return{getToken:e=>Tg(t,e),getLimitedUseToken:()=>function Mo(t){return(_S=_S||(0,Se.Z)(function*(e){const r=e.app;j_(r);const{provider:n}=Pr(r);if(W_()){const i=yield H0(),{token:a}=yield V0(BD(r,i),e.heartbeatServiceProvider);return{token:a}}{const{token:i}=yield n.getToken();return{token:i}}})).apply(this,arguments)}(t),addTokenListener:e=>function Sg(t,e,r,n){const{app:i}=t,a=Pr(i);if(a.tokenObservers=[...a.tokenObservers,{next:r,error:n,type:e}],a.token&&Ds(a.token)){const f=a.token;Promise.resolve().then(()=>{r({token:f.token}),AS(t)}).catch(()=>{})}a.cachedTokenPromise.then(()=>AS(t))}(t,"INTERNAL",e),removeTokenListener:e=>G0(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,_g.KN)("@firebase/app-check","0.8.0")}();class J_{constructor(){return(0,as.vb)("app-check")}}typeof window<"u"&&window,k(120);const Q0=new d.OlP("angularfire2.auth.use-emulator"),X0=new d.OlP("angularfire2.auth.settings"),Qt=new d.OlP("angularfire2.auth.tenant-id"),eb=new d.OlP("angularfire2.auth.langugage-code"),tb=new d.OlP("angularfire2.auth.use-device-language"),pd=new d.OlP("angularfire.auth.persistence"),nb=(t,e,r,n,i,a,l,f)=>(0,oa.cc)(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{const _=e.runOutsideAngular(()=>t.auth());if(r&&_.useEmulator(...r),n&&(_.tenantId=n),_.languageCode=i,a&&_.useDeviceLanguage(),l)for(const[y,I]of Object.entries(l))_.settings[y]=I;return f&&_.setPersistence(f),_},[r,n,i,a,l,f]);let Q_=(()=>{class t{constructor(r,n,i,a,l,f,_,y,I,M,F,P){const K=new wn.x,le=(0,Rt.of)(void 0).pipe((0,ud.Q)(l.outsideAngular),(0,Or.w)(()=>a.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,8977)))),(0,Ht.U)(()=>(0,oa.on)(r,a,n)),(0,Ht.U)(ue=>nb(ue,a,f,y,I,M,_,F)),sa({bufferSize:1,refCount:!1}));if(ri(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Rt.of)(null);else{le.pipe(Nr()).subscribe();const Ze=le.pipe((0,Or.w)(Ge=>Ge.getRedirectResult().then(ot=>ot,()=>null)),as.iC,sa({bufferSize:1,refCount:!1})),Je=le.pipe((0,Or.w)(Ge=>new ai.y(ot=>({unsubscribe:a.runOutsideAngular(()=>Ge.onAuthStateChanged(St=>ot.next(St),St=>ot.error(St),()=>ot.complete()))})))),Qe=le.pipe((0,Or.w)(Ge=>new ai.y(ot=>({unsubscribe:a.runOutsideAngular(()=>Ge.onIdTokenChanged(St=>ot.next(St),St=>ot.error(St),()=>ot.complete()))}))));this.authState=Ze.pipe(pg(Je),(0,gg.R)(l.outsideAngular),(0,ud.Q)(l.insideAngular)),this.user=Ze.pipe(pg(Qe),(0,gg.R)(l.outsideAngular),(0,ud.Q)(l.insideAngular)),this.idToken=this.user.pipe((0,Or.w)(Ge=>Ge?(0,Qn.D)(Ge.getIdToken()):(0,Rt.of)(null))),this.idTokenResult=this.user.pipe((0,Or.w)(Ge=>Ge?(0,Qn.D)(Ge.getIdTokenResult()):(0,Rt.of)(null))),this.credential=(0,P_.T)(Ze,K,this.authState.pipe(Wn(Ge=>!Ge))).pipe((0,Ht.U)(Ge=>Ge?.user?Ge:null),(0,gg.R)(l.outsideAngular),(0,ud.Q)(l.insideAngular))}return(0,oa.pX)(this,le,a,{spy:{apply:(ue,Ze,Je)=>{(ue.startsWith("signIn")||ue.startsWith("createUser"))&&Je.then(Qe=>K.next(Qe))}}})}}return t.\u0275fac=function(r){return new(r||t)(d.LFG(oa.Dh),d.LFG(oa.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(as.HU),d.LFG(Q0,8),d.LFG(X0,8),d.LFG(Qt,8),d.LFG(eb,8),d.LFG(tb,8),d.LFG(pd,8),d.LFG(J_,8))},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})();var ql=k(6321);function Og(){return(0,Ci.e)((t,e)=>{let r,n=!1;t.subscribe((0,Er.x)(e,i=>{const a=r;r=i,n&&e.next([a,i]),n=!0}))})}var gt,Uh=k(3997),ib=(k(8977),k(3399)),jh=k(7592),sb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Oo={},ob=ob||{},Xt=sb||self;function X_(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function $h(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var ab="closure_uid_"+(1e9*Math.random()>>>0),ZS=0;function KS(t,e,r){return t.call.apply(t.bind,arguments)}function KD(t,e,r){if(!t)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,n),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Gi(t,e,r){return(Gi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?KS:KD).apply(null,arguments)}function ev(t,e){var r=Array.prototype.slice.call(arguments,1);return function(){var n=r.slice();return n.push.apply(n,arguments),t.apply(this,n)}}function Mi(t,e){function r(){}r.prototype=e.prototype,t.$=e.prototype,t.prototype=new r,t.prototype.constructor=t,t.ac=function(n,i,a){for(var l=Array(arguments.length-2),f=2;f<arguments.length;f++)l[f-2]=arguments[f];return e.prototype[i].apply(n,l)}}function ei(){this.s=this.s,this.o=this.o}ei.prototype.s=!1,ei.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function qS(t){Object.prototype.hasOwnProperty.call(t,ab)&&t[ab]||(t[ab]=++ZS)}(this)},ei.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const YD=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let r=0;r<t.length;r++)if(r in t&&t[r]===e)return r;return-1};function JD(t){const e=t.length;if(0<e){const r=Array(e);for(let n=0;n<e;n++)r[n]=t[n];return r}return[]}function tv(t,e){for(let r=1;r<arguments.length;r++){const n=arguments[r];if(X_(n)){const i=t.length||0,a=n.length||0;t.length=i+a;for(let l=0;l<a;l++)t[i+l]=n[l]}else t.push(n)}}function zi(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}zi.prototype.h=function(){this.defaultPrevented=!0};var JS=function(){if(!Xt.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Xt.addEventListener("test",()=>{},e),Xt.removeEventListener("test",()=>{},e)}catch{}return t}();function xg(t){return/^[\s\xa0]*$/.test(t)}function nv(){var t=Xt.navigator;return t&&(t=t.userAgent)?t:""}function aa(t){return-1!=nv().indexOf(t)}function cb(t){return cb[" "](t),t}cb[" "]=function(){};var Ng,t,lb=aa("Opera"),Hh=aa("Trident")||aa("MSIE"),QD=aa("Edge"),ub=QD||Hh,XD=aa("Gecko")&&!(-1!=nv().toLowerCase().indexOf("webkit")&&!aa("Edge"))&&!(aa("Trident")||aa("MSIE"))&&!aa("Edge"),XS=-1!=nv().toLowerCase().indexOf("webkit")&&!aa("Edge");function ca(){var t=Xt.document;return t?t.documentMode:void 0}e:{var db="",rv=(t=nv(),XD?/rv:([^\);]+)(\)|;)/.exec(t):QD?/Edge\/([\d\.]+)/.exec(t):Hh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):XS?/WebKit\/(\S+)/.exec(t):lb?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(rv&&(db=rv?rv[1]:""),Hh){var hb=ca();if(null!=hb&&hb>parseFloat(db)){Ng=String(hb);break e}}Ng=db}var sv=Xt.document&&Hh&&(ca()||parseInt(Ng,10))||void 0;function gd(t,e){if(zi.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var r=this.type=t.type,n=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(XD){e:{try{cb(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==r?e=t.fromElement:"mouseout"==r&&(e=t.toElement);this.relatedTarget=e,n?(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Vx[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&gd.$.h.call(this)}}Mi(gd,zi);var Vx={2:"touch",3:"pen",4:"mouse"};gd.prototype.h=function(){gd.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Gh="closure_listenable_"+(1e6*Math.random()|0),eE=0;function tE(t,e,r,n,i){this.listener=t,this.proxy=null,this.src=e,this.type=r,this.capture=!!n,this.la=i,this.key=++eE,this.fa=this.ia=!1}function Rg(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Pg(t,e,r){for(const n in t)e.call(r,t[n],n,t)}function nE(t){const e={};for(const r in t)e[r]=t[r];return e}const rE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ov(t,e){let r,n;for(let i=1;i<arguments.length;i++){for(r in n=arguments[i],n)t[r]=n[r];for(let a=0;a<rE.length;a++)r=rE[a],Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}}function av(t){this.src=t,this.g={},this.h=0}function cv(t,e){var r=e.type;if(r in t.g){var a,n=t.g[r],i=YD(n,e);(a=0<=i)&&Array.prototype.splice.call(n,i,1),a&&(Rg(e),0==t.g[r].length&&(delete t.g[r],t.h--))}}function pb(t,e,r,n){for(var i=0;i<t.length;++i){var a=t[i];if(!a.fa&&a.listener==e&&a.capture==!!r&&a.la==n)return i}return-1}av.prototype.add=function(t,e,r,n,i){var a=t.toString();(t=this.g[a])||(t=this.g[a]=[],this.h++);var l=pb(t,e,n,i);return-1<l?(e=t[l],r||(e.ia=!1)):((e=new tE(e,this.src,a,!!n,i)).ia=r,t.push(e)),e};var zh="closure_lm_"+(1e6*Math.random()|0),md={};function gb(t,e,r,n,i){if(n&&n.once)return iE(t,e,r,n,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)gb(t,e[a],r,n,i);return null}return r=_d(r),t&&t[Gh]?t.O(e,r,$h(n)?!!n.capture:!!n,i):kg(t,e,r,!1,n,i)}function kg(t,e,r,n,i,a){if(!e)throw Error("Invalid event type");var l=$h(i)?!!i.capture:!!i,f=uv(t);if(f||(t[zh]=f=new av(t)),(r=f.add(e,r,n,l,a)).proxy)return r;if(n=function Ux(){const e=eA;return function t(r){return e.call(t.src,t.listener,r)}}(),r.proxy=n,n.src=t,n.listener=r,t.addEventListener)JS||(i=l),void 0===i&&(i=!1),t.addEventListener(e.toString(),n,i);else if(t.attachEvent)t.attachEvent(sE(e.toString()),n);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(n)}return r}function iE(t,e,r,n,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)iE(t,e[a],r,n,i);return null}return r=_d(r),t&&t[Gh]?t.P(e,r,$h(n)?!!n.capture:!!n,i):kg(t,e,r,!0,n,i)}function mb(t,e,r,n,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)mb(t,e[a],r,n,i);else n=$h(n)?!!n.capture:!!n,r=_d(r),t&&t[Gh]?(t=t.i,(e=String(e).toString())in t.g&&-1<(r=pb(a=t.g[e],r,n,i))&&(Rg(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete t.g[e],t.h--))):t&&(t=uv(t))&&(e=t.g[e.toString()],t=-1,e&&(t=pb(e,r,n,i)),(r=-1<t?e[t]:null)&&lv(r))}function lv(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Gh])cv(e.i,t);else{var r=t.type,n=t.proxy;e.removeEventListener?e.removeEventListener(r,n,t.capture):e.detachEvent?e.detachEvent(sE(r),n):e.addListener&&e.removeListener&&e.removeListener(n),(r=uv(e))?(cv(r,t),0==r.h&&(r.src=null,e[zh]=null)):Rg(t)}}}function sE(t){return t in md?md[t]:md[t]="on"+t}function eA(t,e){if(t.fa)t=!0;else{e=new gd(e,this);var r=t.listener,n=t.la||t.src;t.ia&&lv(t),t=r.call(n,e)}return t}function uv(t){return(t=t[zh])instanceof av?t:null}var dv="__closure_events_fn_"+(1e9*Math.random()>>>0);function _d(t){return"function"==typeof t?t:(t[dv]||(t[dv]=function(e){return t.handleEvent(e)}),t[dv])}function Oi(){ei.call(this),this.i=new av(this),this.S=this,this.J=null}function xi(t,e){var r,n=t.J;if(n)for(r=[];n;n=n.J)r.push(n);if(t=t.S,n=e.type||e,"string"==typeof e)e=new zi(e,t);else if(e instanceof zi)e.target=e.target||t;else{var i=e;ov(e=new zi(n,t),i)}if(i=!0,r)for(var a=r.length-1;0<=a;a--){var l=e.g=r[a];i=Fg(l,n,!0,e)&&i}if(i=Fg(l=e.g=t,n,!0,e)&&i,i=Fg(l,n,!1,e)&&i,r)for(a=0;a<r.length;a++)i=Fg(l=e.g=r[a],n,!1,e)&&i}function Fg(t,e,r,n){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var l=e[a];if(l&&!l.fa&&l.capture==r){var f=l.listener,_=l.la||l.src;l.ia&&cv(t.i,l),i=!1!==f.call(_,n)&&i}}return i&&!n.defaultPrevented}Mi(Oi,ei),Oi.prototype[Gh]=!0,Oi.prototype.removeEventListener=function(t,e,r,n){mb(this,t,e,r,n)},Oi.prototype.N=function(){if(Oi.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var r=t.g[e],n=0;n<r.length;n++)Rg(r[n]);delete t.g[e],t.h--}}this.J=null},Oi.prototype.O=function(t,e,r,n){return this.i.add(String(t),e,!1,r,n)},Oi.prototype.P=function(t,e,r,n){return this.i.add(String(t),e,!0,r,n)};var _b=Xt.JSON.stringify;function Lg(){var t=vb;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var oE=new class tA{constructor(e,r){this.i=e,this.j=r,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new rA,t=>t.reset());class rA{constructor(){this.next=this.g=this.h=null}set(e,r){this.h=e,this.g=r,this.next=null}reset(){this.next=this.g=this.h=null}}function iA(t){var e=1;t=t.split(":");const r=[];for(;0<e&&t.length;)r.push(t.shift()),e--;return t.length&&r.push(t.join(":")),r}function sA(t){Xt.setTimeout(()=>{throw t},0)}let Bg,Vg=!1,vb=new class nA{constructor(){this.h=this.g=null}add(e,r){const n=oE.get();n.set(e,r),this.h?this.h.next=n:this.g=n,this.h=n}},yb=()=>{const t=Xt.Promise.resolve(void 0);Bg=()=>{t.then(bb)}};var bb=()=>{for(var t;t=Lg();){try{t.h.call(t.g)}catch(r){sA(r)}var e=oE;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Vg=!1};function hv(t,e){Oi.call(this),this.h=t||1,this.g=e||Xt,this.j=Gi(this.qb,this),this.l=Date.now()}function Wh(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function wb(t,e,r){if("function"==typeof t)r&&(t=Gi(t,r));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Gi(t.handleEvent,t)}return 2147483647<Number(e)?-1:Xt.setTimeout(t,e||0)}function aE(t){t.g=wb(()=>{t.g=null,t.i&&(t.i=!1,aE(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Mi(hv,Oi),(gt=hv.prototype).ga=!1,gt.T=null,gt.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),xi(this,"tick"),this.ga&&(Wh(this),this.start()))}},gt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},gt.N=function(){hv.$.N.call(this),Wh(this),delete this.g};class oA extends ei{constructor(e,r){super(),this.m=e,this.j=r,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:aE(this)}N(){super.N(),this.g&&(Xt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ug(t){ei.call(this),this.h=t,this.g={}}Mi(Ug,ei);var cE=[];function lE(t,e,r,n){Array.isArray(r)||(r&&(cE[0]=r.toString()),r=cE);for(var i=0;i<r.length;i++){var a=gb(e,r[i],n||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}}function Db(t){Pg(t.g,function(e,r){this.g.hasOwnProperty(r)&&lv(e)},t),t.g={}}function jg(){this.g=!0}function $g(t,e,r,n){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function hE(t,e){if(!t.g)return e;if(!e)return null;try{var r=JSON.parse(e);if(r)for(t=0;t<r.length;t++)if(Array.isArray(r[t])){var n=r[t];if(!(2>n.length)){var i=n[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var l=1;l<i.length;l++)i[l]=""}}}return _b(r)}catch{return e}}(t,r)+(n?" "+n:"")})}Ug.prototype.N=function(){Ug.$.N.call(this),Db(this)},Ug.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},jg.prototype.Ea=function(){this.g=!1},jg.prototype.info=function(){};var qh={},Hg=null;function fv(){return Hg=Hg||new Oi}function fE(t){zi.call(this,qh.Ta,t)}function vd(t){const e=fv();xi(e,new fE(e))}function pE(t,e){zi.call(this,qh.STAT_EVENT,t),this.stat=e}function wr(t){const e=fv();xi(e,new pE(e,t))}function Zh(t,e){zi.call(this,qh.Ua,t),this.size=e}function ti(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Xt.setTimeout(function(){t()},e)}qh.Ta="serverreachability",Mi(fE,zi),qh.STAT_EVENT="statevent",Mi(pE,zi),qh.Ua="timingevent",Mi(Zh,zi);var Ya={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Gg={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Gs(){}function yd(){}Gs.prototype.h=null;var Yl,Ja={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Zl(){zi.call(this,"d")}function Kl(){zi.call(this,"c")}function zc(){}function Qa(t,e,r,n){this.l=t,this.j=e,this.m=r,this.W=n||1,this.U=new Ug(this),this.P=Kh,this.V=new hv(t=ub?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new bd}function bd(){this.i=null,this.g="",this.h=!1}Mi(Zl,zi),Mi(Kl,zi),Mi(zc,Gs),zc.prototype.g=function(){return new XMLHttpRequest},zc.prototype.i=function(){return{}},Yl=new zc;var Kh=45e3,gv={},zg={};function mv(t,e,r){t.L=1,t.v=Dd(Wc(e)),t.s=r,t.S=!0,Eb(t,null)}function Eb(t,e){t.G=Date.now(),Yh(t),t.A=Wc(t.v);var r=t.A,n=t.W;Array.isArray(n)||(n=[String(n)]),pA(r.i,"t",n),t.C=0,r=t.l.J,t.h=new bd,t.g=Jl(t.l,r?e:null,!t.s),0<t.O&&(t.M=new oA(Gi(t.Pa,t,t.g),t.O)),lE(t.U,t.g,"readystatechange",t.nb),e=t.I?nE(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),vd(),function uE(t,e,r,n,i,a){t.info(function(){if(t.g)if(a)for(var l="",f=a.split("&"),_=0;_<f.length;_++){var y=f[_].split("=");if(1<y.length){var I=y[0];y=y[1];var M=I.split("_");l=2<=M.length&&"type"==M[1]?l+(I+"=")+y+"&":l+(I+"=redacted&")}}else l=null;else l=a;return"XMLHTTP REQ ("+n+") [attempt "+i+"]: "+e+"\n"+r+"\n"+l})}(t.j,t.u,t.A,t.m,t.W,t.s)}function Ib(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function Cb(t,e,r){let i,n=!0;for(;!t.J&&t.C<r.length;){if(i=gE(t,r),i==zg){4==e&&(t.o=4,wr(14),n=!1),$g(t.j,t.m,null,"[Incomplete Response]");break}if(i==gv){t.o=4,wr(15),$g(t.j,t.m,r,"[Invalid Chunk]"),n=!1;break}$g(t.j,t.m,i,null),mE(t,i)}Ib(t)&&i!=zg&&i!=gv&&(t.h.g="",t.C=0),4!=e||0!=r.length||t.h.h||(t.o=1,wr(16),n=!1),t.i=t.i&&n,n?0<r.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+r.length),Cv(e),e.M=!0,wr(11))):($g(t.j,t.m,r,"[Invalid Chunked Response]"),Qh(t),Wg(t))}function gE(t,e){var r=t.C,n=e.indexOf("\n",r);return-1==n?zg:(r=Number(e.substring(r,n)),isNaN(r)?gv:(n+=1)+r>e.length?zg:(e=e.slice(n,n+r),t.C=n+r,e))}function Yh(t){t.Y=Date.now()+t.P,Tb(t,t.P)}function Tb(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=ti(Gi(t.lb,t),e)}function Jh(t){t.B&&(Xt.clearTimeout(t.B),t.B=null)}function Wg(t){0==t.l.H||t.J||tm(t.l,t)}function Qh(t){Jh(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,Wh(t.V),Db(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function mE(t,e){try{var r=t.l;if(0!=r.H&&(r.g==t||vv(r.i,t)))if(!t.K&&vv(r.i,t)&&3==r.H){try{var n=r.Ja.g.parse(e)}catch{n=null}if(Array.isArray(n)&&3==n.length){var i=n;if(0==i[0]){e:if(!r.u){if(r.g){if(!(r.g.G+3e3<t.G))break e;em(r),Xg(r)}Iv(r),wr(18)}}else r.Fa=i[1],0<r.Fa-r.V&&37500>i[2]&&r.G&&0==r.A&&!r.v&&(r.v=ti(Gi(r.ib,r),6e3));if(1>=EE(r.i)&&r.oa){try{r.oa()}catch{}r.oa=void 0}}else Id(r,11)}else if((t.K||r.g==t)&&em(r),!xg(e))for(i=r.Ja.g.parse(e),e=0;e<i.length;e++){let y=i[e];if(r.V=y[0],y=y[1],2==r.H)if("c"==y[0]){r.K=y[1],r.pa=y[2];const I=y[3];null!=I&&(r.ra=I,r.l.info("VER="+r.ra));const M=y[4];null!=M&&(r.Ga=M,r.l.info("SVER="+r.Ga));const F=y[5];null!=F&&"number"==typeof F&&0<F&&(r.L=n=1.5*F,r.l.info("backChannelRequestTimeoutMs_="+n)),n=r;const P=t.g;if(P){const K=P.g?P.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(K){var a=n.i;a.g||-1==K.indexOf("spdy")&&-1==K.indexOf("quic")&&-1==K.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(yv(a,a.h),a.h=null))}if(n.F){const le=P.g?P.g.getResponseHeader("X-HTTP-Session-Id"):null;le&&(n.Da=le,er(n.I,n.F,le))}}r.H=3,r.h&&r.h.Ba(),r.ca&&(r.S=Date.now()-t.G,r.l.info("Handshake RTT: "+r.S+"ms"));var l=t;if((n=r).wa=Tv(n,n.J?n.pa:null,n.Y),l.K){Ab(n.i,l);var f=l,_=n.L;_&&f.setTimeout(_),f.B&&(Jh(f),Yh(f)),n.g=l}else Ub(n);0<r.j.length&&uf(r)}else"stop"!=y[0]&&"close"!=y[0]||Id(r,7);else 3==r.H&&("stop"==y[0]||"close"==y[0]?"stop"==y[0]?Id(r,7):Fb(r):"noop"!=y[0]&&r.h&&r.h.Aa(y),r.A=0)}vd()}catch{}}function uA(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(X_(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var r=function lA(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(X_(t)||"string"==typeof t){var e=[];t=t.length;for(var r=0;r<t;r++)e.push(r);return e}e=[],r=0;for(const n in t)e[r++]=n;return e}}}(t),n=function cA(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(X_(t)){for(var e=[],r=t.length,n=0;n<r;n++)e.push(t[n]);return e}for(n in e=[],r=0,t)e[r++]=t[n];return e}(t),i=n.length,a=0;a<i;a++)e.call(void 0,n[a],r&&r[a],t)}(gt=Qa.prototype).setTimeout=function(t){this.P=t},gt.nb=function(t){t=t.target;const e=this.M;e&&3==xo(t)?e.l():this.Pa(t)},gt.Pa=function(t){try{if(t==this.g)e:{const I=xo(this.g);var e=this.g.Ia();if(this.g.da(),!(3>I)&&(3!=I||ub||this.g&&(this.h.h||this.g.ja()||Rb(this.g)))){this.J||4!=I||7==e||vd(),Jh(this);var r=this.g.da();this.ca=r;t:if(Ib(this)){var n=Rb(this.g);t="";var i=n.length,a=4==xo(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Qh(this),Wg(this);var l="";break t}this.h.i=new Xt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(n[e],{stream:a&&e==i-1});n.splice(0,i),this.h.g+=t,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==r,function aA(t,e,r,n,i,a,l){t.info(function(){return"XMLHTTP RESP ("+n+") [ attempt "+i+"]: "+e+"\n"+r+"\n"+a+" "+l})}(this.j,this.u,this.A,this.m,this.W,I,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var f,_=this.g;if((f=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!xg(f)){var y=f;break t}}y=null}if(!(r=y)){this.i=!1,this.o=3,wr(12),Qh(this),Wg(this);break e}$g(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,mE(this,r)}this.S?(Cb(this,I,l),ub&&this.i&&3==I&&(lE(this.U,this.V,"tick",this.mb),this.V.start())):($g(this.j,this.m,l,null),mE(this,l)),4==I&&Qh(this),this.i&&!this.J&&(4==I?tm(this.l,this):(this.i=!1,Yh(this)))}else(function yA(t){const e={};t=(t.g&&2<=xo(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let n=0;n<t.length;n++){if(xg(t[n]))continue;var r=iA(t[n]);const i=r[0];if("string"!=typeof(r=r[1]))continue;r=r.trim();const a=e[i]||[];e[i]=a,a.push(r)}!function Gc(t,e){for(const r in t)e.call(void 0,t[r],r,t)}(e,function(n){return n.join(", ")})})(this.g),400==r&&0<l.indexOf("Unknown SID")?(this.o=3,wr(12)):(this.o=0,wr(13)),Qh(this),Wg(this)}}}catch{}},gt.mb=function(){if(this.g){var t=xo(this.g),e=this.g.ja();this.C<e.length&&(Jh(this),Cb(this,t,e),this.i&&4!=t&&Yh(this))}},gt.cancel=function(){this.J=!0,Qh(this)},gt.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function dE(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(vd(),wr(17)),Qh(this),this.o=2,Wg(this)):Tb(this,this.Y-t)};var _E=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wd(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof wd){this.h=t.h,_v(this,t.j),this.s=t.s,this.g=t.g,Xh(this,t.m),this.l=t.l;var e=t.i,r=new Zg;r.i=e.i,e.g&&(r.g=new Map(e.g),r.h=e.h),ef(this,r),this.o=t.o}else t&&(e=String(t).match(_E))?(this.h=!1,_v(this,e[1]||"",!0),this.s=tf(e[2]||""),this.g=tf(e[3]||"",!0),Xh(this,e[4]),this.l=tf(e[5]||"",!0),ef(this,e[6]||"",!0),this.o=tf(e[7]||"")):(this.h=!1,this.i=new Zg(null,this.h))}function Wc(t){return new wd(t)}function _v(t,e,r){t.j=r?tf(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Xh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function ef(t,e,r){e instanceof Zg?(t.i=e,function gA(t,e){e&&!t.j&&(Xa(t),t.i=null,t.g.forEach(function(r,n){var i=n.toLowerCase();n!=i&&(Kg(this,n),pA(this,i,r))},t)),t.j=e}(t.i,t.h)):(r||(e=qc(e,hA)),t.i=new Zg(e,t.h))}function er(t,e,r){t.i.set(e,r)}function Dd(t){return er(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function tf(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function qc(t,e,r){return"string"==typeof t?(t=encodeURI(t).replace(e,vE),r&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function vE(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}wd.prototype.toString=function(){var t=[],e=this.j;e&&t.push(qc(e,yE,!0),":");var r=this.g;return(r||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(qc(e,yE,!0),"@"),t.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(r=this.m)&&t.push(":",String(r))),(r=this.l)&&(this.g&&"/"!=r.charAt(0)&&t.push("/"),t.push(qc(r,"/"==r.charAt(0)?dA:qg,!0))),(r=this.i.toString())&&t.push("?",r),(r=this.o)&&t.push("#",qc(r,fA)),t.join("")};var yE=/[#\/\?@]/g,qg=/[#\?:]/g,dA=/[#\?]/g,hA=/[#\?@]/g,fA=/#/g;function Zg(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Xa(t){t.g||(t.g=new Map,t.h=0,t.i&&function jx(t,e){if(t){t=t.split("&");for(var r=0;r<t.length;r++){var n=t[r].indexOf("="),i=null;if(0<=n){var a=t[r].substring(0,n);i=t[r].substring(n+1)}else a=t[r];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,r){t.add(decodeURIComponent(e.replace(/\+/g," ")),r)}))}function Kg(t,e){Xa(t),e=nf(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Yg(t,e){return Xa(t),e=nf(t,e),t.g.has(e)}function pA(t,e,r){Kg(t,e),0<r.length&&(t.i=null,t.g.set(nf(t,e),JD(r)),t.h+=r.length)}function nf(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function bE(t){this.l=t||wE,t=Xt.PerformanceNavigationTiming?0<(t=Xt.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Xt.g&&Xt.g.Ka&&Xt.g.Ka()&&Xt.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(gt=Zg.prototype).add=function(t,e){Xa(this),this.i=null,t=nf(this,t);var r=this.g.get(t);return r||this.g.set(t,r=[]),r.push(e),this.h+=1,this},gt.forEach=function(t,e){Xa(this),this.g.forEach(function(r,n){r.forEach(function(i){t.call(e,i,n,this)},this)},this)},gt.ta=function(){Xa(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),r=[];for(let n=0;n<e.length;n++){const i=t[n];for(let a=0;a<i.length;a++)r.push(e[n])}return r},gt.Z=function(t){Xa(this);let e=[];if("string"==typeof t)Yg(this,t)&&(e=e.concat(this.g.get(nf(this,t))));else{t=Array.from(this.g.values());for(let r=0;r<t.length;r++)e=e.concat(t[r])}return e},gt.set=function(t,e){return Xa(this),this.i=null,Yg(this,t=nf(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},gt.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},gt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var r=0;r<e.length;r++){var n=e[r];const a=encodeURIComponent(String(n)),l=this.Z(n);for(n=0;n<l.length;n++){var i=a;""!==l[n]&&(i+="="+encodeURIComponent(String(l[n]))),t.push(i)}}return this.i=t.join("&")};var wE=10;function DE(t){return!!t.h||!!t.g&&t.g.size>=t.j}function EE(t){return t.h?1:t.g?t.g.size:0}function vv(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function yv(t,e){t.g?t.g.add(e):t.h=e}function Ab(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function IE(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const r of t.g.values())e=e.concat(r.F);return e}return JD(t.i)}bE.prototype.cancel=function(){if(this.i=IE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var mA=class{stringify(t){return Xt.JSON.stringify(t,void 0)}parse(t){return Xt.JSON.parse(t,void 0)}};function _A(){this.g=new mA}function CE(t,e,r){const n=r||"";try{uA(t,function(i,a){let l=i;$h(i)&&(l=_b(i)),e.push(n+a+"="+encodeURIComponent(l))})}catch(i){throw e.push(n+"type="+encodeURIComponent("_badmap")),i}}function rf(t,e,r,n,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(n)}catch{}}function Jg(t){this.l=t.fc||null,this.j=t.ob||!1}function Ed(t,e){Oi.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=sf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Mi(Jg,Gs),Jg.prototype.g=function(){return new Ed(this.l,this.j)},Jg.prototype.i=function(t){return function(){return t}}({}),Mi(Ed,Oi);var sf=0;function bv(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function af(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Qg(t)}function Qg(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(gt=Ed.prototype).open=function(t,e){if(this.readyState!=sf)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Qg(this)},gt.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Xt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},gt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,af(this)),this.readyState=sf},gt.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Qg(this)),this.g&&(this.readyState=3,Qg(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Xt.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;bv(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},gt.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?af(this):Qg(this),3==this.readyState&&bv(this)}},gt.Za=function(t){this.g&&(this.response=this.responseText=t,af(this))},gt.Ya=function(t){this.g&&(this.response=t,af(this))},gt.ka=function(){this.g&&af(this)},gt.setRequestHeader=function(t,e){this.v.append(t,e)},gt.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},gt.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var r=e.next();!r.done;)t.push((r=r.value)[0]+": "+r[1]),r=e.next();return t.join("\r\n")},Object.defineProperty(Ed.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var vA=Xt.JSON.parse;function kr(t){Oi.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=wv,this.L=this.M=!1}Mi(kr,Oi);var wv="",Ob=/^https?$/i,TE=["POST","PUT"];function AE(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,ME(t),cf(t)}function ME(t){t.F||(t.F=!0,xi(t,"complete"),xi(t,"error"))}function xb(t){if(t.h&&typeof ob<"u"&&(!t.C[1]||4!=xo(t)||2!=t.da()))if(t.v&&4==xo(t))wb(t.La,0,t);else if(xi(t,"readystatechange"),4==xo(t)){t.h=!1;try{const l=t.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var r;if(!(r=e)){var n;if(n=0===l){var i=String(t.I).match(_E)[1]||null;!i&&Xt.self&&Xt.self.location&&(i=Xt.self.location.protocol.slice(0,-1)),n=!Ob.test(i?i.toLowerCase():"")}r=n}if(r)xi(t,"complete"),xi(t,"success");else{t.m=6;try{var a=2<xo(t)?t.g.statusText:""}catch{a=""}t.j=a+" ["+t.da()+"]",ME(t)}}finally{cf(t)}}}function cf(t,e){if(t.g){Nb(t);const r=t.g,n=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||xi(t,"ready");try{r.onreadystatechange=n}catch{}}}function Nb(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Xt.clearTimeout(t.A),t.A=null)}function xo(t){return t.g?t.g.readyState:0}function Rb(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case wv:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function Pb(t){let e="";return Pg(t,function(r,n){e+=n,e+=":",e+=r,e+="\r\n"}),e}function Dv(t,e,r){e:{for(n in r){var n=!1;break e}n=!0}n||(r=Pb(r),"string"==typeof t?null!=r&&encodeURIComponent(String(r)):er(t,e,r))}function lf(t,e,r){return r&&r.internalChannelParams&&r.internalChannelParams[t]||e}function kb(t){this.Ga=0,this.j=[],this.l=new jg,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=lf("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=lf("baseRetryDelayMs",5e3,t),this.hb=lf("retryDelaySeedMs",1e4,t),this.eb=lf("forwardChannelMaxRetries",2,t),this.xa=lf("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new bE(t&&t.concurrentRequestLimit),this.Ja=new _A,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Fb(t){if(Lb(t),3==t.H){var e=t.W++,r=Wc(t.I);if(er(r,"SID",t.K),er(r,"RID",e),er(r,"TYPE","terminate"),df(t,r),(e=new Qa(t,t.l,e)).L=2,e.v=Dd(Wc(r)),r=!1,Xt.navigator&&Xt.navigator.sendBeacon)try{r=Xt.navigator.sendBeacon(e.v.toString(),"")}catch{}!r&&Xt.Image&&((new Image).src=e.v,r=!0),r||(e.g=Jl(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Yh(e)}OE(t)}function Xg(t){t.g&&(Cv(t),t.g.cancel(),t.g=null)}function Lb(t){Xg(t),t.u&&(Xt.clearTimeout(t.u),t.u=null),em(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Xt.clearTimeout(t.m),t.m=null)}function uf(t){if(!DE(t.i)&&!t.m){t.m=!0;var e=t.Na;Bg||yb(),Vg||(Bg(),Vg=!0),vb.add(e,t),t.C=0}}function Bb(t,e){var r;r=e?e.m:t.W++;const n=Wc(t.I);er(n,"SID",t.K),er(n,"RID",r),er(n,"AID",t.V),df(t,n),t.o&&t.s&&Dv(n,t.o,t.s),r=new Qa(t,t.l,r,t.C+1),null===t.o&&(r.I=t.s),e&&(t.j=e.F.concat(t.j)),e=Vb(t,r,1e3),r.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),yv(t.i,r),mv(r,n,e)}function df(t,e){t.na&&Pg(t.na,function(r,n){er(e,n,r)}),t.h&&uA({},function(r,n){er(e,n,r)})}function Vb(t,e,r){r=Math.min(t.j.length,r);var n=t.h?Gi(t.h.Va,t.h,t):null;e:{var i=t.j;let a=-1;for(;;){const l=["count="+r];-1==a?0<r?(a=i[0].g,l.push("ofs="+a)):a=0:l.push("ofs="+a);let f=!0;for(let _=0;_<r;_++){let y=i[_].g;const I=i[_].map;if(y-=a,0>y)a=Math.max(0,i[_].g-100),f=!1;else try{CE(I,l,"req"+y+"_")}catch{n&&n(I)}}if(f){n=l.join("&");break e}}}return t=t.j.splice(0,r),e.F=t,n}function Ub(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Bg||yb(),Vg||(Bg(),Vg=!0),vb.add(e,t),t.A=0}}function Iv(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=ti(Gi(t.Ma,t),Zc(t,t.A)),t.A++,0))}function Cv(t){null!=t.B&&(Xt.clearTimeout(t.B),t.B=null)}function jb(t){t.g=new Qa(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Wc(t.wa);er(e,"RID","rpc"),er(e,"SID",t.K),er(e,"AID",t.V),er(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&er(e,"TO",t.qa),er(e,"TYPE","xmlhttp"),df(t,e),t.o&&t.s&&Dv(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var r=t.g;t=t.pa,r.L=1,r.v=Dd(Wc(e)),r.s=null,r.S=!0,Eb(r,t)}function em(t){null!=t.v&&(Xt.clearTimeout(t.v),t.v=null)}function tm(t,e){var r=null;if(t.g==e){em(t),Cv(t),t.g=null;var n=2}else{if(!vv(t.i,e))return;r=e.F,Ab(t.i,e),n=1}if(0!=t.H)if(e.i)if(1==n){r=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;xi(n=fv(),new Zh(n,r)),uf(t)}else Ub(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==n&&function Ev(t,e){return!(EE(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=ti(Gi(t.Na,t,e),Zc(t,t.C)),t.C++,0)))}(t,e)||2==n&&Iv(t)))switch(r&&0<r.length&&(e=t.i,e.i=e.i.concat(r)),i){case 1:Id(t,5);break;case 4:Id(t,10);break;case 3:Id(t,6);break;default:Id(t,2)}}function Zc(t,e){let r=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(r*=2),r*e}function Id(t,e){if(t.l.info("Error code "+e),2==e){var r=null;t.h&&(r=null);var n=Gi(t.pb,t);r||(r=new wd("//www.google.com/images/cleardot.gif"),Xt.location&&"http"==Xt.location.protocol||_v(r,"https"),Dd(r)),function Mb(t,e){const r=new jg;if(Xt.Image){const n=new Image;n.onload=ev(rf,r,n,"TestLoadImage: loaded",!0,e),n.onerror=ev(rf,r,n,"TestLoadImage: error",!1,e),n.onabort=ev(rf,r,n,"TestLoadImage: abort",!1,e),n.ontimeout=ev(rf,r,n,"TestLoadImage: timeout",!1,e),Xt.setTimeout(function(){n.ontimeout&&n.ontimeout()},1e4),n.src=t}else e(!1)}(r.toString(),n)}else wr(2);t.H=0,t.h&&t.h.za(e),OE(t),Lb(t)}function OE(t){if(t.H=0,t.ma=[],t.h){const e=IE(t.i);(0!=e.length||0!=t.j.length)&&(tv(t.ma,e),tv(t.ma,t.j),t.i.i.length=0,JD(t.j),t.j.length=0),t.h.ya()}}function Tv(t,e,r){var n=r instanceof wd?Wc(r):new wd(r);if(""!=n.g)e&&(n.g=e+"."+n.g),Xh(n,n.m);else{var i=Xt.location;n=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var a=new wd(null);n&&_v(a,n),e&&(a.g=e),i&&Xh(a,i),r&&(a.l=r),n=a}return e=t.Da,(r=t.F)&&e&&er(n,r,e),er(n,"VER",t.ra),df(t,n),n}function Jl(t,e,r){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new kr(r&&t.Ha&&!t.va?new Jg({ob:!0}):t.va)).Oa(t.J),e}function Sv(){}function Av(){if(Hh&&!(10<=Number(sv)))throw Error("Environmental error: no available transport.")}function Es(t,e){Oi.call(this),this.g=new kb(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!xg(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!xg(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new hf(this)}function bA(t){Zl.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const r in e){t=r;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function wA(){Kl.call(this),this.status=1}function hf(t){this.g=t}function No(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function $b(t,e,r){r||(r=0);var n=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)n[i]=e.charCodeAt(r++)|e.charCodeAt(r++)<<8|e.charCodeAt(r++)<<16|e.charCodeAt(r++)<<24;else for(i=0;16>i;++i)n[i]=e[r++]|e[r++]<<8|e[r++]<<16|e[r++]<<24;var a=t.g[3],l=(e=t.g[0])+(a^(r=t.g[1])&((i=t.g[2])^a))+n[0]+3614090360&4294967295;l=(r=(i=(a=(e=(r=(i=(a=(e=(r=(i=(a=(e=(r=(i=(a=(e=(r=(i=(a=(e=(r=(i=(a=(e=(r=(i=(a=(e=(r=(i=(a=(e=(r=(i=(a=(e=(r=(i=(a=(e=(r=(i=(a=(e=(r=(i=(a=(e=(r=(i=(a=(e=(r=(i=(a=(e=(r=(i=(a=(e=r+(l<<7&4294967295|l>>>25))+((l=a+(i^e&(r^i))+n[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=i+(r^a&(e^r))+n[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=r+(e^i&(a^e))+n[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=e+(a^r&(i^a))+n[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=a+(i^e&(r^i))+n[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=i+(r^a&(e^r))+n[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=r+(e^i&(a^e))+n[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=e+(a^r&(i^a))+n[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=a+(i^e&(r^i))+n[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=i+(r^a&(e^r))+n[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=r+(e^i&(a^e))+n[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=e+(a^r&(i^a))+n[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=a+(i^e&(r^i))+n[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=i+(r^a&(e^r))+n[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=r+(e^i&(a^e))+n[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=e+(i^a&(r^i))+n[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=a+(r^i&(e^r))+n[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^r&(a^e))+n[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=r+(a^e&(i^a))+n[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^a&(r^i))+n[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=a+(r^i&(e^r))+n[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^r&(a^e))+n[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=r+(a^e&(i^a))+n[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^a&(r^i))+n[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=a+(r^i&(e^r))+n[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^r&(a^e))+n[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=r+(a^e&(i^a))+n[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^a&(r^i))+n[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=a+(r^i&(e^r))+n[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^r&(a^e))+n[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=r+(a^e&(i^a))+n[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=e+(r^i^a)+n[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^r^i)+n[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=i+(a^e^r)+n[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=r+(i^a^e)+n[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=e+(r^i^a)+n[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^r^i)+n[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=i+(a^e^r)+n[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=r+(i^a^e)+n[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=e+(r^i^a)+n[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^r^i)+n[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=i+(a^e^r)+n[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=r+(i^a^e)+n[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=e+(r^i^a)+n[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^r^i)+n[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=i+(a^e^r)+n[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=r+(i^a^e)+n[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=e+(i^(r|~a))+n[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=a+(r^(e|~i))+n[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(a|~r))+n[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=r+(a^(i|~e))+n[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=e+(i^(r|~a))+n[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=a+(r^(e|~i))+n[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(a|~r))+n[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=r+(a^(i|~e))+n[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=e+(i^(r|~a))+n[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=a+(r^(e|~i))+n[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(a|~r))+n[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=r+(a^(i|~e))+n[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((a=(e=r+((l=e+(i^(r|~a))+n[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=a+(r^(e|~i))+n[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((i=a+((l=i+(e^(a|~r))+n[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~e))+n[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(l<<21&4294967295|l>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+a&4294967295}function Zt(t,e){this.h=e;for(var r=[],n=!0,i=t.length-1;0<=i;i--){var a=0|t[i];n&&a==e||(r[i]=a,n=!1)}this.g=r}(gt=kr.prototype).Oa=function(t){this.M=t},gt.ha=function(t,e,r,n){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Yl.g(),this.C=function pv(t){return t.h||(t.h=t.i())}(this.u?this.u:Yl),this.g.onreadystatechange=Gi(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(a){return void AE(this,a)}if(t=r||"",r=new Map(this.headers),n)if(Object.getPrototypeOf(n)===Object.prototype)for(var i in n)r.set(i,n[i]);else{if("function"!=typeof n.keys||"function"!=typeof n.get)throw Error("Unknown input type for opt_headers: "+String(n));for(const a of n.keys())r.set(a,n.get(a))}n=Array.from(r.keys()).find(a=>"content-type"==a.toLowerCase()),i=Xt.FormData&&t instanceof Xt.FormData,!(0<=YD(TE,e))||n||i||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,l]of r)this.g.setRequestHeader(a,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Nb(this),0<this.B&&((this.L=function SE(t){return Hh&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Gi(this.ua,this)):this.A=wb(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(a){AE(this,a)}},gt.ua=function(){typeof ob<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,xi(this,"timeout"),this.abort(8))},gt.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,xi(this,"complete"),xi(this,"abort"),cf(this))},gt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),cf(this,!0)),kr.$.N.call(this)},gt.La=function(){this.s||(this.G||this.v||this.l?xb(this):this.kb())},gt.kb=function(){xb(this)},gt.isActive=function(){return!!this.g},gt.da=function(){try{return 2<xo(this)?this.g.status:-1}catch{return-1}},gt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},gt.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),vA(e)}},gt.Ia=function(){return this.m},gt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(gt=kb.prototype).ra=8,gt.H=1,gt.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Qa(this,this.l,t);let a=this.s;if(this.U&&(a?(a=nE(a),ov(a,this.U)):a=this.U),null!==this.o||this.O||(i.I=a,a=null),this.P)e:{for(var e=0,r=0;r<this.j.length;r++){var n=this.j[r];if(void 0===(n="__data__"in n.map&&"string"==typeof(n=n.map.__data__)?n.length:void 0))break;if(4096<(e+=n)){e=r;break e}if(4096===e||r===this.j.length-1){e=r+1;break e}}e=1e3}else e=1e3;e=Vb(this,i,e),er(r=Wc(this.I),"RID",t),er(r,"CVER",22),this.F&&er(r,"X-HTTP-Session-Id",this.F),df(this,r),a&&(this.O?e="headers="+encodeURIComponent(String(Pb(a)))+"&"+e:this.o&&Dv(r,this.o,a)),yv(this.i,i),this.bb&&er(r,"TYPE","init"),this.P?(er(r,"$req",e),er(r,"SID","null"),i.aa=!0,mv(i,r,null)):mv(i,r,e),this.H=2}}else 3==this.H&&(t?Bb(this,t):0==this.j.length||DE(this.i)||Bb(this))},gt.Ma=function(){if(this.u=null,jb(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=ti(Gi(this.jb,this),t)}},gt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,wr(10),Xg(this),jb(this))},gt.ib=function(){null!=this.v&&(this.v=null,Xg(this),Iv(this),wr(19))},gt.pb=function(t){t?(this.l.info("Successfully pinged google.com"),wr(2)):(this.l.info("Failed to ping google.com"),wr(1))},gt.isActive=function(){return!!this.h&&this.h.isActive(this)},(gt=Sv.prototype).Ba=function(){},gt.Aa=function(){},gt.za=function(){},gt.ya=function(){},gt.isActive=function(){return!0},gt.Va=function(){},Av.prototype.g=function(t,e){return new Es(t,e)},Mi(Es,Oi),Es.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,r=this.h||void 0;wr(0),t.Y=e,t.na=r||{},t.G=t.aa,t.I=Tv(t,null,t.Y),uf(t)},Es.prototype.close=function(){Fb(this.g)},Es.prototype.u=function(t){var e=this.g;if("string"==typeof t){var r={};r.__data__=t,t=r}else this.v&&((r={}).__data__=_b(t),t=r);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&uf(e)},Es.prototype.N=function(){this.g.h=null,delete this.j,Fb(this.g),delete this.g,Es.$.N.call(this)},Mi(bA,Zl),Mi(wA,Kl),Mi(hf,Sv),hf.prototype.Ba=function(){xi(this.g,"a")},hf.prototype.Aa=function(t){xi(this.g,new bA(t))},hf.prototype.za=function(t){xi(this.g,new wA)},hf.prototype.ya=function(){xi(this.g,"b")},Mi(No,function DA(){this.blockSize=-1}),No.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},No.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var r=e-this.blockSize,n=this.m,i=this.h,a=0;a<e;){if(0==i)for(;a<=r;)$b(this,t,a),a+=this.blockSize;if("string"==typeof t){for(;a<e;)if(n[i++]=t.charCodeAt(a++),i==this.blockSize){$b(this,n),i=0;break}}else for(;a<e;)if(n[i++]=t[a++],i==this.blockSize){$b(this,n),i=0;break}}this.h=i,this.i+=e},No.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var r=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&r,r/=256;for(this.j(t),t=Array(16),e=r=0;4>e;++e)for(var n=0;32>n;n+=8)t[r++]=this.g[e]>>>n&255;return t};var xE={};function Hb(t){return-128<=t&&128>t?function QS(t,e){var r=xE;return Object.prototype.hasOwnProperty.call(r,t)?r[t]:r[t]=e(t)}(t,function(e){return new Zt([0|e],0>e?-1:0)}):new Zt([0|t],0>t?-1:0)}function ec(t){if(isNaN(t)||!isFinite(t))return Cd;if(0>t)return Ni(ec(-t));for(var e=[],r=1,n=0;t>=r;n++)e[n]=t/r|0,r*=zb;return new Zt(e,0)}var zb=4294967296,Cd=Hb(0),Mv=Hb(1),Td=Hb(16777216);function Kc(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function Ro(t){return-1==t.h}function Ni(t){for(var e=t.g.length,r=[],n=0;n<e;n++)r[n]=~t.g[n];return new Zt(r,~t.h).add(Mv)}function Ov(t,e){return t.add(Ni(e))}function nm(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function xv(t,e){this.g=t,this.h=e}function rm(t,e){if(Kc(e))throw Error("division by zero");if(Kc(t))return new xv(Cd,Cd);if(Ro(t))return e=rm(Ni(t),e),new xv(Ni(e.g),Ni(e.h));if(Ro(e))return e=rm(t,Ni(e)),new xv(Ni(e.g),e.h);if(30<t.g.length){if(Ro(t)||Ro(e))throw Error("slowDivide_ only works with positive integers.");for(var r=Mv,n=e;0>=n.X(t);)r=Nv(r),n=Nv(n);var i=Is(r,1),a=Is(n,1);for(n=Is(n,2),r=Is(r,2);!Kc(n);){var l=a.add(n);0>=l.X(t)&&(i=i.add(r),a=l),n=Is(n,1),r=Is(r,1)}return e=Ov(t,i.R(e)),new xv(i,e)}for(i=Cd;0<=t.X(e);){for(r=Math.max(1,Math.floor(t.ea()/e.ea())),n=48>=(n=Math.ceil(Math.log(r)/Math.LN2))?1:Math.pow(2,n-48),l=(a=ec(r)).R(e);Ro(l)||0<l.X(t);)l=(a=ec(r-=n)).R(e);Kc(a)&&(a=Mv),i=i.add(a),t=Ov(t,l)}return new xv(i,t)}function Nv(t){for(var e=t.g.length+1,r=[],n=0;n<e;n++)r[n]=t.D(n)<<1|t.D(n-1)>>>31;return new Zt(r,t.h)}function Is(t,e){var r=e>>5;e%=32;for(var n=t.g.length-r,i=[],a=0;a<n;a++)i[a]=0<e?t.D(a+r)>>>e|t.D(a+r+1)<<32-e:t.D(a+r);return new Zt(i,t.h)}(gt=Zt.prototype).ea=function(){if(Ro(this))return-Ni(this).ea();for(var t=0,e=1,r=0;r<this.g.length;r++){var n=this.D(r);t+=(0<=n?n:zb+n)*e,e*=zb}return t},gt.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(Kc(this))return"0";if(Ro(this))return"-"+Ni(this).toString(t);for(var e=ec(Math.pow(t,6)),r=this,n="";;){var i=rm(r,e).g,a=((0<(r=Ov(r,i.R(e))).g.length?r.g[0]:r.h)>>>0).toString(t);if(Kc(r=i))return a+n;for(;6>a.length;)a="0"+a;n=a+n}},gt.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},gt.X=function(t){return Ro(t=Ov(this,t))?-1:Kc(t)?0:1},gt.abs=function(){return Ro(this)?Ni(this):this},gt.add=function(t){for(var e=Math.max(this.g.length,t.g.length),r=[],n=0,i=0;i<=e;i++){var a=n+(65535&this.D(i))+(65535&t.D(i)),l=(a>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);n=l>>>16,r[i]=(l&=65535)<<16|(a&=65535)}return new Zt(r,-2147483648&r[r.length-1]?-1:0)},gt.R=function(t){if(Kc(this)||Kc(t))return Cd;if(Ro(this))return Ro(t)?Ni(this).R(Ni(t)):Ni(Ni(this).R(t));if(Ro(t))return Ni(this.R(Ni(t)));if(0>this.X(Td)&&0>t.X(Td))return ec(this.ea()*t.ea());for(var e=this.g.length+t.g.length,r=[],n=0;n<2*e;n++)r[n]=0;for(n=0;n<this.g.length;n++)for(var i=0;i<t.g.length;i++){var a=this.D(n)>>>16,l=65535&this.D(n),f=t.D(i)>>>16,_=65535&t.D(i);r[2*n+2*i]+=l*_,nm(r,2*n+2*i),r[2*n+2*i+1]+=a*_,nm(r,2*n+2*i+1),r[2*n+2*i+1]+=l*f,nm(r,2*n+2*i+1),r[2*n+2*i+2]+=a*f,nm(r,2*n+2*i+2)}for(n=0;n<e;n++)r[n]=r[2*n+1]<<16|r[2*n];for(n=e;n<2*e;n++)r[n]=0;return new Zt(r,0)},gt.gb=function(t){return rm(this,t).h},gt.and=function(t){for(var e=Math.max(this.g.length,t.g.length),r=[],n=0;n<e;n++)r[n]=this.D(n)&t.D(n);return new Zt(r,this.h&t.h)},gt.or=function(t){for(var e=Math.max(this.g.length,t.g.length),r=[],n=0;n<e;n++)r[n]=this.D(n)|t.D(n);return new Zt(r,this.h|t.h)},gt.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),r=[],n=0;n<e;n++)r[n]=this.D(n)^t.D(n);return new Zt(r,this.h^t.h)},Av.prototype.createWebChannel=Av.prototype.g,Es.prototype.send=Es.prototype.u,Es.prototype.open=Es.prototype.m,Es.prototype.close=Es.prototype.close,Ya.NO_ERROR=0,Ya.TIMEOUT=8,Ya.HTTP_ERROR=6,Gg.COMPLETE="complete",yd.EventType=Ja,Ja.OPEN="a",Ja.CLOSE="b",Ja.ERROR="c",Ja.MESSAGE="d",Oi.prototype.listen=Oi.prototype.O,kr.prototype.listenOnce=kr.prototype.P,kr.prototype.getLastError=kr.prototype.Sa,kr.prototype.getLastErrorCode=kr.prototype.Ia,kr.prototype.getStatus=kr.prototype.da,kr.prototype.getResponseJson=kr.prototype.Wa,kr.prototype.getResponseText=kr.prototype.ja,kr.prototype.send=kr.prototype.ha,kr.prototype.setWithCredentials=kr.prototype.Oa,No.prototype.digest=No.prototype.l,No.prototype.reset=No.prototype.reset,No.prototype.update=No.prototype.j,Zt.prototype.add=Zt.prototype.add,Zt.prototype.multiply=Zt.prototype.R,Zt.prototype.modulo=Zt.prototype.gb,Zt.prototype.compare=Zt.prototype.X,Zt.prototype.toNumber=Zt.prototype.ea,Zt.prototype.toString=Zt.prototype.toString,Zt.prototype.getBits=Zt.prototype.D,Zt.fromNumber=ec,Zt.fromString=function Gb(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Ni(Gb(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=ec(Math.pow(e,8)),n=Cd,i=0;i<t.length;i+=8){var a=Math.min(8,t.length-i),l=parseInt(t.substring(i,i+a),e);8>a?(a=ec(Math.pow(e,a)),n=n.R(a).add(ec(l))):n=(n=n.R(r)).add(ec(l))}return n};var Pv,pf,PE,qb,kE,Zb,Kb,im,LE,Yb,Jb,Qb,BE,VE,kv,sm,Xb,e1,t1,n1,r1,i1,s1,o1,UE,jE,$E,HE,GE,zE,WE,qE,ZE,KE,YE,JE,QE,XE,eI,tI,nI,rI,a1,EA=Oo.createWebChannelTransport=function(){return new Av},NE=Oo.getStatEventTarget=function(){return fv()},Po=Oo.ErrorCode=Ya,la=Oo.EventType=Gg,ua=Oo.Event=qh,Wb=Oo.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},RE=Oo.FetchXmlHttpFactory=Jg,Rv=Oo.WebChannel=yd,IA=Oo.XhrIo=kr,CA=Oo.Md5=No,ff=Oo.Integer=Zt;const c1="@firebase/firestore";class hi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hi.UNAUTHENTICATED=new hi(null),hi.GOOGLE_CREDENTIALS=new hi("google-credentials-uid"),hi.FIRST_PARTY=new hi("first-party-uid"),hi.MOCK_USER=new hi("mock-user");let Sd="9.23.0";const Yc=new Za.Yd("@firebase/firestore");function Fv(){return Yc.logLevel}function Ye(t,...e){if(Yc.logLevel<=Za.in.DEBUG){const r=e.map(Lv);Yc.debug(`Firestore (${Sd}): ${t}`,...r)}}function Fr(t,...e){if(Yc.logLevel<=Za.in.ERROR){const r=e.map(Lv);Yc.error(`Firestore (${Sd}): ${t}`,...r)}}function zs(t,...e){if(Yc.logLevel<=Za.in.WARN){const r=e.map(Lv);Yc.warn(`Firestore (${Sd}): ${t}`,...r)}}function Lv(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function _t(t="Unexpected state"){const e=`FIRESTORE (${Sd}) INTERNAL ASSERTION FAILED: `+t;throw Fr(e),new Error(e)}function Ot(t,e){t||_t()}function ct(t,e){return t}const _e={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class je extends yn.ZR{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ri{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class l1{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class sI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(hi.UNAUTHENTICATED))}shutdown(){}}class $x{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class gf{constructor(e){this.t=e,this.currentUser=hi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var n=this;let i=this.i;const a=y=>this.i!==i?(i=this.i,r(y)):Promise.resolve();let l=new Ri;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ri,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const y=l;e.enqueueRetryable((0,Se.Z)(function*(){yield y.promise,yield a(n.currentUser)}))},_=y=>{Ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(y=>_(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?_(y):(Ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ri)}},0),f()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(Ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Ot("string"==typeof n.accessToken),new l1(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ot(null===e||"string"==typeof e),new hi(e)}}class SA{constructor(e,r,n){this.h=e,this.l=r,this.m=n,this.type="FirstParty",this.user=hi.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class AA{constructor(e,r,n){this.h=e,this.l=r,this.m=n}getToken(){return Promise.resolve(new SA(this.h,this.l,this.m))}start(e,r){e.enqueueRetryable(()=>r(hi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class oI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mf{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,r){const n=a=>{null!=a.error&&Ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.T;return this.T=a.token,Ye("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>n(a))};const i=a=>{Ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.I.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.I.getImmediate({optional:!0});a?i(a):Ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Ot("string"==typeof r.token),this.T=r.token,new oI(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Bv(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}class om{static A(){const r=62*Math.floor(256/62);let n="";for(;n.length<20;){const i=Bv(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[a]%62))}return n}}function Pt(t,e){return t<e?-1:t>e?1:0}function am(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}function u1(t){return t+"\0"}class fr{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new je(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new je(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new je(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new je(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return fr.fromMillis(Date.now())}static fromDate(e){return fr.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new fr(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Pt(this.nanoseconds,e.nanoseconds):Pt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class kt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new kt(e)}static min(){return new kt(new fr(0,0))}static max(){return new kt(new fr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class _f{constructor(e,r,n){void 0===r?r=0:r>e.length&&_t(),void 0===n?n=e.length-r:n>e.length-r&&_t(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return 0===_f.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof _f?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const a=e.get(i),l=r.get(i);if(a<l)return-1;if(a>l)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class In extends _f{construct(e,r,n){return new In(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new je(_e.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new In(r)}static emptyPath(){return new In([])}}const aI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tr extends _f{construct(e,r,n){return new Tr(e,r,n)}static isValidIdentifier(e){return aI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Tr(["__name__"])}static fromServerFormat(e){const r=[];let n="",i=0;const a=()=>{if(0===n.length)throw new je(_e.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let l=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new je(_e.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[i+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new je(_e.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=_,i+=2}else"`"===f?(l=!l,i++):"."!==f||l?(n+=f,i++):(a(),i++)}if(a(),l)throw new je(_e.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tr(r)}static emptyPath(){return new Tr([])}}class ht{constructor(e){this.path=e}static fromPath(e){return new ht(In.fromString(e))}static fromName(e){return new ht(In.fromString(e).popFirst(5))}static empty(){return new ht(In.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===In.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return In.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ht(new In(e.slice()))}}class Vv{constructor(e,r,n,i){this.indexId=e,this.collectionGroup=r,this.fields=n,this.indexState=i}}function d1(t){return t.fields.find(e=>2===e.kind)}function da(t){return t.fields.filter(e=>2!==e.kind)}Vv.UNKNOWN_ID=-1;class Uv{constructor(e,r){this.fieldPath=e,this.kind=r}}class Ql{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new Ql(0,Ws.min())}}function h1(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=kt.fromTimestamp(1e9===n?new fr(r+1,0):new fr(r,n));return new Ws(i,ht.empty(),e)}function f1(t){return new Ws(t.readTime,t.key,-1)}class Ws{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Ws(kt.min(),ht.empty(),-1)}static max(){return new Ws(kt.max(),ht.empty(),-1)}}function p1(t,e){let r=t.readTime.compareTo(e.readTime);return 0!==r?r:(r=ht.comparator(t.documentKey,e.documentKey),0!==r?r:Pt(t.largestBatchId,e.largestBatchId))}const vf="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yf{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Xl(t){return(Pv=Pv||(0,Se.Z)(function*(e){if(e.code!==_e.FAILED_PRECONDITION||e.message!==vf)throw e;Ye("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&_t(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new ce((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof ce?r:ce.resolve(r)}catch(r){return ce.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):ce.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):ce.reject(r)}static resolve(e){return new ce((r,n)=>{r(e)})}static reject(e){return new ce((r,n)=>{n(e)})}static waitFor(e){return new ce((r,n)=>{let i=0,a=0,l=!1;e.forEach(f=>{++i,f.next(()=>{++a,l&&a===i&&r()},_=>n(_))}),l=!0,a===i&&r()})}static or(e){let r=ce.resolve(!1);for(const n of e)r=r.next(i=>i?ce.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,a)=>{n.push(r.call(this,i,a))}),this.waitFor(n)}static mapArray(e,r){return new ce((n,i)=>{const a=e.length,l=new Array(a);let f=0;for(let _=0;_<a;_++){const y=_;r(e[y]).next(I=>{l[y]=I,++f,f===a&&n(l)},I=>i(I))}})}static doWhile(e,r){return new ce((n,i)=>{const a=()=>{!0===e()?r().next(()=>{a()},i):n()};a()})}}class jv{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.v=new Ri,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{r.error?this.v.reject(new bf(e,r.error)):this.v.resolve()},this.transaction.onerror=n=>{const i=dI(n.target.error);this.v.reject(new bf(e,i))}}static open(e,r,n,i){try{return new jv(r,e.transaction(i,n))}catch(a){throw new bf(r,a)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Ye("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const r=this.transaction.objectStore(e);return new lI(r)}}class ko{constructor(e,r,n){this.name=e,this.version=r,this.V=n,12.2===ko.S((0,yn.z$)())&&Fr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ye("SimpleDb","Removing database:",e),Ad(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,yn.hl)())return!1;if(ko.C())return!0;const e=(0,yn.z$)(),r=ko.S(e),n=0<r&&r<10,i=ko.N(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||a)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static N(e){const r=e.match(/Android ([\d.]+)/i),n=r?r[1].split(".").slice(0,2).join("."):"-1";return Number(n)}$(e){var r=this;return(0,Se.Z)(function*(){return r.db||(Ye("SimpleDb","Opening database:",r.name),r.db=yield new Promise((n,i)=>{const a=indexedDB.open(r.name,r.version);a.onsuccess=l=>{n(l.target.result)},a.onblocked=()=>{i(new bf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=l=>{const f=l.target.error;i("VersionError"===f.name?new je(_e.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new je(_e.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new bf(e,f))},a.onupgradeneeded=l=>{Ye("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',l.oldVersion),r.V.O(l.target.result,a.transaction,l.oldVersion,r.version).next(()=>{Ye("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.F&&(r.db.onversionchange=n=>r.F(n)),r.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=r=>e(r))}runTransaction(e,r,n,i){var a=this;return(0,Se.Z)(function*(){const l="readonly"===r;let f=0;for(;;){++f;try{a.db=yield a.$(e);const _=jv.open(a.db,e,l?"readonly":"readwrite",n),y=i(_).next(I=>(_.P(),I)).catch(I=>(_.abort(I),ce.reject(I))).toPromise();return y.catch(()=>{}),yield _.R,y}catch(_){const y=_,I="FirebaseError"!==y.name&&f<3;if(Ye("SimpleDb","Transaction failed with error:",y.message,"Retrying:",I),a.close(),!I)return Promise.reject(y)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class cI{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Ad(this.L.delete())}}class bf extends je{constructor(e,r){super(_e.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function eu(t){return"IndexedDbTransactionError"===t.name}class lI{constructor(e){this.store=e}put(e,r){let n;return void 0!==r?(Ye("SimpleDb","PUT",this.store.name,e,r),n=this.store.put(r,e)):(Ye("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Ad(n)}add(e){return Ye("SimpleDb","ADD",this.store.name,e,e),Ad(this.store.add(e))}get(e){return Ad(this.store.get(e)).next(r=>(void 0===r&&(r=null),Ye("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return Ye("SimpleDb","DELETE",this.store.name,e),Ad(this.store.delete(e))}count(){return Ye("SimpleDb","COUNT",this.store.name),Ad(this.store.count())}j(e,r){const n=this.options(e,r);if(n.index||"function"!=typeof this.store.getAll){const i=this.cursor(n),a=[];return this.W(i,(l,f)=>{a.push(f)}).next(()=>a)}{const i=this.store.getAll(n.range);return new ce((a,l)=>{i.onerror=f=>{l(f.target.error)},i.onsuccess=f=>{a(f.target.result)}})}}H(e,r){const n=this.store.getAll(e,null===r?void 0:r);return new ce((i,a)=>{n.onerror=l=>{a(l.target.error)},n.onsuccess=l=>{i(l.target.result)}})}J(e,r){Ye("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,r);n.Y=!1;const i=this.cursor(n);return this.W(i,(a,l,f)=>f.delete())}X(e,r){let n;r?n=e:(n={},r=e);const i=this.cursor(n);return this.W(i,r)}Z(e){const r=this.cursor({});return new ce((n,i)=>{r.onerror=a=>{const l=dI(a.target.error);i(l)},r.onsuccess=a=>{const l=a.target.result;l?e(l.primaryKey,l.value).next(f=>{f?l.continue():n()}):n()}})}W(e,r){const n=[];return new ce((i,a)=>{e.onerror=l=>{a(l.target.error)},e.onsuccess=l=>{const f=l.target.result;if(!f)return void i();const _=new cI(f),y=r(f.primaryKey,f.value,_);if(y instanceof ce){const I=y.catch(M=>(_.done(),ce.reject(M)));n.push(I)}_.isDone?i():null===_.K?f.continue():f.continue(_.K)}}).next(()=>ce.waitFor(n))}options(e,r){let n;return void 0!==e&&("string"==typeof e?n=e:r=e),{index:n,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,r):n.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function Ad(t){return new ce((e,r)=>{t.onsuccess=n=>{e(n.target.result)},t.onerror=n=>{const i=dI(n.target.error);r(i)}})}let uI=!1;function dI(t){const e=ko.S((0,yn.z$)());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(r)>=0){const n=new je("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return uI||(uI=!0,setTimeout(()=>{throw n},0)),n}}return t}class Gx{constructor(e,r){this.asyncQueue=e,this.tt=r,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var r=this;Ye("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Se.Z)(function*(){r.task=null;try{Ye("IndexBackiller",`Documents written: ${yield r.tt.nt()}`)}catch(n){eu(n)?Ye("IndexBackiller","Ignoring IndexedDB error during index backfill: ",n):yield Xl(n)}yield r.et(6e4)}))}}class zx{constructor(e,r){this.localStore=e,this.persistence=r}nt(e=50){var r=this;return(0,Se.Z)(function*(){return r.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>r.st(n,e))})()}st(e,r){const n=new Set;let i=r,a=!0;return ce.doWhile(()=>!0===a&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(l=>{if(null!==l&&!n.has(l))return Ye("IndexBackiller",`Processing collection: ${l}`),this.it(e,l,i).next(f=>{i-=f,n.add(l)});a=!1})).next(()=>r-i)}it(e,r,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(i=>this.localStore.localDocuments.getNextDocuments(e,r,i,n).next(a=>{const l=a.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next(()=>this.rt(i,a)).next(f=>(Ye("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,r,f))).next(()=>l.size)}))}rt(e,r){let n=e;return r.changes.forEach((i,a)=>{const l=f1(a);p1(l,n)>0&&(n=l)}),new Ws(n.readTime,n.documentKey,Math.max(r.batchId,e.largestBatchId))}}let Fo=(()=>{class t{constructor(r,n){this.previousValue=r,n&&(n.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>n.writeSequenceNumber(i))}ot(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.ut&&this.ut(r),r}}return t.ct=-1,t})();function wf(t){return null==t}function tu(t){return 0===t&&1/t==-1/0}function hI(t){return"number"==typeof t&&Number.isInteger(t)&&!tu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function cs(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=Df(e)),e=fI(t.get(r),e);return Df(e)}function fI(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const a=t.charAt(i);switch(a){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=a}}return r}function Df(t){return t+"\x01\x01"}function tc(t){const e=t.length;if(Ot(e>=2),2===e)return Ot("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),In.emptyPath();const r=e-2,n=[];let i="";for(let a=0;a<e;){const l=t.indexOf("\x01",a);switch((l<0||l>r)&&_t(),t.charAt(l+1)){case"\x01":const f=t.substring(a,l);let _;0===i.length?_=f:(i+=f,_=i,i=""),n.push(_);break;case"\x10":i+=t.substring(a,l),i+="\0";break;case"\x11":i+=t.substring(a,l+1);break;default:_t()}a=l+2}return new In(n)}const pI=["userId","batchId"];function $v(t,e){return[t,cs(e)]}function gI(t,e,r){return[t,cs(e),r]}const Wx={},xA=["prefixPath","collectionGroup","readTime","documentId"],mI=["prefixPath","collectionGroup","documentId"],NA=["collectionGroup","readTime","prefixPath","documentId"],RA=["canonicalId","targetId"],cm=["targetId","path"],PA=["path","targetId"],_I=["collectionId","parent"],kA=["indexId","uid"],vI=["uid","sequenceNumber"],FA=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],yI=["indexId","uid","orderedDocumentKey"],LA=["userId","collectionPath","documentId"],g1=["userId","collectionPath","largestBatchId"],BA=["userId","collectionGroup","largestBatchId"],m1=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],bI=[...m1,"documentOverlays"],wI=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],DI=wI,VA=[...DI,"indexConfiguration","indexState","indexEntries"];class lm extends yf{constructor(e,r){super(),this.ht=e,this.currentSequenceNumber=r}}function Pi(t,e){const r=ct(t);return ko.M(r.ht,e)}function _1(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function nu(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function EI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class ar{constructor(e,r){this.comparator=e,this.root=r||Wi.EMPTY}insert(e,r){return new ar(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Wi.BLACK,null,null))}remove(e){return new ar(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wi.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(0===n)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(0===i)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hv(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hv(this.root,e,this.comparator,!0)}}class Hv{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wi{constructor(e,r,n,i,a){this.key=e,this.value=r,this.color=n??Wi.RED,this.left=i??Wi.EMPTY,this.right=a??Wi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,a){return new Wi(e??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,r,n),null):0===a?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Wi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===r(e,i.key)){if(i.right.isEmpty())return Wi.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _t();const e=this.left.check();if(e!==this.right.check())throw _t();return e+(this.isRed()?0:1)}}Wi.EMPTY=null,Wi.RED=!0,Wi.BLACK=!1,Wi.EMPTY=new class{constructor(){this.size=0}get key(){throw _t()}get value(){throw _t()}get color(){throw _t()}get left(){throw _t()}get right(){throw _t()}copy(t,e,r,n,i){return this}insert(t,e,r){return new Wi(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class pr{constructor(e){this.comparator=e,this.data=new ar(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new II(this.data.getIterator())}getIteratorFrom(e){return new II(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof pr)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new pr(this.comparator);return r.data=e,r}}class II{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ef(t){return t.hasNext()?t.getNext():void 0}class Cs{constructor(e){this.fields=e,e.sort(Tr.comparator)}static empty(){return new Cs([])}unionWith(e){let r=new pr(Tr.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Cs(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return am(this.fields,e.fields,(r,n)=>r.isEqual(n))}}class v1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class fi{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(n){try{return atob(n)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new v1("Invalid base64 string: "+i):i}}(e);return new fi(r)}static fromUint8Array(e){const r=function(n){let i="";for(let a=0;a<n.length;++a)i+=String.fromCharCode(n[a]);return i}(e);return new fi(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fi.EMPTY_BYTE_STRING=new fi("");const TI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ru(t){if(Ot(!!t),"string"==typeof t){let e=0;const r=TI.exec(t);if(Ot(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Lr(t.seconds),nanos:Lr(t.nanos)}}function Lr(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Jc(t){return"string"==typeof t?fi.fromBase64String(t):fi.fromUint8Array(t)}function Gv(t){var e,r;return"server_timestamp"===(null===(r=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function If(t){const e=t.mapValue.fields.__previous_value__;return Gv(e)?If(e):e}function Md(t){const e=ru(t.mapValue.fields.__local_write_time__.timestampValue);return new fr(e.seconds,e.nanos)}class SI{constructor(e,r,n,i,a,l,f,_,y){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=f,this.longPollingOptions=_,this.useFetchStreams=y}}class nc{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new nc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof nc&&e.projectId===this.projectId&&e.database===this.database}}const iu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},zv={nullValue:"NULL_VALUE"};function rc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Gv(t)?4:D1(t)?9007199254740991:10:_t()}function ic(t,e){if(t===e)return!0;const r=rc(t);if(r!==rc(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Md(t).isEqual(Md(e));case 3:return function(n,i){if("string"==typeof n.timestampValue&&"string"==typeof i.timestampValue&&n.timestampValue.length===i.timestampValue.length)return n.timestampValue===i.timestampValue;const a=ru(n.timestampValue),l=ru(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,Jc(t.bytesValue).isEqual(Jc(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(n,i){return Lr(n.geoPointValue.latitude)===Lr(i.geoPointValue.latitude)&&Lr(n.geoPointValue.longitude)===Lr(i.geoPointValue.longitude)}(t,e);case 2:return function(n,i){if("integerValue"in n&&"integerValue"in i)return Lr(n.integerValue)===Lr(i.integerValue);if("doubleValue"in n&&"doubleValue"in i){const a=Lr(n.doubleValue),l=Lr(i.doubleValue);return a===l?tu(a)===tu(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return am(t.arrayValue.values||[],e.arrayValue.values||[],ic);case 10:return function(n,i){const a=n.mapValue.fields||{},l=i.mapValue.fields||{};if(_1(a)!==_1(l))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===l[f]||!ic(a[f],l[f])))return!1;return!0}(t,e);default:return _t()}var i}function Cf(t,e){return void 0!==(t.values||[]).find(r=>ic(r,e))}function qs(t,e){if(t===e)return 0;const r=rc(t),n=rc(e);if(r!==n)return Pt(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Pt(t.booleanValue,e.booleanValue);case 2:return function(i,a){const l=Lr(i.integerValue||i.doubleValue),f=Lr(a.integerValue||a.doubleValue);return l<f?-1:l>f?1:l===f?0:isNaN(l)?isNaN(f)?0:-1:1}(t,e);case 3:return y1(t.timestampValue,e.timestampValue);case 4:return y1(Md(t),Md(e));case 5:return Pt(t.stringValue,e.stringValue);case 6:return function(i,a){const l=Jc(i),f=Jc(a);return l.compareTo(f)}(t.bytesValue,e.bytesValue);case 7:return function(i,a){const l=i.split("/"),f=a.split("/");for(let _=0;_<l.length&&_<f.length;_++){const y=Pt(l[_],f[_]);if(0!==y)return y}return Pt(l.length,f.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,a){const l=Pt(Lr(i.latitude),Lr(a.latitude));return 0!==l?l:Pt(Lr(i.longitude),Lr(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,a){const l=i.values||[],f=a.values||[];for(let _=0;_<l.length&&_<f.length;++_){const y=qs(l[_],f[_]);if(y)return y}return Pt(l.length,f.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,a){if(i===iu.mapValue&&a===iu.mapValue)return 0;if(i===iu.mapValue)return 1;if(a===iu.mapValue)return-1;const l=i.fields||{},f=Object.keys(l),_=a.fields||{},y=Object.keys(_);f.sort(),y.sort();for(let I=0;I<f.length&&I<y.length;++I){const M=Pt(f[I],y[I]);if(0!==M)return M;const F=qs(l[f[I]],_[y[I]]);if(0!==F)return F}return Pt(f.length,y.length)}(t.mapValue,e.mapValue);default:throw _t()}}function y1(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Pt(t,e);const r=ru(t),n=ru(e),i=Pt(r.seconds,n.seconds);return 0!==i?i:Pt(r.nanos,n.nanos)}function Tf(t){return AI(t)}function AI(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=ru(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Jc(t.bytesValue).toBase64():"referenceValue"in t?ht.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(n){let i="[",a=!0;for(const l of n.values||[])a?a=!1:i+=",",i+=AI(l);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const f of i)l?l=!1:a+=",",a+=`${f}:${AI(n.fields[f])}`;return a+"}"}(t.mapValue):_t();var e}function Qc(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function b1(t){return!!t&&"integerValue"in t}function Af(t){return!!t&&"arrayValue"in t}function w1(t){return!!t&&"nullValue"in t}function MI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function um(t){return!!t&&"mapValue"in t}function Od(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return nu(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=Od(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Od(t.arrayValue.values[r]);return e}return Object.assign({},t)}function D1(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}function OI(t){return"nullValue"in t?zv:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Qc(nc.empty(),ht.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:_t()}function xI(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Qc(nc.empty(),ht.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?iu:_t()}function E1(t,e){const r=qs(t.value,e.value);return 0!==r?r:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function NI(t,e){const r=qs(t.value,e.value);return 0!==r?r:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}class qi{constructor(e){this.value=e}static empty(){return new qi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!um(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Od(r)}setAll(e){let r=Tr.emptyPath(),n={},i=[];e.forEach((l,f)=>{if(!r.isImmediateParentOf(f)){const _=this.getFieldsMap(r);this.applyChanges(_,n,i),n={},i=[],r=f.popLast()}l?n[f.lastSegment()]=Od(l):i.push(f.lastSegment())});const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(e){const r=this.field(e.popLast());um(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return ic(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];um(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){nu(r,(i,a)=>e[i]=a);for(const i of n)delete e[i]}clone(){return new qi(Od(this.value))}}function RI(t){const e=[];return nu(t.fields,(r,n)=>{const i=new Tr([r]);if(um(n)){const a=RI(n.mapValue).fields;if(0===a.length)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)}),new Cs(e)}class gr{constructor(e,r,n,i,a,l,f){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=l,this.documentState=f}static newInvalidDocument(e){return new gr(e,0,kt.min(),kt.min(),kt.min(),qi.empty(),0)}static newFoundDocument(e,r,n,i){return new gr(e,1,r,kt.min(),n,i,0)}static newNoDocument(e,r){return new gr(e,2,r,kt.min(),kt.min(),qi.empty(),0)}static newUnknownDocument(e,r){return new gr(e,3,r,kt.min(),kt.min(),qi.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(kt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=kt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof gr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Xc{constructor(e,r){this.position=e,this.inclusive=r}}function UA(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const a=e[i],l=t.position[i];if(n=a.field.isKeyField()?ht.comparator(ht.fromName(l.referenceValue),r.key):qs(l,r.data.field(a.field)),"desc"===a.dir&&(n*=-1),0!==n)break}return n}function I1(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!ic(t.position[r],e.position[r]))return!1;return!0}class Mf{constructor(e,r="asc"){this.field=e,this.dir=r}}function jA(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class $A{}class Dn extends $A{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(e,r,n):new HA(e,r,n):"array-contains"===r?new LI(e,n):"in"===r?new A1(e,n):"not-in"===r?new BI(e,n):"array-contains-any"===r?new VI(e,n):new Dn(e,r,n)}static createKeyFieldInFilter(e,r,n){return"in"===r?new GA(e,n):new dm(e,n)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(qs(r,this.value)):null!==r&&rc(this.value)===rc(r)&&this.matchesComparison(qs(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return _t()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class jn extends $A{constructor(e,r){super(),this.filters=e,this.op=r,this.lt=null}static create(e,r){return new jn(e,r)}matches(e){return Of(this)?void 0===this.filters.find(r=>!r.matches(e)):void 0!==this.filters.find(r=>r.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(r=>r.isInequality());return null!==e?e.field:null}ft(e){for(const r of this.getFlattenedFilters())if(e(r))return r;return null}}function Of(t){return"and"===t.op}function Wv(t){return"or"===t.op}function qv(t){return C1(t)&&Of(t)}function C1(t){for(const e of t.filters)if(e instanceof jn)return!1;return!0}function T1(t){if(t instanceof Dn)return t.field.canonicalString()+t.op.toString()+Tf(t.value);if(qv(t))return t.filters.map(e=>T1(e)).join(",");{const e=t.filters.map(r=>T1(r)).join(",");return`${t.op}(${e})`}}function PI(t,e){return t instanceof Dn?(r=t,(n=e)instanceof Dn&&r.op===n.op&&r.field.isEqual(n.field)&&ic(r.value,n.value)):t instanceof jn?function(r,n){return n instanceof jn&&r.op===n.op&&r.filters.length===n.filters.length&&r.filters.reduce((i,a,l)=>i&&PI(a,n.filters[l]),!0)}(t,e):void _t();var r,n}function kI(t,e){const r=t.filters.concat(e);return jn.create(r,t.op)}function FI(t){return t instanceof Dn?`${(e=t).field.canonicalString()} ${e.op} ${Tf(e.value)}`:t instanceof jn?function(e){return e.op.toString()+" {"+e.getFilters().map(FI).join(" ,")+"}"}(t):"Filter";var e}class HA extends Dn{constructor(e,r,n){super(e,r,n),this.key=ht.fromName(n.referenceValue)}matches(e){const r=ht.comparator(e.key,this.key);return this.matchesComparison(r)}}class GA extends Dn{constructor(e,r){super(e,"in",r),this.keys=S1(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class dm extends Dn{constructor(e,r){super(e,"not-in",r),this.keys=S1(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function S1(t,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(n=>ht.fromName(n.referenceValue))}class LI extends Dn{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Af(r)&&Cf(r.arrayValue,this.value)}}class A1 extends Dn{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&Cf(this.value.arrayValue,r)}}class BI extends Dn{constructor(e,r){super(e,"not-in",r)}matches(e){if(Cf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!Cf(this.value.arrayValue,r)}}class VI extends Dn{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Af(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Cf(this.value.arrayValue,n))}}class zA{constructor(e,r=null,n=[],i=[],a=null,l=null,f=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=l,this.endAt=f,this.dt=null}}function M1(t,e=null,r=[],n=[],i=null,a=null,l=null){return new zA(t,e,r,n,i,a,l)}function xf(t){const e=ct(t);if(null===e.dt){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>T1(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>{return(i=n).field.canonicalString()+i.dir;var i}).join(","),wf(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>Tf(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>Tf(n)).join(",")),e.dt=r}return e.dt}function Zv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!jA(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!PI(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!I1(t.startAt,e.startAt)&&I1(t.endAt,e.endAt)}function Kv(t){return ht.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}function Yv(t,e){return t.filters.filter(r=>r instanceof Dn&&r.field.isEqual(e))}function UI(t,e,r){let n=zv,i=!0;for(const a of Yv(t,e)){let l=zv,f=!0;switch(a.op){case"<":case"<=":l=OI(a.value);break;case"==":case"in":case">=":l=a.value;break;case">":l=a.value,f=!1;break;case"!=":case"not-in":l=zv}E1({value:n,inclusive:i},{value:l,inclusive:f})<0&&(n=l,i=f)}if(null!==r)for(let a=0;a<t.orderBy.length;++a)if(t.orderBy[a].field.isEqual(e)){const l=r.position[a];E1({value:n,inclusive:i},{value:l,inclusive:r.inclusive})<0&&(n=l,i=r.inclusive);break}return{value:n,inclusive:i}}function jI(t,e,r){let n=iu,i=!0;for(const a of Yv(t,e)){let l=iu,f=!0;switch(a.op){case">=":case">":l=xI(a.value),f=!1;break;case"==":case"in":case"<=":l=a.value;break;case"<":l=a.value,f=!1;break;case"!=":case"not-in":l=iu}NI({value:n,inclusive:i},{value:l,inclusive:f})>0&&(n=l,i=f)}if(null!==r)for(let a=0;a<t.orderBy.length;++a)if(t.orderBy[a].field.isEqual(e)){const l=r.position[a];NI({value:n,inclusive:i},{value:l,inclusive:r.inclusive})>0&&(n=l,i=r.inclusive);break}return{value:n,inclusive:i}}class el{constructor(e,r=null,n=[],i=[],a=null,l="F",f=null,_=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=l,this.startAt=f,this.endAt=_,this.wt=null,this._t=null}}function Nf(t,e,r,n,i,a,l,f){return new el(t,e,r,n,i,a,l,f)}function Rf(t){return new el(t)}function Jv(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function O1(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function x1(t){for(const e of t.filters){const r=e.getFirstInequalityField();if(null!==r)return r}return null}function N1(t){return null!==t.collectionGroup}function Pf(t){const e=ct(t);if(null===e.wt){e.wt=[];const r=x1(e),n=O1(e);if(null!==r&&null===n)r.isKeyField()||e.wt.push(new Mf(r)),e.wt.push(new Mf(Tr.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e.wt.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Mf(Tr.keyField(),a))}}}return e.wt}function pi(t){const e=ct(t);if(!e._t)if("F"===e.limitType)e._t=M1(e.path,e.collectionGroup,Pf(e),e.filters,e.limit,e.startAt,e.endAt);else{const r=[];for(const a of Pf(e))r.push(new Mf(a.field,"desc"===a.dir?"asc":"desc"));const n=e.endAt?new Xc(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Xc(e.startAt.position,e.startAt.inclusive):null;e._t=M1(e.path,e.collectionGroup,r,e.filters,e.limit,n,i)}return e._t}function R1(t,e){e.getFirstInequalityField(),x1(t);const r=t.filters.concat([e]);return new el(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function Qv(t,e,r){return new el(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function hm(t,e){return Zv(pi(t),pi(e))&&t.limitType===e.limitType}function fm(t){return`${xf(pi(t))}|lt:${t.limitType}`}function Xv(t){return`Query(target=${function(e){let r=e.path.canonicalString();return null!==e.collectionGroup&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map(n=>FI(n)).join(", ")}]`),wf(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map(n=>{return`${(i=n).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>Tf(n)).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>Tf(n)).join(",")),`Target(${r})`}(pi(t))}; limitType=${t.limitType})`}function pm(t,e){return e.isFoundDocument()&&function(r,n){const i=n.key.path;return null!==r.collectionGroup?n.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ht.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,n){for(const i of Pf(r))if(!i.field.isKeyField()&&null===n.data.field(i.field))return!1;return!0}(t,e)&&function(r,n){for(const i of r.filters)if(!i.matches(n))return!1;return!0}(t,e)&&(n=e,!((r=t).startAt&&!function(i,a,l){const f=UA(i,a,l);return i.inclusive?f<=0:f<0}(r.startAt,Pf(r),n)||r.endAt&&!function(i,a,l){const f=UA(i,a,l);return i.inclusive?f>=0:f>0}(r.endAt,Pf(r),n)));var r,n}function P1(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function gm(t){return(e,r)=>{let n=!1;for(const i of Pf(t)){const a=WA(i,e,r);if(0!==a)return a;n=n||i.field.isKeyField()}return 0}}function WA(t,e,r){const n=t.field.isKeyField()?ht.comparator(e.key,r.key):function(i,a,l){const f=a.data.field(i),_=l.data.field(i);return null!==f&&null!==_?qs(f,_):_t()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return _t()}}class tl{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(void 0!==n)for(const[i,a]of n)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(void 0===i)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(void 0===n)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return 1===n.length?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){nu(this.inner,(r,n)=>{for(const[i,a]of n)e(i,a)})}isEmpty(){return EI(this.inner)}size(){return this.innerSize}}const $I=new ar(ht.comparator);function Zs(){return $I}const HI=new ar(ht.comparator);function kf(...t){let e=HI;for(const r of t)e=e.insert(r.key,r);return e}function mm(t){let e=HI;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function sc(){return Ff()}function GI(){return Ff()}function Ff(){return new tl(t=>t.toString(),(t,e)=>t.isEqual(e))}const zI=new ar(ht.comparator),k1=new pr(ht.comparator);function rn(...t){let e=k1;for(const r of t)e=e.add(r);return e}const qA=new pr(Pt);function ey(){return qA}function F1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tu(e)?"-0":e}}function WI(t){return{integerValue:""+t}}function qI(t,e){return hI(e)?WI(e):F1(t,e)}class Lf{constructor(){this._=void 0}}function L1(t,e,r){return t instanceof su?function(n,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:n.seconds,nanos:n.nanoseconds}}}};return i&&Gv(i)&&(i=If(i)),i&&(a.fields.__previous_value__=i),{mapValue:a}}(r,e):t instanceof xd?KI(t,e):t instanceof Nd?YI(t,e):function(n,i){const a=ty(n,i),l=ny(a)+ny(n.gt);return b1(a)&&b1(n.gt)?WI(l):F1(n.serializer,l)}(t,e)}function ZI(t,e,r){return t instanceof xd?KI(t,e):t instanceof Nd?YI(t,e):r}function ty(t,e){return t instanceof Rd?b1(r=e)||(n=r)&&"doubleValue"in n?e:{integerValue:0}:null;var n,r}class su extends Lf{}class xd extends Lf{constructor(e){super(),this.elements=e}}function KI(t,e){const r=B1(e);for(const n of t.elements)r.some(i=>ic(i,n))||r.push(n);return{arrayValue:{values:r}}}class Nd extends Lf{constructor(e){super(),this.elements=e}}function YI(t,e){let r=B1(e);for(const n of t.elements)r=r.filter(i=>!ic(i,n));return{arrayValue:{values:r}}}class Rd extends Lf{constructor(e,r){super(),this.serializer=e,this.gt=r}}function ny(t){return Lr(t.integerValue||t.doubleValue)}function B1(t){return Af(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Bf{constructor(e,r){this.field=e,this.transform=r}}class QI{constructor(e,r){this.version=e,this.transformResults=r}}class Dr{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Dr}static exists(e){return new Dr(void 0,e)}static updateTime(e){return new Dr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _m(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class vm{}function XI(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new ou(t.key,Dr.none()):new Uf(t.key,t.data,Dr.none());{const r=t.data,n=qi.empty();let i=new pr(Tr.comparator);for(let a of e.fields)if(!i.has(a)){let l=r.field(a);null===l&&a.length>1&&(a=a.popLast(),l=r.field(a)),null===l?n.delete(a):n.set(a,l),i=i.add(a)}return new nl(t.key,n,new Cs(i.toArray()),Dr.none())}}function eC(t,e,r){t instanceof Uf?function(n,i,a){const l=n.value.clone(),f=KA(n.fieldTransforms,i,a.transformResults);l.setAll(f),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,r):t instanceof nl?function(n,i,a){if(!_m(n.precondition,i))return void i.convertToUnknownDocument(a.version);const l=KA(n.fieldTransforms,i,a.transformResults),f=i.data;f.setAll(ZA(n)),f.setAll(l),i.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(t,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function Vf(t,e,r,n){return t instanceof Uf?function(i,a,l,f){if(!_m(i.precondition,a))return l;const _=i.value.clone(),y=V1(i.fieldTransforms,f,a);return _.setAll(y),a.convertToFoundDocument(a.version,_).setHasLocalMutations(),null}(t,e,r,n):t instanceof nl?function(i,a,l,f){if(!_m(i.precondition,a))return l;const _=V1(i.fieldTransforms,f,a),y=a.data;return y.setAll(ZA(i)),y.setAll(_),a.convertToFoundDocument(a.version,y).setHasLocalMutations(),null===l?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(I=>I.field))}(t,e,r,n):(l=r,_m(t.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l);var a,l}function Ts(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),a=ty(n.transform,i||null);null!=a&&(null===r&&(r=qi.empty()),r.set(n.field,a))}return r||null}function Pd(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(n=e.fieldTransforms,!!(void 0===(r=t.fieldTransforms)&&void 0===n||r&&n&&am(r,n,(i,a)=>function JI(t,e){return t.field.isEqual(e.field)&&(n=e.transform,(r=t.transform)instanceof xd&&n instanceof xd||r instanceof Nd&&n instanceof Nd?am(r.elements,n.elements,ic):r instanceof Rd&&n instanceof Rd?ic(r.gt,n.gt):r instanceof su&&n instanceof su);var r,n}(i,a))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var r,n}class Uf extends vm{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class nl extends vm{constructor(e,r,n,i,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function ZA(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function KA(t,e,r){const n=new Map;Ot(t.length===r.length);for(let i=0;i<r.length;i++){const a=t[i],l=a.transform,f=e.data.field(a.field);n.set(a.field,ZI(l,f,r[i]))}return n}function V1(t,e,r){const n=new Map;for(const i of t){const a=i.transform,l=r.data.field(i.field);n.set(i.field,L1(a,l,e))}return n}class ou extends vm{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tC extends vm{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class nC{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&eC(a,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=Vf(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=Vf(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=GI();return this.mutations.forEach(i=>{const a=e.get(i.key),l=a.overlayedDocument;let f=this.applyToLocalView(l,a.mutatedFields);f=r.has(i.key)?null:f;const _=XI(l,f);null!==_&&n.set(i.key,_),l.isValidDocument()||l.convertToNoDocument(kt.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),rn())}isEqual(e){return this.batchId===e.batchId&&am(this.mutations,e.mutations,(r,n)=>Pd(r,n))&&am(this.baseMutations,e.baseMutations,(r,n)=>Pd(r,n))}}class rC{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){Ot(e.mutations.length===n.length);let i=zI;const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,n[l].version);return new rC(e,r,n,i)}}class kd{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class U1{constructor(e,r){this.count=e,this.unchangedNames=r}}var ni,Cn;function iC(t){switch(t){default:return _t();case _e.CANCELLED:case _e.UNKNOWN:case _e.DEADLINE_EXCEEDED:case _e.RESOURCE_EXHAUSTED:case _e.INTERNAL:case _e.UNAVAILABLE:case _e.UNAUTHENTICATED:return!1;case _e.INVALID_ARGUMENT:case _e.NOT_FOUND:case _e.ALREADY_EXISTS:case _e.PERMISSION_DENIED:case _e.FAILED_PRECONDITION:case _e.ABORTED:case _e.OUT_OF_RANGE:case _e.UNIMPLEMENTED:case _e.DATA_LOSS:return!0}}function sC(t){if(void 0===t)return Fr("GRPC error has no .code"),_e.UNKNOWN;switch(t){case ni.OK:return _e.OK;case ni.CANCELLED:return _e.CANCELLED;case ni.UNKNOWN:return _e.UNKNOWN;case ni.DEADLINE_EXCEEDED:return _e.DEADLINE_EXCEEDED;case ni.RESOURCE_EXHAUSTED:return _e.RESOURCE_EXHAUSTED;case ni.INTERNAL:return _e.INTERNAL;case ni.UNAVAILABLE:return _e.UNAVAILABLE;case ni.UNAUTHENTICATED:return _e.UNAUTHENTICATED;case ni.INVALID_ARGUMENT:return _e.INVALID_ARGUMENT;case ni.NOT_FOUND:return _e.NOT_FOUND;case ni.ALREADY_EXISTS:return _e.ALREADY_EXISTS;case ni.PERMISSION_DENIED:return _e.PERMISSION_DENIED;case ni.FAILED_PRECONDITION:return _e.FAILED_PRECONDITION;case ni.ABORTED:return _e.ABORTED;case ni.OUT_OF_RANGE:return _e.OUT_OF_RANGE;case ni.UNIMPLEMENTED:return _e.UNIMPLEMENTED;case ni.DATA_LOSS:return _e.DATA_LOSS;default:return _t()}}(Cn=ni||(ni={}))[Cn.OK=0]="OK",Cn[Cn.CANCELLED=1]="CANCELLED",Cn[Cn.UNKNOWN=2]="UNKNOWN",Cn[Cn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Cn[Cn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Cn[Cn.NOT_FOUND=5]="NOT_FOUND",Cn[Cn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Cn[Cn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Cn[Cn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Cn[Cn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Cn[Cn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Cn[Cn.ABORTED=10]="ABORTED",Cn[Cn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Cn[Cn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Cn[Cn.INTERNAL=13]="INTERNAL",Cn[Cn.UNAVAILABLE=14]="UNAVAILABLE",Cn[Cn.DATA_LOSS=15]="DATA_LOSS";class j1{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return jf}static getOrCreateInstance(){return null===jf&&(jf=new j1),jf}onExistenceFilterMismatch(e){const r=Symbol();return this.onExistenceFilterMismatchCallbacks.set(r,e),()=>this.onExistenceFilterMismatchCallbacks.delete(r)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(r=>r(e))}}let jf=null;function $1(){return new TextEncoder}const JA=new ff([4294967295,4294967295],0);function ym(t){const e=$1().encode(t),r=new CA;return r.update(e),new Uint8Array(r.digest())}function ry(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new ff([r,n],0),new ff([i,a],0)]}class oC{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new $f(`Invalid padding: ${r}`);if(n<0)throw new $f(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new $f(`Invalid hash count: ${n}`);if(0===e.length&&0!==r)throw new $f(`Invalid padding when bitmap length is 0: ${r}`);this.It=8*e.length-r,this.Tt=ff.fromNumber(this.It)}Et(e,r,n){let i=e.add(r.multiply(ff.fromNumber(n)));return 1===i.compare(JA)&&(i=new ff([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const r=ym(e),[n,i]=ry(r);for(let a=0;a<this.hashCount;a++){const l=this.Et(n,i,a);if(!this.At(l))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new oC(a,i,r);return n.forEach(f=>l.insert(f)),l}insert(e){if(0===this.It)return;const r=ym(e),[n,i]=ry(r);for(let a=0;a<this.hashCount;a++){const l=this.Et(n,i,a);this.Rt(l)}}Rt(e){const r=Math.floor(e/8);this.bitmap[r]|=1<<e%8}}class $f extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class bm{constructor(e,r,n,i,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,Hf.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new bm(kt.min(),i,new ar(Pt),Zs(),rn())}}class Hf{constructor(e,r,n,i,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Hf(n,r,rn(),rn(),rn())}}class rl{constructor(e,r,n,i){this.Pt=e,this.removedTargetIds=r,this.key=n,this.bt=i}}class aC{constructor(e,r){this.targetId=e,this.Vt=r}}class H1{constructor(e,r,n=fi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class iy{constructor(){this.St=0,this.Dt=QA(),this.Ct=fi.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=rn(),r=rn(),n=rn();return this.Dt.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:_t()}}),new Hf(this.Ct,this.xt,e,r,n)}Ft(){this.Nt=!1,this.Dt=QA()}Bt(e,r){this.Nt=!0,this.Dt=this.Dt.insert(e,r)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class qx{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Zs(),this.zt=cC(),this.Wt=new ar(Pt)}Ht(e){for(const r of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(r,e.bt):this.Yt(r,e.key,e.bt);for(const r of e.removedTargetIds)this.Yt(r,e.key,e.bt)}Xt(e){this.forEachTarget(e,r=>{const n=this.Zt(r);switch(e.state){case 0:this.te(r)&&n.$t(e.resumeToken);break;case 1:n.Ut(),n.kt||n.Ft(),n.$t(e.resumeToken);break;case 2:n.Ut(),n.kt||this.removeTarget(r);break;case 3:this.te(r)&&(n.Kt(),n.$t(e.resumeToken));break;case 4:this.te(r)&&(this.ee(r),n.$t(e.resumeToken));break;default:_t()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Qt.forEach((n,i)=>{this.te(i)&&r(i)})}ne(e){var r;const n=e.targetId,i=e.Vt.count,a=this.se(n);if(a){const l=a.target;if(Kv(l))if(0===i){const f=new ht(l.path);this.Yt(n,f,gr.newNoDocument(f,kt.min()))}else Ot(1===i);else{const f=this.ie(n);if(f!==i){const _=this.re(e,f);0!==_&&(this.ee(n),this.Wt=this.Wt.insert(n,2===_?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(r=j1.instance)||void 0===r||r.notifyOnExistenceFilterMismatch(function(y,I,M){var F,P,K,le,ue,Ze;const Je={localCacheCount:I,existenceFilterCount:M.count},Qe=M.unchangedNames;return Qe&&(Je.bloomFilter={applied:0===y,hashCount:null!==(F=Qe?.hashCount)&&void 0!==F?F:0,bitmapLength:null!==(le=null===(K=null===(P=Qe?.bits)||void 0===P?void 0:P.bitmap)||void 0===K?void 0:K.length)&&void 0!==le?le:0,padding:null!==(Ze=null===(ue=Qe?.bits)||void 0===ue?void 0:ue.padding)&&void 0!==Ze?Ze:0}),Je}(_,f,e.Vt))}}}}re(e,r){const{unchangedNames:n,count:i}=e.Vt;if(!n||!n.bits)return 1;const{bits:{bitmap:a="",padding:l=0},hashCount:f=0}=n;let _,y;try{_=Jc(a).toUint8Array()}catch(I){if(I instanceof v1)return zs("Decoding the base64 bloom filter in existence filter failed ("+I.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw I}try{y=new oC(_,l,f)}catch(I){return zs(I instanceof $f?"BloomFilter error: ":"Applying bloom filter failed: ",I),1}return 0===y.It?1:i!==r-this.oe(e.targetId,y)?2:0}oe(e,r){const n=this.Gt.getRemoteKeysForTarget(e);let i=0;return n.forEach(a=>{const l=this.Gt.ue(),f=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;r.vt(f)||(this.Yt(e,a,null),i++)}),i}ce(e){const r=new Map;this.Qt.forEach((a,l)=>{const f=this.se(l);if(f){if(a.current&&Kv(f.target)){const _=new ht(f.target.path);null!==this.jt.get(_)||this.ae(l,_)||this.Yt(l,_,gr.newNoDocument(_,e))}a.Mt&&(r.set(l,a.Ot()),a.Ft())}});let n=rn();this.zt.forEach((a,l)=>{let f=!0;l.forEachWhile(_=>{const y=this.se(_);return!y||"TargetPurposeLimboResolution"===y.purpose||(f=!1,!1)}),f&&(n=n.add(a))}),this.jt.forEach((a,l)=>l.setReadTime(e));const i=new bm(e,r,this.Wt,this.jt,n);return this.jt=Zs(),this.zt=cC(),this.Wt=new ar(Pt),i}Jt(e,r){if(!this.te(e))return;const n=this.ae(e,r.key)?2:0;this.Zt(e).Bt(r.key,n),this.jt=this.jt.insert(r.key,r),this.zt=this.zt.insert(r.key,this.he(r.key).add(e))}Yt(e,r,n){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,r)?i.Bt(r,1):i.Lt(r),this.zt=this.zt.insert(r,this.he(r).delete(e)),n&&(this.jt=this.jt.insert(r,n))}removeTarget(e){this.Qt.delete(e)}ie(e){const r=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let r=this.Qt.get(e);return r||(r=new iy,this.Qt.set(e,r)),r}he(e){let r=this.zt.get(e);return r||(r=new pr(Pt),this.zt=this.zt.insert(e,r)),r}te(e){const r=null!==this.se(e);return r||Ye("WatchChangeAggregator","Detected inactive target",e),r}se(e){const r=this.Qt.get(e);return r&&r.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new iy),this.Gt.getRemoteKeysForTarget(e).forEach(r=>{this.Yt(e,r,null)})}ae(e,r){return this.Gt.getRemoteKeysForTarget(e).has(r)}}function cC(){return new ar(ht.comparator)}function QA(){return new ar(ht.comparator)}const XA={asc:"ASCENDING",desc:"DESCENDING"},eM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tM={and:"AND",or:"OR"};class lC{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function sy(t,e){return t.useProto3Json||wf(e)?e:{value:e}}function Gf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function G1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function uC(t,e){return Gf(t,e.toTimestamp())}function Wr(t){return Ot(!!t),kt.fromTimestamp(function(e){const r=ru(e);return new fr(r.seconds,r.nanos)}(t))}function z1(t,e){return(r=t,new In(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function W1(t){const e=In.fromString(t);return Ot(oM(e)),e}function wm(t,e){return z1(t.databaseId,e.path)}function ha(t,e){const r=W1(e);if(r.get(1)!==t.databaseId.projectId)throw new je(_e.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new je(_e.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new ht(dC(r))}function oy(t,e){return z1(t.databaseId,e)}function q1(t){const e=W1(t);return 4===e.length?In.emptyPath():dC(e)}function zf(t){return new In(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function dC(t){return Ot(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function hC(t,e,r){return{name:wm(t,e),fields:r.value.mapValue.fields}}function nM(t,e,r){const n=ha(t,e.name),i=Wr(e.updateTime),a=e.createTime?Wr(e.createTime):kt.min(),l=new qi({mapValue:{fields:e.fields}}),f=gr.newFoundDocument(n,i,a,l);return r&&f.setHasCommittedMutations(),r?f.setHasCommittedMutations():f}function ay(t,e){let r;if(e instanceof Uf)r={update:hC(t,e.key,e.value)};else if(e instanceof ou)r={delete:wm(t,e.key)};else if(e instanceof nl)r={update:hC(t,e.key,e.data),updateMask:Jx(e.fieldMask)};else{if(!(e instanceof tC))return _t();r={verify:wm(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(i,a){const l=a.transform;if(l instanceof su)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof xd)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Nd)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Rd)return{fieldPath:a.field.canonicalString(),increment:l.gt};throw _t()}(0,n))),e.precondition.isNone||(r.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:uC(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:_t()),r;var i}function pC(t,e){const r=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Dr.updateTime(Wr(i.updateTime)):void 0!==i.exists?Dr.exists(i.exists):Dr.none():Dr.none(),n=e.updateTransforms?e.updateTransforms.map(i=>function(a,l){let f=null;"setToServerValue"in l?(Ot("REQUEST_TIME"===l.setToServerValue),f=new su):"appendMissingElements"in l?f=new xd(l.appendMissingElements.values||[]):"removeAllFromArray"in l?f=new Nd(l.removeAllFromArray.values||[]):"increment"in l?f=new Rd(a,l.increment):_t();const _=Tr.fromServerFormat(l.fieldPath);return new Bf(_,f)}(t,i)):[];var i;if(e.update){const i=ha(t,e.update.name),a=new qi({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=new Cs((e.updateMask.fieldPaths||[]).map(y=>Tr.fromServerFormat(y)));return new nl(i,a,l,r,n)}return new Uf(i,a,r,n)}if(e.delete){const i=ha(t,e.delete);return new ou(i,r)}if(e.verify){const i=ha(t,e.verify);return new tC(i,r)}return _t()}function rM(t,e){return{documents:[oy(t,e.path)]}}function gC(t,e){const r={structuredQuery:{}},n=e.path;null!==e.collectionGroup?(r.parent=oy(t,n),r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r.parent=oy(t,n.popLast()),r.structuredQuery.from=[{collectionId:n.lastSegment()}]);const i=function(_){if(0!==_.length)return vC(jn.create(_,"and"))}(e.filters);i&&(r.structuredQuery.where=i);const a=function(_){if(0!==_.length)return _.map(y=>{return{field:au((I=y).field),direction:mC(I.dir)};var I})}(e.orderBy);a&&(r.structuredQuery.orderBy=a);const l=sy(t,e.limit);var f,_;return null!==l&&(r.structuredQuery.limit=l),e.startAt&&(r.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(r.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),r}function iM(t){let e=q1(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){Ot(1===n);const I=r.from[0];I.allDescendants?i=I.collectionId:e=e.child(I.collectionId)}let a=[];r.where&&(a=function(I){const M=sM(I);return M instanceof jn&&qv(M)?M.getFilters():[M]}(r.where));let l=[];r.orderBy&&(l=r.orderBy.map(I=>{return new Mf(il((M=I).field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction));var M}));let f=null;r.limit&&(f=function(I){let M;return M="object"==typeof I?I.value:I,wf(M)?null:M}(r.limit));let _=null;var I;r.startAt&&(_=new Xc((I=r.startAt).values||[],!!I.before));let y=null;return r.endAt&&(y=function(I){return new Xc(I.values||[],!I.before)}(r.endAt)),Nf(e,i,l,a,f,"F",_,y)}function sM(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const r=il(e.unaryFilter.field);return Dn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const n=il(e.unaryFilter.field);return Dn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=il(e.unaryFilter.field);return Dn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=il(e.unaryFilter.field);return Dn.create(a,"!=",{nullValue:"NULL_VALUE"});default:return _t()}}(t):void 0!==t.fieldFilter?Dn.create(il((e=t).fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _t()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==t.compositeFilter?function(e){return jn.create(e.compositeFilter.filters.map(r=>sM(r)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return _t()}}(e.compositeFilter.op))}(t):_t();var e}function mC(t){return XA[t]}function Z1(t){return eM[t]}function _C(t){return tM[t]}function au(t){return{fieldPath:t.canonicalString()}}function il(t){return Tr.fromServerFormat(t.fieldPath)}function vC(t){return t instanceof Dn?function(e){if("=="===e.op){if(MI(e.value))return{unaryFilter:{field:au(e.field),op:"IS_NAN"}};if(w1(e.value))return{unaryFilter:{field:au(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(MI(e.value))return{unaryFilter:{field:au(e.field),op:"IS_NOT_NAN"}};if(w1(e.value))return{unaryFilter:{field:au(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:au(e.field),op:Z1(e.op),value:e.value}}}(t):t instanceof jn?function(e){const r=e.getFilters().map(n=>vC(n));return 1===r.length?r[0]:{compositeFilter:{op:_C(e.op),filters:r}}}(t):_t()}function Jx(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function oM(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class sl{constructor(e,r,n,i,a=kt.min(),l=kt.min(),f=fi.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=f,this.expectedCount=_}withSequenceNumber(e){return new sl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new sl(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new sl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new sl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class K1{constructor(e){this.fe=e}}function yC(t,e){const r=e.key,n={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:cy(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())n.document={name:wm(i=t.fe,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:Gf(i,a.version.toTimestamp()),createTime:Gf(i,a.createTime.toTimestamp())};else if(e.isNoDocument())n.noDocument={path:r.path.toArray(),readTime:Wf(e.version)};else{if(!e.isUnknownDocument())return _t();n.unknownDocument={path:r.path.toArray(),version:Wf(e.version)}}var i,a;return n}function cy(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Wf(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Fd(t){const e=new fr(t.seconds,t.nanoseconds);return kt.fromTimestamp(e)}function fa(t,e){const r=(e.baseMutations||[]).map(a=>pC(t.fe,a));for(let a=0;a<e.mutations.length-1;++a)a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(e.mutations[a].updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a);const n=e.mutations.map(a=>pC(t.fe,a)),i=fr.fromMillis(e.localWriteTimeMs);return new nC(e.batchId,i,r,n)}function cu(t){const e=Fd(t.readTime),r=void 0!==t.lastLimboFreeSnapshotVersion?Fd(t.lastLimboFreeSnapshotVersion):kt.min();let n;var i;return void 0!==t.query.documents?(Ot(1===(i=t.query).documents.length),n=pi(Rf(q1(i.documents[0])))):n=pi(iM(t.query)),new sl(n,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,r,fi.fromBase64String(t.resumeToken))}function bC(t,e){const r=Wf(e.snapshotVersion),n=Wf(e.lastLimboFreeSnapshotVersion);let i;i=Kv(e.target)?rM(t.fe,e.target):gC(t.fe,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:xf(e.target),readTime:r,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:n,query:i}}function Y1(t){const e=iM({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Qv(e,e.limit,"L"):e}function J1(t,e){return new kd(e.largestBatchId,pC(t.fe,e.overlayMutation))}function wC(t,e){const r=e.path.lastSegment();return[t,cs(e.path.popLast()),r]}function DC(t,e,r,n){return{indexId:t,uid:e.uid||"",sequenceNumber:r,readTime:Wf(n.readTime),documentKey:cs(n.documentKey.path),largestBatchId:n.largestBatchId}}class cM{getBundleMetadata(e,r){return ly(e).get(r).next(n=>{if(n)return{id:(i=n).bundleId,createTime:Fd(i.createTime),version:i.version};var i})}saveBundleMetadata(e,r){return ly(e).put({bundleId:(n=r).id,createTime:Wf(Wr(n.createTime)),version:n.version});var n}getNamedQuery(e,r){return EC(e).get(r).next(n=>{if(n)return{name:(i=n).name,query:Y1(i.bundledQuery),readTime:Fd(i.readTime)};var i})}saveNamedQuery(e,r){return EC(e).put({name:(n=r).name,readTime:Wf(Wr(n.readTime)),bundledQuery:n.bundledQuery});var n}}function ly(t){return Pi(t,"bundles")}function EC(t){return Pi(t,"namedQueries")}class uy{constructor(e,r){this.serializer=e,this.userId=r}static de(e,r){return new uy(e,r.uid||"")}getOverlay(e,r){return Dm(e).get(wC(this.userId,r)).next(n=>n?J1(this.serializer,n):null)}getOverlays(e,r){const n=sc();return ce.forEach(r,i=>this.getOverlay(e,i).next(a=>{null!==a&&n.set(i,a)})).next(()=>n)}saveOverlays(e,r,n){const i=[];return n.forEach((a,l)=>{const f=new kd(r,l);i.push(this.we(e,f))}),ce.waitFor(i)}removeOverlaysForBatchId(e,r,n){const i=new Set;r.forEach(l=>i.add(cs(l.getCollectionPath())));const a=[];return i.forEach(l=>{const f=IDBKeyRange.bound([this.userId,l,n],[this.userId,l,n+1],!1,!0);a.push(Dm(e).J("collectionPathOverlayIndex",f))}),ce.waitFor(a)}getOverlaysForCollection(e,r,n){const i=sc(),a=cs(r),l=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Dm(e).j("collectionPathOverlayIndex",l).next(f=>{for(const _ of f){const y=J1(this.serializer,_);i.set(y.getKey(),y)}return i})}getOverlaysForCollectionGroup(e,r,n,i){const a=sc();let l;const f=IDBKeyRange.bound([this.userId,r,n],[this.userId,r,Number.POSITIVE_INFINITY],!0);return Dm(e).X({index:"collectionGroupOverlayIndex",range:f},(_,y,I)=>{const M=J1(this.serializer,y);a.size()<i||M.largestBatchId===l?(a.set(M.getKey(),M),l=M.largestBatchId):I.done()}).next(()=>a)}we(e,r){return Dm(e).put(function(n,i,a){const[l,f,_]=wC(i,a.mutation.key);return{userId:i,collectionPath:f,documentId:_,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:ay(n.fe,a.mutation)}}(this.serializer,this.userId,r))}}function Dm(t){return Pi(t,"documentOverlays")}class Ld{constructor(){}_e(e,r){this.me(e,r),r.ge()}me(e,r){if("nullValue"in e)this.ye(r,5);else if("booleanValue"in e)this.ye(r,10),r.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(r,15),r.pe(Lr(e.integerValue));else if("doubleValue"in e){const n=Lr(e.doubleValue);isNaN(n)?this.ye(r,13):(this.ye(r,15),tu(n)?r.pe(0):r.pe(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ye(r,20),"string"==typeof n?r.Ie(n):(r.Ie(`${n.seconds||""}`),r.pe(n.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,r),this.Ee(r);else if("bytesValue"in e)this.ye(r,30),r.Ae(Jc(e.bytesValue)),this.Ee(r);else if("referenceValue"in e)this.ve(e.referenceValue,r);else if("geoPointValue"in e){const n=e.geoPointValue;this.ye(r,45),r.pe(n.latitude||0),r.pe(n.longitude||0)}else"mapValue"in e?D1(e)?this.ye(r,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,r),this.Ee(r)):"arrayValue"in e?(this.Pe(e.arrayValue,r),this.Ee(r)):_t()}Te(e,r){this.ye(r,25),this.be(e,r)}be(e,r){r.Ie(e)}Re(e,r){const n=e.fields||{};this.ye(r,55);for(const i of Object.keys(n))this.Te(i,r),this.me(n[i],r)}Pe(e,r){const n=e.values||[];this.ye(r,50);for(const i of n)this.me(i,r)}ve(e,r){this.ye(r,37),ht.fromName(e).path.forEach(n=>{this.ye(r,60),this.be(n,r)})}ye(e,r){e.pe(r)}Ee(e){e.pe(2)}}function lM(t){if(0===t)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function IC(t){const e=64-function(r){let n=0;for(let i=0;i<8;++i){const a=lM(255&r[i]);if(n+=a,8!==a)break}return n}(t);return Math.ceil(e/8)}Ld.Ve=new Ld;class uM{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const r=e[Symbol.iterator]();let n=r.next();for(;!n.done;)this.De(n.value),n=r.next();this.Ce()}xe(e){const r=e[Symbol.iterator]();let n=r.next();for(;!n.done;)this.Ne(n.value),n=r.next();this.ke()}Me(e){for(const r of e){const n=r.charCodeAt(0);if(n<128)this.De(n);else if(n<2048)this.De(960|n>>>6),this.De(128|63&n);else if(r<"\ud800"||"\udbff"<r)this.De(480|n>>>12),this.De(128|63&n>>>6),this.De(128|63&n);else{const i=r.codePointAt(0);this.De(240|i>>>18),this.De(128|63&i>>>12),this.De(128|63&i>>>6),this.De(128|63&i)}}this.Ce()}$e(e){for(const r of e){const n=r.charCodeAt(0);if(n<128)this.Ne(n);else if(n<2048)this.Ne(960|n>>>6),this.Ne(128|63&n);else if(r<"\ud800"||"\udbff"<r)this.Ne(480|n>>>12),this.Ne(128|63&n>>>6),this.Ne(128|63&n);else{const i=r.codePointAt(0);this.Ne(240|i>>>18),this.Ne(128|63&i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i)}}this.ke()}Oe(e){const r=this.Fe(e),n=IC(r);this.Be(1+n),this.buffer[this.position++]=255&n;for(let i=r.length-n;i<r.length;++i)this.buffer[this.position++]=255&r[i]}Le(e){const r=this.Fe(e),n=IC(r);this.Be(1+n),this.buffer[this.position++]=~(255&n);for(let i=r.length-n;i<r.length;++i)this.buffer[this.position++]=~(255&r[i])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const r=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(e),n=0!=(128&r[0]);r[0]^=n?255:128;for(let i=1;i<r.length;++i)r[i]^=n?255:0;return r}De(e){const r=255&e;0===r?(this.Ue(0),this.Ue(255)):255===r?(this.Ue(255),this.Ue(0)):this.Ue(r)}Ne(e){const r=255&e;0===r?(this.Ge(0),this.Ge(255)):255===r?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const r=e+this.position;if(r<=this.buffer.length)return;let n=2*this.buffer.length;n<r&&(n=r);const i=new Uint8Array(n);i.set(this.buffer),this.buffer=i}}class dM{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class hM{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class qf{constructor(){this.je=new uM,this.ze=new dM(this.je),this.We=new hM(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class ol{constructor(e,r,n,i){this.indexId=e,this.documentKey=r,this.arrayValue=n,this.directionalValue=i}Je(){const e=this.directionalValue.length,r=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(r);return n.set(this.directionalValue,0),r!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new ol(this.indexId,this.documentKey,this.arrayValue,n)}}function lu(t,e){let r=t.indexId-e.indexId;return 0!==r?r:(r=CC(t.arrayValue,e.arrayValue),0!==r?r:(r=CC(t.directionalValue,e.directionalValue),0!==r?r:ht.comparator(t.documentKey,e.documentKey)))}function CC(t,e){for(let r=0;r<t.length&&r<e.length;++r){const n=t[r]-e[r];if(0!==n)return n}return t.length-e.length}class TC{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const r of e.filters){const n=r;n.isInequality()?this.Ze=n:this.Xe.push(n)}}tn(e){Ot(e.collectionGroup===this.collectionId);const r=d1(e);if(void 0!==r&&!this.en(r))return!1;const n=da(e);let i=new Set,a=0,l=0;for(;a<n.length&&this.en(n[a]);++a)i=i.add(n[a].fieldPath.canonicalString());if(a===n.length)return!0;if(void 0!==this.Ze){if(!i.has(this.Ze.field.canonicalString())){const f=n[a];if(!this.nn(this.Ze,f)||!this.sn(this.Ye[l++],f))return!1}++a}for(;a<n.length;++a)if(l>=this.Ye.length||!this.sn(this.Ye[l++],n[a]))return!1;return!0}en(e){for(const r of this.Xe)if(this.nn(r,e))return!0;return!1}nn(e,r){return!(void 0===e||!e.field.isEqual(r.fieldPath))&&2===r.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,r){return!!e.field.isEqual(r.fieldPath)&&(0===r.kind&&"asc"===e.dir||1===r.kind&&"desc"===e.dir)}}function Q1(t){var e,r;if(Ot(t instanceof Dn||t instanceof jn),t instanceof Dn){if(t instanceof A1){const i=(null===(r=null===(e=t.value.arrayValue)||void 0===e?void 0:e.values)||void 0===r?void 0:r.map(a=>Dn.create(t.field,"==",a)))||[];return jn.create(i,"or")}return t}const n=t.filters.map(i=>Q1(i));return jn.create(n,t.op)}function Qx(t){if(0===t.getFilters().length)return[];const e=ew(Q1(t));return Ot(X1(e)),ls(e)||dy(e)?[e]:e.getFilters()}function ls(t){return t instanceof Dn}function dy(t){return t instanceof jn&&qv(t)}function X1(t){return ls(t)||dy(t)||function(e){if(e instanceof jn&&Wv(e)){for(const r of e.getFilters())if(!ls(r)&&!dy(r))return!1;return!0}return!1}(t)}function ew(t){if(Ot(t instanceof Dn||t instanceof jn),t instanceof Dn)return t;if(1===t.filters.length)return ew(t.filters[0]);const e=t.filters.map(n=>ew(n));let r=jn.create(e,t.op);return r=Zf(r),X1(r)?r:(Ot(r instanceof jn),Ot(Of(r)),Ot(r.filters.length>1),r.filters.reduce((n,i)=>hy(n,i)))}function hy(t,e){let r;return Ot(t instanceof Dn||t instanceof jn),Ot(e instanceof Dn||e instanceof jn),r=t instanceof Dn?e instanceof Dn?jn.create([t,e],"and"):SC(t,e):e instanceof Dn?SC(e,t):function(n,i){if(Ot(n.filters.length>0&&i.filters.length>0),Of(n)&&Of(i))return kI(n,i.getFilters());const a=Wv(n)?n:i,l=Wv(n)?i:n,f=a.filters.map(_=>hy(_,l));return jn.create(f,"or")}(t,e),Zf(r)}function SC(t,e){if(Of(e))return kI(e,t.getFilters());{const r=e.filters.map(n=>hy(t,n));return jn.create(r,"or")}}function Zf(t){if(Ot(t instanceof Dn||t instanceof jn),t instanceof Dn)return t;const e=t.getFilters();if(1===e.length)return Zf(e[0]);if(C1(t))return t;const r=e.map(i=>Zf(i)),n=[];return r.forEach(i=>{i instanceof Dn?n.push(i):i instanceof jn&&(i.op===t.op?n.push(...i.filters):n.push(i))}),1===n.length?n[0]:jn.create(n,t.op)}class uu{constructor(){this.rn=new fy}addToCollectionParentIndex(e,r){return this.rn.add(r),ce.resolve()}getCollectionParents(e,r){return ce.resolve(this.rn.getEntries(r))}addFieldIndex(e,r){return ce.resolve()}deleteFieldIndex(e,r){return ce.resolve()}getDocumentsMatchingTarget(e,r){return ce.resolve(null)}getIndexType(e,r){return ce.resolve(0)}getFieldIndexes(e,r){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,r){return ce.resolve(Ws.min())}getMinOffsetFromCollectionGroup(e,r){return ce.resolve(Ws.min())}updateCollectionGroup(e,r,n){return ce.resolve()}updateIndexEntries(e,r){return ce.resolve()}}class fy{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new pr(In.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new pr(In.comparator)).toArray()}}const Kf=new Uint8Array(0);class tw{constructor(e,r){this.user=e,this.databaseId=r,this.on=new fy,this.un=new tl(n=>xf(n),(n,i)=>Zv(n,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.on.has(r)){const n=r.lastSegment(),i=r.popLast();e.addOnCommittedListener(()=>{this.on.add(r)});const a={collectionId:n,parent:cs(i)};return AC(e).put(a)}return ce.resolve()}getCollectionParents(e,r){const n=[],i=IDBKeyRange.bound([r,""],[u1(r),""],!1,!0);return AC(e).j(i).next(a=>{for(const l of a){if(l.collectionId!==r)break;n.push(tc(l.parent))}return n})}addFieldIndex(e,r){const n=Em(e),i={indexId:(l=r).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var l;delete i.indexId;const a=n.add(i);if(r.indexState){const l=Im(e);return a.next(f=>{l.put(DC(f,this.user,r.indexState.sequenceNumber,r.indexState.offset))})}return a.next()}deleteFieldIndex(e,r){const n=Em(e),i=Im(e),a=py(e);return n.delete(r.indexId).next(()=>i.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,r){const n=py(e);let i=!0;const a=new Map;return ce.forEach(this.cn(r),l=>this.an(e,l).next(f=>{i&&(i=!!f),a.set(l,f)})).next(()=>{if(i){let l=rn();const f=[];return ce.forEach(a,(_,y)=>{var I;Ye("IndexedDbIndexManager",`Using index ${I=_,`id=${I.indexId}|cg=${I.collectionGroup}|f=${I.fields.map(Qe=>`${Qe.fieldPath}:${Qe.kind}`).join(",")}`} to execute ${xf(r)}`);const M=function(Qe,Ge){const ot=d1(Ge);if(void 0===ot)return null;for(const St of Yv(Qe,ot.fieldPath))switch(St.op){case"array-contains-any":return St.value.arrayValue.values||[];case"array-contains":return[St.value]}return null}(y,_),F=function(Qe,Ge){const ot=new Map;for(const St of da(Ge))for(const cn of Yv(Qe,St.fieldPath))switch(cn.op){case"==":case"in":ot.set(St.fieldPath.canonicalString(),cn.value);break;case"not-in":case"!=":return ot.set(St.fieldPath.canonicalString(),cn.value),Array.from(ot.values())}return null}(y,_),P=function(Qe,Ge){const ot=[];let St=!0;for(const cn of da(Ge)){const bn=0===cn.kind?UI(Qe,cn.fieldPath,Qe.startAt):jI(Qe,cn.fieldPath,Qe.startAt);ot.push(bn.value),St&&(St=bn.inclusive)}return new Xc(ot,St)}(y,_),K=function(Qe,Ge){const ot=[];let St=!0;for(const cn of da(Ge)){const bn=0===cn.kind?jI(Qe,cn.fieldPath,Qe.endAt):UI(Qe,cn.fieldPath,Qe.endAt);ot.push(bn.value),St&&(St=bn.inclusive)}return new Xc(ot,St)}(y,_),le=this.hn(_,y,P),ue=this.hn(_,y,K),Ze=this.ln(_,y,F),Je=this.fn(_.indexId,M,le,P.inclusive,ue,K.inclusive,Ze);return ce.forEach(Je,Qe=>n.H(Qe,r.limit).next(Ge=>{Ge.forEach(ot=>{const St=ht.fromSegments(ot.documentKey);l.has(St)||(l=l.add(St),f.push(St))})}))}).next(()=>f)}return ce.resolve(null)})}cn(e){let r=this.un.get(e);return r||(r=0===e.filters.length?[e]:Qx(jn.create(e.filters,"and")).map(n=>M1(e.path,e.collectionGroup,e.orderBy,n.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,r),r)}fn(e,r,n,i,a,l,f){const _=(null!=r?r.length:1)*Math.max(n.length,a.length),y=_/(null!=r?r.length:1),I=[];for(let M=0;M<_;++M){const F=r?this.dn(r[M/y]):Kf,P=this.wn(e,F,n[M%y],i),K=this._n(e,F,a[M%y],l),le=f.map(ue=>this.wn(e,F,ue,!0));I.push(...this.createRange(P,K,le))}return I}wn(e,r,n,i){const a=new ol(e,ht.empty(),r,n);return i?a:a.Je()}_n(e,r,n,i){const a=new ol(e,ht.empty(),r,n);return i?a.Je():a}an(e,r){const n=new TC(r),i=null!=r.collectionGroup?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{let l=null;for(const f of a)n.tn(f)&&(!l||f.fields.length>l.fields.length)&&(l=f);return l})}getIndexType(e,r){let n=2;const i=this.cn(r);return ce.forEach(i,a=>this.an(e,a).next(l=>{l?0!==n&&l.fields.length<function(f){let _=new pr(Tr.comparator),y=!1;for(const I of f.filters)for(const M of I.getFlattenedFilters())M.field.isKeyField()||("array-contains"===M.op||"array-contains-any"===M.op?y=!0:_=_.add(M.field));for(const I of f.orderBy)I.field.isKeyField()||(_=_.add(I.field));return _.size+(y?1:0)}(a)&&(n=1):n=0})).next(()=>null!==r.limit&&i.length>1&&2===n?1:n)}mn(e,r){const n=new qf;for(const i of da(e)){const a=r.data.field(i.fieldPath);if(null==a)return null;const l=n.He(i.kind);Ld.Ve._e(a,l)}return n.Qe()}dn(e){const r=new qf;return Ld.Ve._e(e,r.He(0)),r.Qe()}gn(e,r){const n=new qf;return Ld.Ve._e(Qc(this.databaseId,r),n.He(function(i){const a=da(i);return 0===a.length?0:a[a.length-1].kind}(e))),n.Qe()}ln(e,r,n){if(null===n)return[];let i=[];i.push(new qf);let a=0;for(const l of da(e)){const f=n[a++];for(const _ of i)if(this.yn(r,l.fieldPath)&&Af(f))i=this.pn(i,l,f);else{const y=_.He(l.kind);Ld.Ve._e(f,y)}}return this.In(i)}hn(e,r,n){return this.ln(e,r,n.position)}In(e){const r=[];for(let n=0;n<e.length;++n)r[n]=e[n].Qe();return r}pn(e,r,n){const i=[...e],a=[];for(const l of n.arrayValue.values||[])for(const f of i){const _=new qf;_.seed(f.Qe()),Ld.Ve._e(l,_.He(r.kind)),a.push(_)}return a}yn(e,r){return!!e.filters.find(n=>n instanceof Dn&&n.field.isEqual(r)&&("in"===n.op||"not-in"===n.op))}getFieldIndexes(e,r){const n=Em(e),i=Im(e);return(r?n.j("collectionGroupIndex",IDBKeyRange.bound(r,r)):n.j()).next(a=>{const l=[];return ce.forEach(a,f=>i.get([f.indexId,this.uid]).next(_=>{l.push(function(y,I){const M=I?new Ql(I.sequenceNumber,new Ws(Fd(I.readTime),new ht(tc(I.documentKey)),I.largestBatchId)):Ql.empty(),F=y.fields.map(([P,K])=>new Uv(Tr.fromServerFormat(P),K));return new Vv(y.indexId,y.collectionGroup,F,M)}(f,_))})).next(()=>l)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>0===r.length?null:(r.sort((n,i)=>{const a=n.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==a?a:Pt(n.collectionGroup,i.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,n){const i=Em(e),a=Im(e);return this.Tn(e).next(l=>i.j("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(f=>ce.forEach(f,_=>a.put(DC(_.indexId,this.user,l,n)))))}updateIndexEntries(e,r){const n=new Map;return ce.forEach(r,(i,a)=>{const l=n.get(i.collectionGroup);return(l?ce.resolve(l):this.getFieldIndexes(e,i.collectionGroup)).next(f=>(n.set(i.collectionGroup,f),ce.forEach(f,_=>this.En(e,i,_).next(y=>{const I=this.An(a,_);return y.isEqual(I)?ce.resolve():this.vn(e,a,_,y,I)}))))})}Rn(e,r,n,i){return py(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.gn(n,r.key),documentKey:r.key.path.toArray()})}Pn(e,r,n,i){return py(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.gn(n,r.key),r.key.path.toArray()])}En(e,r,n){const i=py(e);let a=new pr(lu);return i.X({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.gn(n,r)])},(l,f)=>{a=a.add(new ol(n.indexId,r,f.arrayValue,f.directionalValue))}).next(()=>a)}An(e,r){let n=new pr(lu);const i=this.mn(r,e);if(null==i)return n;const a=d1(r);if(null!=a){const l=e.data.field(a.fieldPath);if(Af(l))for(const f of l.arrayValue.values||[])n=n.add(new ol(r.indexId,e.key,this.dn(f),i))}else n=n.add(new ol(r.indexId,e.key,Kf,i));return n}vn(e,r,n,i,a){Ye("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const l=[];return function(f,_,y,I,M){const F=f.getIterator(),P=_.getIterator();let K=Ef(F),le=Ef(P);for(;K||le;){let ue=!1,Ze=!1;if(K&&le){const Je=y(K,le);Je<0?Ze=!0:Je>0&&(ue=!0)}else null!=K?Ze=!0:ue=!0;ue?(I(le),le=Ef(P)):Ze?(M(K),K=Ef(F)):(K=Ef(F),le=Ef(P))}}(i,a,lu,f=>{l.push(this.Rn(e,r,n,f))},f=>{l.push(this.Pn(e,r,n,f))}),ce.waitFor(l)}Tn(e){let r=1;return Im(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(n,i,a)=>{a.done(),r=i.sequenceNumber+1}).next(()=>r)}createRange(e,r,n){n=n.sort((l,f)=>lu(l,f)).filter((l,f,_)=>!f||0!==lu(l,_[f-1]));const i=[];i.push(e);for(const l of n){const f=lu(l,e),_=lu(l,r);if(0===f)i[0]=e.Je();else if(f>0&&_<0)i.push(l),i.push(l.Je());else if(_>0)break}i.push(r);const a=[];for(let l=0;l<i.length;l+=2){if(this.bn(i[l],i[l+1]))return[];a.push(IDBKeyRange.bound([i[l].indexId,this.uid,i[l].arrayValue,i[l].directionalValue,Kf,[]],[i[l+1].indexId,this.uid,i[l+1].arrayValue,i[l+1].directionalValue,Kf,[]]))}return a}bn(e,r){return lu(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(MC)}getMinOffset(e,r){return ce.mapArray(this.cn(r),n=>this.an(e,n).next(i=>i||_t())).next(MC)}}function AC(t){return Pi(t,"collectionParents")}function py(t){return Pi(t,"indexEntries")}function Em(t){return Pi(t,"indexConfiguration")}function Im(t){return Pi(t,"indexState")}function MC(t){Ot(0!==t.length);let e=t[0].indexState.offset,r=e.largestBatchId;for(let n=1;n<t.length;n++){const i=t[n].indexState.offset;p1(i,e)<0&&(e=i),r<i.largestBatchId&&(r=i.largestBatchId)}return new Ws(e.readTime,e.documentKey,r)}const OC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class us{constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new us(e,us.DEFAULT_COLLECTION_PERCENTILE,us.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function nw(t,e,r){const n=t.store("mutations"),i=t.store("documentMutations"),a=[],l=IDBKeyRange.only(r.batchId);let f=0;const _=n.X({range:l},(I,M,F)=>(f++,F.delete()));a.push(_.next(()=>{Ot(1===f)}));const y=[];for(const I of r.mutations){const M=gI(e,I.key.path,r.batchId);a.push(i.delete(M)),y.push(I.key)}return ce.waitFor(a).next(()=>y)}function rw(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw _t();e=t.noDocument}return JSON.stringify(e).length}us.DEFAULT_COLLECTION_PERCENTILE=10,us.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,us.DEFAULT=new us(41943040,us.DEFAULT_COLLECTION_PERCENTILE,us.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),us.DISABLED=new us(-1,0,0);class Cm{constructor(e,r,n,i){this.userId=e,this.serializer=r,this.indexManager=n,this.referenceDelegate=i,this.Vn={}}static de(e,r,n,i){Ot(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new Cm(a,r,n,i)}checkEmpty(e){let r=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return al(e).X({index:"userMutationsIndex",range:n},(i,a,l)=>{r=!1,l.done()}).next(()=>r)}addMutationBatch(e,r,n,i){const a=Tm(e),l=al(e);return l.add({}).next(f=>{Ot("number"==typeof f);const _=new nC(f,r,n,i),y=function(F,P,K){const le=K.baseMutations.map(Ze=>ay(F.fe,Ze)),ue=K.mutations.map(Ze=>ay(F.fe,Ze));return{userId:P,batchId:K.batchId,localWriteTimeMs:K.localWriteTime.toMillis(),baseMutations:le,mutations:ue}}(this.serializer,this.userId,_),I=[];let M=new pr((F,P)=>Pt(F.canonicalString(),P.canonicalString()));for(const F of i){const P=gI(this.userId,F.key.path,f);M=M.add(F.key.path.popLast()),I.push(l.put(y)),I.push(a.put(P,Wx))}return M.forEach(F=>{I.push(this.indexManager.addToCollectionParentIndex(e,F))}),e.addOnCommittedListener(()=>{this.Vn[f]=_.keys()}),ce.waitFor(I).next(()=>_)})}lookupMutationBatch(e,r){return al(e).get(r).next(n=>n?(Ot(n.userId===this.userId),fa(this.serializer,n)):null)}Sn(e,r){return this.Vn[r]?ce.resolve(this.Vn[r]):this.lookupMutationBatch(e,r).next(n=>{if(n){const i=n.keys();return this.Vn[r]=i,i}return null})}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=IDBKeyRange.lowerBound([this.userId,n]);let a=null;return al(e).X({index:"userMutationsIndex",range:i},(l,f,_)=>{f.userId===this.userId&&(Ot(f.batchId>=n),a=fa(this.serializer,f)),_.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return al(e).X({index:"userMutationsIndex",range:r,reverse:!0},(i,a,l)=>{n=a.batchId,l.done()}).next(()=>n)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return al(e).j("userMutationsIndex",r).next(n=>n.map(i=>fa(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,r){const n=$v(this.userId,r.path),i=IDBKeyRange.lowerBound(n),a=[];return Tm(e).X({range:i},(l,f,_)=>{const[y,I,M]=l,F=tc(I);if(y===this.userId&&r.path.isEqual(F))return al(e).get(M).next(P=>{if(!P)throw _t();Ot(P.userId===this.userId),a.push(fa(this.serializer,P))});_.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new pr(Pt);const i=[];return r.forEach(a=>{const l=$v(this.userId,a.path),f=IDBKeyRange.lowerBound(l),_=Tm(e).X({range:f},(y,I,M)=>{const[F,P,K]=y,le=tc(P);F===this.userId&&a.path.isEqual(le)?n=n.add(K):M.done()});i.push(_)}),ce.waitFor(i).next(()=>this.Dn(e,n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1,a=$v(this.userId,n),l=IDBKeyRange.lowerBound(a);let f=new pr(Pt);return Tm(e).X({range:l},(_,y,I)=>{const[M,F,P]=_,K=tc(F);M===this.userId&&n.isPrefixOf(K)?K.length===i&&(f=f.add(P)):I.done()}).next(()=>this.Dn(e,f))}Dn(e,r){const n=[],i=[];return r.forEach(a=>{i.push(al(e).get(a).next(l=>{if(null===l)throw _t();Ot(l.userId===this.userId),n.push(fa(this.serializer,l))}))}),ce.waitFor(i).next(()=>n)}removeMutationBatch(e,r){return nw(e.ht,this.userId,r).next(n=>(e.addOnCommittedListener(()=>{this.Cn(r.batchId)}),ce.forEach(n,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return ce.resolve();const n=IDBKeyRange.lowerBound([this.userId]),i=[];return Tm(e).X({range:n},(a,l,f)=>{if(a[0]===this.userId){const _=tc(a[1]);i.push(_)}else f.done()}).next(()=>{Ot(0===i.length)})})}containsKey(e,r){return xC(e,this.userId,r)}xn(e){return gy(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function xC(t,e,r){const n=$v(e,r.path),i=n[1],a=IDBKeyRange.lowerBound(n);let l=!1;return Tm(t).X({range:a,Y:!0},(f,_,y)=>{const[I,M,F]=f;I===e&&M===i&&(l=!0),y.done()}).next(()=>l)}function al(t){return Pi(t,"mutations")}function Tm(t){return Pi(t,"documentMutations")}function gy(t){return Pi(t,"mutationQueues")}class du{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new du(0)}static Mn(){return new du(-1)}}class NC{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.$n(e).next(r=>{const n=new du(r.highestTargetId);return r.highestTargetId=n.next(),this.On(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(r=>kt.fromTimestamp(new fr(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,n){return this.$n(e).next(i=>(i.highestListenSequenceNumber=r,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),r>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=r),this.On(e,i)))}addTargetData(e,r){return this.Fn(e,r).next(()=>this.$n(e).next(n=>(n.targetCount+=1,this.Bn(r,n),this.On(e,n))))}updateTargetData(e,r){return this.Fn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>Yf(e).delete(r.targetId)).next(()=>this.$n(e)).next(n=>(Ot(n.targetCount>0),n.targetCount-=1,this.On(e,n)))}removeTargets(e,r,n){let i=0;const a=[];return Yf(e).X((l,f)=>{const _=cu(f);_.sequenceNumber<=r&&null===n.get(_.targetId)&&(i++,a.push(this.removeTargetData(e,_)))}).next(()=>ce.waitFor(a)).next(()=>i)}forEachTarget(e,r){return Yf(e).X((n,i)=>{const a=cu(i);r(a)})}$n(e){return iw(e).get("targetGlobalKey").next(r=>(Ot(null!==r),r))}On(e,r){return iw(e).put("targetGlobalKey",r)}Fn(e,r){return Yf(e).put(bC(this.serializer,r))}Bn(e,r){let n=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,n=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.$n(e).next(r=>r.targetCount)}getTargetData(e,r){const n=xf(r),i=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let a=null;return Yf(e).X({range:i,index:"queryTargetsIndex"},(l,f,_)=>{const y=cu(f);Zv(r,y.target)&&(a=y,_.done())}).next(()=>a)}addMatchingKeys(e,r,n){const i=[],a=cl(e);return r.forEach(l=>{const f=cs(l.path);i.push(a.put({targetId:n,path:f})),i.push(this.referenceDelegate.addReference(e,n,l))}),ce.waitFor(i)}removeMatchingKeys(e,r,n){const i=cl(e);return ce.forEach(r,a=>{const l=cs(a.path);return ce.waitFor([i.delete([n,l]),this.referenceDelegate.removeReference(e,n,a)])})}removeMatchingKeysForTargetId(e,r){const n=cl(e),i=IDBKeyRange.bound([r],[r+1],!1,!0);return n.delete(i)}getMatchingKeysForTargetId(e,r){const n=IDBKeyRange.bound([r],[r+1],!1,!0),i=cl(e);let a=rn();return i.X({range:n,Y:!0},(l,f,_)=>{const y=tc(l[1]),I=new ht(y);a=a.add(I)}).next(()=>a)}containsKey(e,r){const n=cs(r.path),i=IDBKeyRange.bound([n],[u1(n)],!1,!0);let a=0;return cl(e).X({index:"documentTargetsIndex",Y:!0,range:i},([l,f],_,y)=>{0!==l&&(a++,y.done())}).next(()=>a>0)}le(e,r){return Yf(e).get(r).next(n=>n?cu(n):null)}}function Yf(t){return Pi(t,"targets")}function iw(t){return Pi(t,"targetGlobal")}function cl(t){return Pi(t,"targetDocuments")}function Bd([t,e],[r,n]){const i=Pt(t,r);return 0===i?Pt(e,n):i}class my{constructor(e){this.Ln=e,this.buffer=new pr(Bd),this.qn=0}Un(){return++this.qn}Kn(e){const r=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();Bd(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class sw{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var r=this;Ye("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Se.Z)(function*(){r.Gn=null;try{yield r.localStore.collectGarbage(r.garbageCollector)}catch(n){eu(n)?Ye("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):yield Xl(n)}yield r.Qn(3e5)}))}}class RC{constructor(e,r){this.jn=e,this.params=r}calculateTargetCount(e,r){return this.jn.zn(e).next(n=>Math.floor(r/100*n))}nthSequenceNumber(e,r){if(0===r)return ce.resolve(Fo.ct);const n=new my(r);return this.jn.forEachTarget(e,i=>n.Kn(i.sequenceNumber)).next(()=>this.jn.Wn(e,i=>n.Kn(i))).next(()=>n.maxValue)}removeTargets(e,r,n){return this.jn.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.jn.removeOrphanedDocuments(e,r)}collect(e,r){return-1===this.params.cacheSizeCollectionThreshold?(Ye("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(OC)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),OC):this.Hn(e,r))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,r){let n,i,a,l,f,_,y;const I=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(Ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),i=this.params.maximumSequenceNumbersToCollect):i=M,l=Date.now(),this.nthSequenceNumber(e,i))).next(M=>(n=M,f=Date.now(),this.removeTargets(e,n,r))).next(M=>(a=M,_=Date.now(),this.removeOrphanedDocuments(e,n))).next(M=>(y=Date.now(),Fv()<=Za.in.DEBUG&&Ye("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${l-I}ms\n\tDetermined least recently used ${i} in `+(f-l)+`ms\n\tRemoved ${a} targets in `+(_-f)+`ms\n\tRemoved ${M} documents in `+(y-_)+`ms\nTotal Duration: ${y-I}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:M})))}}class fM{constructor(e,r){this.db=e,this.garbageCollector=function PC(t,e){return new RC(t,e)}(this,r)}zn(e){const r=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(n=>r.next(i=>n+i))}Jn(e){let r=0;return this.Wn(e,n=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Wn(e,r){return this.Yn(e,(n,i)=>r(i))}addReference(e,r,n){return ow(e,n)}removeReference(e,r,n){return ow(e,n)}removeTargets(e,r,n){return this.db.getTargetCache().removeTargets(e,r,n)}markPotentiallyOrphaned(e,r){return ow(e,r)}Xn(e,r){return function(n,i){let a=!1;return gy(n).Z(l=>xC(n,l,i).next(f=>(f&&(a=!0),ce.resolve(!f)))).next(()=>a)}(e,r)}removeOrphanedDocuments(e,r){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Yn(e,(l,f)=>{if(f<=r){const _=this.Xn(e,l).next(y=>{if(!y)return a++,n.getEntry(e,l).next(()=>(n.removeEntry(l,kt.min()),cl(e).delete([0,cs(l.path)])))});i.push(_)}}).next(()=>ce.waitFor(i)).next(()=>n.apply(e)).next(()=>a)}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,r){return ow(e,r)}Yn(e,r){const n=cl(e);let i,a=Fo.ct;return n.X({index:"documentTargetsIndex"},([l,f],{path:_,sequenceNumber:y})=>{0===l?(a!==Fo.ct&&r(new ht(tc(i)),a),a=y,i=_):a=Fo.ct}).next(()=>{a!==Fo.ct&&r(new ht(tc(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function ow(t,e){return cl(t).put((n=t.currentSequenceNumber,{targetId:0,path:cs(e.path),sequenceNumber:n}));var n}class aw{constructor(){this.changes=new tl(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,gr.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return void 0!==n?ce.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class pM{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,n){return Jf(e).put(n)}removeEntry(e,r,n){return Jf(e).delete(function(i,a){const l=i.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],cy(a),l[l.length-1]]}(r,n))}updateMetadata(e,r){return this.getMetadata(e).next(n=>(n.byteSize+=r,this.Zn(e,n)))}getEntry(e,r){let n=gr.newInvalidDocument(r);return Jf(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Qf(r))},(i,a)=>{n=this.ts(r,a)}).next(()=>n)}es(e,r){let n={size:0,document:gr.newInvalidDocument(r)};return Jf(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Qf(r))},(i,a)=>{n={document:this.ts(r,a),size:rw(a)}}).next(()=>n)}getEntries(e,r){let n=Zs();return this.ns(e,r,(i,a)=>{const l=this.ts(i,a);n=n.insert(i,l)}).next(()=>n)}ss(e,r){let n=Zs(),i=new ar(ht.comparator);return this.ns(e,r,(a,l)=>{const f=this.ts(a,l);n=n.insert(a,f),i=i.insert(a,rw(l))}).next(()=>({documents:n,rs:i}))}ns(e,r,n){if(r.isEmpty())return ce.resolve();let i=new pr(LC);r.forEach(_=>i=i.add(_));const a=IDBKeyRange.bound(Qf(i.first()),Qf(i.last())),l=i.getIterator();let f=l.getNext();return Jf(e).X({index:"documentKeyIndex",range:a},(_,y,I)=>{const M=ht.fromSegments([...y.prefixPath,y.collectionGroup,y.documentId]);for(;f&&LC(f,M)<0;)n(f,null),f=l.getNext();f&&f.isEqual(M)&&(n(f,y),f=l.hasNext()?l.getNext():null),f?I.G(Qf(f)):I.done()}).next(()=>{for(;f;)n(f,null),f=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,r,n,i){const a=r.path,l=[a.popLast().toArray(),a.lastSegment(),cy(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],f=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Jf(e).j(IDBKeyRange.bound(l,f,!0)).next(_=>{let y=Zs();for(const I of _){const M=this.ts(ht.fromSegments(I.prefixPath.concat(I.collectionGroup,I.documentId)),I);M.isFoundDocument()&&(pm(r,M)||i.has(M.key))&&(y=y.insert(M.key,M))}return y})}getAllFromCollectionGroup(e,r,n,i){let a=Zs();const l=FC(r,n),f=FC(r,Ws.max());return Jf(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(l,f,!0)},(_,y,I)=>{const M=this.ts(ht.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);a=a.insert(M.key,M),a.size===i&&I.done()}).next(()=>a)}newChangeBuffer(e){return new Xx(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return gM(e).get("remoteDocumentGlobalKey").next(r=>(Ot(!!r),r))}Zn(e,r){return gM(e).put("remoteDocumentGlobalKey",r)}ts(e,r){if(r){const n=function aM(t,e){let r;if(e.document)r=nM(t.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const n=ht.fromSegments(e.noDocument.path),i=Fd(e.noDocument.readTime);r=gr.newNoDocument(n,i),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return _t();{const n=ht.fromSegments(e.unknownDocument.path),i=Fd(e.unknownDocument.version);r=gr.newUnknownDocument(n,i)}}return e.readTime&&r.setReadTime(function(n){const i=new fr(n[0],n[1]);return kt.fromTimestamp(i)}(e.readTime)),r}(this.serializer,r);if(!n.isNoDocument()||!n.version.isEqual(kt.min()))return n}return gr.newInvalidDocument(e)}}function kC(t){return new pM(t)}class Xx extends aw{constructor(e,r){super(),this.os=e,this.trackRemovals=r,this.us=new tl(n=>n.toString(),(n,i)=>n.isEqual(i))}applyChanges(e){const r=[];let n=0,i=new pr((a,l)=>Pt(a.canonicalString(),l.canonicalString()));return this.changes.forEach((a,l)=>{const f=this.us.get(a);if(r.push(this.os.removeEntry(e,a,f.readTime)),l.isValidDocument()){const _=yC(this.os.serializer,l);i=i.add(a.path.popLast());const y=rw(_);n+=y-f.size,r.push(this.os.addEntry(e,a,_))}else if(n-=f.size,this.trackRemovals){const _=yC(this.os.serializer,l.convertToNoDocument(kt.min()));r.push(this.os.addEntry(e,a,_))}}),i.forEach(a=>{r.push(this.os.indexManager.addToCollectionParentIndex(e,a))}),r.push(this.os.updateMetadata(e,n)),ce.waitFor(r)}getFromCache(e,r){return this.os.es(e,r).next(n=>(this.us.set(r,{size:n.size,readTime:n.document.readTime}),n.document))}getAllFromCache(e,r){return this.os.ss(e,r).next(({documents:n,rs:i})=>(i.forEach((a,l)=>{this.us.set(a,{size:l,readTime:n.get(a).readTime})}),n))}}function gM(t){return Pi(t,"remoteDocumentGlobal")}function Jf(t){return Pi(t,"remoteDocumentsV14")}function Qf(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function FC(t,e){const r=e.documentKey.path.toArray();return[t,cy(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function LC(t,e){const r=t.path.toArray(),n=e.path.toArray();let i=0;for(let a=0;a<r.length-2&&a<n.length-2;++a)if(i=Pt(r[a],n[a]),i)return i;return i=Pt(r.length,n.length),i||(i=Pt(r[r.length-2],n[n.length-2]),i||Pt(r[r.length-1],n[n.length-1]))}class mM{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class _M{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(null!==n&&Vf(n.mutation,i,Cs.empty(),fr.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,rn()).next(()=>n))}getLocalViewOfDocuments(e,r,n=rn()){const i=sc();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(a=>{let l=kf();return a.forEach((f,_)=>{l=l.insert(f,_.overlayedDocument)}),l}))}getOverlayedDocuments(e,r){const n=sc();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,rn()))}populateOverlays(e,r,n){const i=[];return n.forEach(a=>{r.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((l,f)=>{r.set(l,f)})})}computeViews(e,r,n,i){let a=Zs();const l=Ff(),f=Ff();return r.forEach((_,y)=>{const I=n.get(y.key);i.has(y.key)&&(void 0===I||I.mutation instanceof nl)?a=a.insert(y.key,y):void 0!==I?(l.set(y.key,I.mutation.getFieldMask()),Vf(I.mutation,y,I.mutation.getFieldMask(),fr.now())):l.set(y.key,Cs.empty())}),this.recalculateAndSaveOverlays(e,a).next(_=>(_.forEach((y,I)=>l.set(y,I)),r.forEach((y,I)=>{var M;return f.set(y,new mM(I,null!==(M=l.get(y))&&void 0!==M?M:null))}),f))}recalculateAndSaveOverlays(e,r){const n=Ff();let i=new ar((l,f)=>l-f),a=rn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(l=>{for(const f of l)f.keys().forEach(_=>{const y=r.get(_);if(null===y)return;let I=n.get(_)||Cs.empty();I=f.applyToLocalView(y,I),n.set(_,I);const M=(i.get(f.batchId)||rn()).add(_);i=i.insert(f.batchId,M)})}).next(()=>{const l=[],f=i.getReverseIterator();for(;f.hasNext();){const _=f.getNext(),y=_.key,I=_.value,M=GI();I.forEach(F=>{if(!a.has(F)){const P=XI(r.get(F),n.get(F));null!==P&&M.set(F,P),a=a.add(F)}}),l.push(this.documentOverlayCache.saveOverlays(e,y,M))}return ce.waitFor(l)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n){return ht.isDocumentKey((i=r).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):N1(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n):this.getDocumentsMatchingCollectionQuery(e,r,n);var i}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-a.size):ce.resolve(sc());let f=-1,_=a;return l.next(y=>ce.forEach(y,(I,M)=>(f<M.largestBatchId&&(f=M.largestBatchId),a.get(I)?ce.resolve():this.remoteDocumentCache.getEntry(e,I).next(F=>{_=_.insert(I,F)}))).next(()=>this.populateOverlays(e,y,a)).next(()=>this.computeViews(e,_,y,rn())).next(I=>({batchId:f,changes:mm(I)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new ht(r)).next(n=>{let i=kf();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n){const i=r.collectionGroup;let a=kf();return this.indexManager.getCollectionParents(e,i).next(l=>ce.forEach(l,f=>{const _=(y=r,I=f.child(i),new el(I,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt));var y,I;return this.getDocumentsMatchingCollectionQuery(e,_,n).next(y=>{y.forEach((I,M)=>{a=a.insert(I,M)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,r,n){let i;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,i))).next(a=>{i.forEach((f,_)=>{const y=_.getKey();null===a.get(y)&&(a=a.insert(y,gr.newInvalidDocument(y)))});let l=kf();return a.forEach((f,_)=>{const y=i.get(f);void 0!==y&&Vf(y.mutation,_,Cs.empty(),fr.now()),pm(r,_)&&(l=l.insert(f,_))}),l})}}class eN{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,r){return ce.resolve(this.cs.get(r))}saveBundleMetadata(e,r){var n;return this.cs.set(r.id,{id:(n=r).id,version:n.version,createTime:Wr(n.createTime)}),ce.resolve()}getNamedQuery(e,r){return ce.resolve(this.hs.get(r))}saveNamedQuery(e,r){return this.hs.set(r.name,{name:(n=r).name,query:Y1(n.bundledQuery),readTime:Wr(n.readTime)}),ce.resolve();var n}}class tN{constructor(){this.overlays=new ar(ht.comparator),this.ls=new Map}getOverlay(e,r){return ce.resolve(this.overlays.get(r))}getOverlays(e,r){const n=sc();return ce.forEach(r,i=>this.getOverlay(e,i).next(a=>{null!==a&&n.set(i,a)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,a)=>{this.we(e,r,a)}),ce.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.ls.get(n);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.ls.delete(n)),ce.resolve()}getOverlaysForCollection(e,r,n){const i=sc(),a=r.length+1,l=new ht(r.child("")),f=this.overlays.getIteratorFrom(l);for(;f.hasNext();){const _=f.getNext().value,y=_.getKey();if(!r.isPrefixOf(y.path))break;y.path.length===a&&_.largestBatchId>n&&i.set(_.getKey(),_)}return ce.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let a=new ar((y,I)=>y-I);const l=this.overlays.getIterator();for(;l.hasNext();){const y=l.getNext().value;if(y.getKey().getCollectionGroup()===r&&y.largestBatchId>n){let I=a.get(y.largestBatchId);null===I&&(I=sc(),a=a.insert(y.largestBatchId,I)),I.set(y.getKey(),y)}}const f=sc(),_=a.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((y,I)=>f.set(y,I)),!(f.size()>=i)););return ce.resolve(f)}we(e,r,n){const i=this.overlays.get(n.key);if(null!==i){const l=this.ls.get(i.largestBatchId).delete(n.key);this.ls.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(n.key,new kd(r,n));let a=this.ls.get(r);void 0===a&&(a=rn(),this.ls.set(r,a)),this.ls.set(r,a.add(n.key))}}class BC{constructor(){this.fs=new pr(Zi.ds),this.ws=new pr(Zi._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,r){const n=new Zi(e,r);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}gs(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.ys(new Zi(e,r))}ps(e,r){e.forEach(n=>this.removeReference(n,r))}Is(e){const r=new ht(new In([])),n=new Zi(r,e),i=new Zi(r,e+1),a=[];return this.ws.forEachInRange([n,i],l=>{this.ys(l),a.push(l.key)}),a}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const r=new ht(new In([])),n=new Zi(r,e),i=new Zi(r,e+1);let a=rn();return this.ws.forEachInRange([n,i],l=>{a=a.add(l.key)}),a}containsKey(e){const r=new Zi(e,0),n=this.fs.firstAfterOrEqual(r);return null!==n&&e.isEqual(n.key)}}class Zi{constructor(e,r){this.key=e,this.As=r}static ds(e,r){return ht.comparator(e.key,r.key)||Pt(e.As,r.As)}static _s(e,r){return Pt(e.As,r.As)||ht.comparator(e.key,r.key)}}class vM{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.vs=1,this.Rs=new pr(Zi.ds)}checkEmpty(e){return ce.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,n,i){const a=this.vs;this.vs++;const l=new nC(a,r,n,i);this.mutationQueue.push(l);for(const f of i)this.Rs=this.Rs.add(new Zi(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ce.resolve(l)}lookupMutationBatch(e,r){return ce.resolve(this.Ps(r))}getNextMutationBatchAfterBatchId(e,r){const i=this.bs(r+1),a=i<0?0:i;return ce.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Zi(r,0),i=new Zi(r,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([n,i],l=>{const f=this.Ps(l.As);a.push(f)}),ce.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new pr(Pt);return r.forEach(i=>{const a=new Zi(i,0),l=new Zi(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([a,l],f=>{n=n.add(f.As)})}),ce.resolve(this.Vs(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let a=n;ht.isDocumentKey(a)||(a=a.child(""));const l=new Zi(new ht(a),0);let f=new pr(Pt);return this.Rs.forEachWhile(_=>{const y=_.key.path;return!!n.isPrefixOf(y)&&(y.length===i&&(f=f.add(_.As)),!0)},l),ce.resolve(this.Vs(f))}Vs(e){const r=[];return e.forEach(n=>{const i=this.Ps(n);null!==i&&r.push(i)}),r}removeMutationBatch(e,r){Ot(0===this.Ss(r.batchId,"removed")),this.mutationQueue.shift();let n=this.Rs;return ce.forEach(r.mutations,i=>{const a=new Zi(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=n})}Cn(e){}containsKey(e,r){const n=new Zi(r,0),i=this.Rs.firstAfterOrEqual(n);return ce.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return ce.resolve()}Ss(e,r){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const r=this.bs(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class _y{constructor(e){this.Ds=e,this.docs=new ar(ht.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,l=this.Ds(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return ce.resolve(n?n.document.mutableCopy():gr.newInvalidDocument(r))}getEntries(e,r){let n=Zs();return r.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():gr.newInvalidDocument(i))}),ce.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let a=Zs();const l=r.path,f=new ht(l.child("")),_=this.docs.getIteratorFrom(f);for(;_.hasNext();){const{key:y,value:{document:I}}=_.getNext();if(!l.isPrefixOf(y.path))break;y.path.length>l.length+1||p1(f1(I),n)<=0||(i.has(I.key)||pm(r,I))&&(a=a.insert(I.key,I.mutableCopy()))}return ce.resolve(a)}getAllFromCollectionGroup(e,r,n,i){_t()}Cs(e,r){return ce.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new yM(this)}getSize(e){return ce.resolve(this.size)}}class yM extends aw{constructor(e){super(),this.os=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.os.addEntry(e,i)):this.os.removeEntry(n)}),ce.waitFor(r)}getFromCache(e,r){return this.os.getEntry(e,r)}getAllFromCache(e,r){return this.os.getEntries(e,r)}}class bM{constructor(e){this.persistence=e,this.xs=new tl(r=>xf(r),Zv),this.lastRemoteSnapshotVersion=kt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new BC,this.targetCount=0,this.Ms=du.kn()}forEachTarget(e,r){return this.xs.forEach((n,i)=>r(i)),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Ns&&(this.Ns=r),ce.resolve()}Fn(e){this.xs.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Ms=new du(r),this.highestTargetId=r),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,r){return this.Fn(r),this.targetCount+=1,ce.resolve()}updateTargetData(e,r){return this.Fn(r),ce.resolve()}removeTargetData(e,r){return this.xs.delete(r.target),this.ks.Is(r.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,r,n){let i=0;const a=[];return this.xs.forEach((l,f)=>{f.sequenceNumber<=r&&null===n.get(f.targetId)&&(this.xs.delete(l),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),ce.waitFor(a).next(()=>i)}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,r){const n=this.xs.get(r)||null;return ce.resolve(n)}addMatchingKeys(e,r,n){return this.ks.gs(r,n),ce.resolve()}removeMatchingKeys(e,r,n){this.ks.ps(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach(l=>{a.push(i.markPotentiallyOrphaned(e,l))}),ce.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this.ks.Is(r),ce.resolve()}getMatchingKeysForTargetId(e,r){const n=this.ks.Es(r);return ce.resolve(n)}containsKey(e,r){return ce.resolve(this.ks.containsKey(r))}}class vy{constructor(e,r){this.$s={},this.overlays={},this.Os=new Fo(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new bM(this),this.indexManager=new uu,this.remoteDocumentCache=new _y(n=>this.referenceDelegate.Ls(n)),this.serializer=new K1(r),this.qs=new eN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new tN,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.$s[e.toKey()];return n||(n=new vM(r,this.referenceDelegate),this.$s[e.toKey()]=n),n}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,r,n){Ye("MemoryPersistence","Starting transaction:",e);const i=new Vd(this.Os.next());return this.referenceDelegate.Us(),n(i).next(a=>this.referenceDelegate.Ks(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Gs(e,r){return ce.or(Object.values(this.$s).map(n=>()=>n.containsKey(e,r)))}}class Vd extends yf{constructor(e){super(),this.currentSequenceNumber=e}}class Sm{constructor(e){this.persistence=e,this.Qs=new BC,this.js=null}static zs(e){return new Sm(e)}get Ws(){if(this.js)return this.js;throw _t()}addReference(e,r,n){return this.Qs.addReference(n,r),this.Ws.delete(n.toString()),ce.resolve()}removeReference(e,r,n){return this.Qs.removeReference(n,r),this.Ws.add(n.toString()),ce.resolve()}markPotentiallyOrphaned(e,r){return this.Ws.add(r.toString()),ce.resolve()}removeTarget(e,r){this.Qs.Is(r.targetId).forEach(i=>this.Ws.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(a=>this.Ws.add(a.toString()))}).next(()=>n.removeTargetData(e,r))}Us(){this.js=new Set}Ks(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.Ws,n=>{const i=ht.fromPath(n);return this.Hs(e,i).next(a=>{a||r.removeEntry(i,kt.min())})}).next(()=>(this.js=null,r.apply(e)))}updateLimboDocument(e,r){return this.Hs(e,r).next(n=>{n?this.Ws.delete(r.toString()):this.Ws.add(r.toString())})}Ls(e){return 0}Hs(e,r){return ce.or([()=>ce.resolve(this.Qs.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Gs(e,r)])}}class cw{constructor(e){this.serializer=e}O(e,r,n,i){const a=new jv("createOrUpgrade",r);var f;n<1&&i>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",pI,{unique:!0}),f.createObjectStore("documentMutations"),VC(e),function(f){f.createObjectStore("remoteDocuments")}(e));let l=ce.resolve();return n<3&&i>=3&&(0!==n&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),VC(e)),l=l.next(()=>function(f){const _=f.store("targetGlobal"),y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:kt.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",y)}(a))),n<4&&i>=4&&(0!==n&&(l=l.next(()=>function(f,_){return _.store("mutations").j().next(y=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",pI,{unique:!0});const I=_.store("mutations"),M=y.map(F=>I.put(F));return ce.waitFor(M)})}(e,a))),l=l.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),n<5&&i>=5&&(l=l.next(()=>this.Ys(a))),n<6&&i>=6&&(l=l.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(a)))),n<7&&i>=7&&(l=l.next(()=>this.Zs(a))),n<8&&i>=8&&(l=l.next(()=>this.ti(e,a))),n<9&&i>=9&&(l=l.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),n<10&&i>=10&&(l=l.next(()=>this.ei(a))),n<11&&i>=11&&(l=l.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),n<12&&i>=12&&(l=l.next(()=>{!function(f){const _=f.createObjectStore("documentOverlays",{keyPath:LA});_.createIndex("collectionPathOverlayIndex",g1,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",BA,{unique:!1})}(e)})),n<13&&i>=13&&(l=l.next(()=>function(f){const _=f.createObjectStore("remoteDocumentsV14",{keyPath:xA});_.createIndex("documentKeyIndex",mI),_.createIndex("collectionGroupIndex",NA)}(e)).next(()=>this.ni(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),n<14&&i>=14&&(l=l.next(()=>this.si(e,a))),n<15&&i>=15&&(l=l.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:kA}).createIndex("sequenceNumberIndex",vI,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:FA}).createIndex("documentKeyIndex",yI,{unique:!1})}(e))),l}Xs(e){let r=0;return e.store("remoteDocuments").X((n,i)=>{r+=rw(i)}).next(()=>{const n={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)})}Ys(e){const r=e.store("mutationQueues"),n=e.store("mutations");return r.j().next(i=>ce.forEach(i,a=>{const l=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return n.j("userMutationsIndex",l).next(f=>ce.forEach(f,_=>{Ot(_.userId===a.userId);const y=fa(this.serializer,_);return nw(e,a.userId,y).next(()=>{})}))}))}Zs(e){const r=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return n.X((l,f)=>{const _=new In(l),y=[0,cs(_)];a.push(r.get(y).next(I=>I?ce.resolve():r.put({targetId:0,path:cs(_),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>ce.waitFor(a))})}ti(e,r){e.createObjectStore("collectionParents",{keyPath:_I});const n=r.store("collectionParents"),i=new fy,a=l=>{if(i.add(l)){const f=l.lastSegment(),_=l.popLast();return n.put({collectionId:f,parent:cs(_)})}};return r.store("remoteDocuments").X({Y:!0},(l,f)=>{const _=new In(l);return a(_.popLast())}).next(()=>r.store("documentMutations").X({Y:!0},([l,f,_],y)=>{const I=tc(f);return a(I.popLast())}))}ei(e){const r=e.store("targets");return r.X((n,i)=>{const a=cu(i),l=bC(this.serializer,a);return r.put(l)})}ni(e,r){const n=r.store("remoteDocuments"),i=[];return n.X((a,l)=>{const f=r.store("remoteDocumentsV14"),_=(y=l,y.document?new ht(In.fromString(y.document.name).popFirst(5)):y.noDocument?ht.fromSegments(y.noDocument.path):y.unknownDocument?ht.fromSegments(y.unknownDocument.path):_t()).path.toArray();var y;const I={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};i.push(f.put(I))}).next(()=>ce.waitFor(i))}si(e,r){const n=r.store("mutations"),i=kC(this.serializer),a=new vy(Sm.zs,this.serializer.fe);return n.j().next(l=>{const f=new Map;return l.forEach(_=>{var y;let I=null!==(y=f.get(_.userId))&&void 0!==y?y:rn();fa(this.serializer,_).keys().forEach(M=>I=I.add(M)),f.set(_.userId,I)}),ce.forEach(f,(_,y)=>{const I=new hi(y),M=uy.de(this.serializer,I),F=a.getIndexManager(I),P=Cm.de(I,this.serializer,F,a.referenceDelegate);return new _M(i,P,M,F).recalculateAndSaveOverlaysForDocumentKeys(new lm(r,Fo.ct),_).next()})})}}function VC(t){t.createObjectStore("targetDocuments",{keyPath:cm}).createIndex("documentTargetsIndex",PA,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",RA,{unique:!0}),t.createObjectStore("targetGlobal")}const Am="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Mm{constructor(e,r,n,i,a,l,f,_,y,I,M=15){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=n,this.ii=a,this.window=l,this.document=f,this.ri=y,this.oi=I,this.ui=M,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=F=>Promise.resolve(),!Mm.D())throw new je(_e.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new fM(this,i),this.di=r+"main",this.serializer=new K1(_),this.wi=new ko(this.di,this.ui,new cw(this.serializer)),this.Bs=new NC(this.referenceDelegate,this.serializer),this.remoteDocumentCache=kC(this.serializer),this.qs=new cM,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===I&&Fr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new je(_e.FAILED_PRECONDITION,Am);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Fo(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var n,r=this;return this.fi=function(i){return(n=n||(0,Se.Z)(function*(a){if(r.started)return e(a)})).apply(this,arguments)},e(this.isPrimary)}setDatabaseDeletedListener(e){var r;this.wi.B(function(n){return(r=r||(0,Se.Z)(function*(i){null===i.newVersion&&(yield e())})).apply(this,arguments)})}setNetworkEnabled(e){var r=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,Se.Z)(function*(){r.started&&(yield r.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>lw(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(r=>{r||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(r=>this.isPrimary&&!r?this.Ai(e).next(()=>!1):!!r&&this.vi(e).next(()=>!0))).catch(e=>{if(eu(e))return Ye("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ye("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return hu(e).get("owner").next(r=>ce.resolve(this.Ri(r)))}Pi(e){return lw(e).delete(this.clientId)}bi(){var e=this;return(0,Se.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const r=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const i=Pi(n,"clientMetadata");return i.j().next(a=>{const l=e.Si(a,18e5),f=a.filter(_=>-1===l.indexOf(_));return ce.forEach(f,_=>i.delete(_.clientId)).next(()=>f)})}).catch(()=>[]);if(e._i)for(const n of r)e._i.removeItem(e.Di(n.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?ce.resolve(!0):hu(e).get("owner").next(r=>{if(null!==r&&this.Vi(r.leaseTimestampMs,5e3)&&!this.Ci(r.ownerId)){if(this.Ri(r)&&this.networkEnabled)return!0;if(!this.Ri(r)){if(!r.allowTabSynchronization)throw new je(_e.FAILED_PRECONDITION,Am);return!1}}return!(!this.networkEnabled||!this.inForeground)||lw(e).j().next(n=>void 0===this.Si(n,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(r=>(this.isPrimary!==r&&Ye("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var e=this;return(0,Se.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],r=>{const n=new lm(r,Fo.ct);return e.Ai(n).next(()=>e.Pi(n))}),e.wi.close(),e.Mi()})()}Si(e,r){return e.filter(n=>this.Vi(n.updateTimeMs,r)&&!this.Ci(n.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>lw(e).j().next(r=>this.Si(r,18e5).map(n=>n.clientId)))}get started(){return this.Fs}getMutationQueue(e,r){return Cm.de(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new tw(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return uy.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,r,n){Ye("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===r?"readonly":"readwrite",a=15===(l=this.ui)?VA:14===l?DI:13===l?wI:12===l?bI:11===l?m1:void _t();var l;let f;return this.wi.runTransaction(e,i,a,_=>(f=new lm(_,this.Os?this.Os.next():Fo.ct),"readwrite-primary"===r?this.Ti(f).next(y=>!!y||this.Ei(f)).next(y=>{if(!y)throw Fr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new je(_e.FAILED_PRECONDITION,vf);return n(f)}).next(y=>this.vi(f).next(()=>y)):this.Oi(f).next(()=>n(f)))).then(_=>(f.raiseOnCommittedEvent(),_))}Oi(e){return hu(e).get("owner").next(r=>{if(null!==r&&this.Vi(r.leaseTimestampMs,5e3)&&!this.Ci(r.ownerId)&&!this.Ri(r)&&!(this.oi||this.allowTabSynchronization&&r.allowTabSynchronization))throw new je(_e.FAILED_PRECONDITION,Am)})}vi(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return hu(e).put("owner",r)}static D(){return ko.D()}Ai(e){const r=hu(e);return r.get("owner").next(n=>this.Ri(n)?(Ye("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):ce.resolve())}Vi(e,r){const n=Date.now();return!(e<n-r||e>n&&(Fr(`Detected an update time that is in the future: ${e} > ${n}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const r=/(?:Version|Mobile)\/1[456]/;(0,yn.G6)()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var r;try{const n=null!==(null===(r=this._i)||void 0===r?void 0:r.getItem(this.Di(e)));return Ye("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return Fr("IndexedDbPersistence","Failed to get zombied client id.",n),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Fr("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function hu(t){return Pi(t,"owner")}function lw(t){return Pi(t,"clientMetadata")}function UC(t,e){let r=t.projectId;return t.isDefaultDatabase||(r+="."+t.database),"firestore/"+e+"/"+r+"/"}class jC{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.Fi=n,this.Bi=i}static Li(e,r){let n=rn(),i=rn();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new jC(e,r.fromCache,n,i)}}class uw{constructor(){this.qi=!1}initialize(e,r){this.Ui=e,this.indexManager=r,this.qi=!0}getDocumentsMatchingQuery(e,r,n,i){return this.Ki(e,r).next(a=>a||this.Gi(e,r,i,n)).next(a=>a||this.Qi(e,r))}Ki(e,r){if(Jv(r))return ce.resolve(null);let n=pi(r);return this.indexManager.getIndexType(e,n).next(i=>0===i?null:(null!==r.limit&&1===i&&(r=Qv(r,null,"F"),n=pi(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(a=>{const l=rn(...a);return this.Ui.getDocuments(e,l).next(f=>this.indexManager.getMinOffset(e,n).next(_=>{const y=this.ji(r,f);return this.zi(r,y,l,_.readTime)?this.Ki(e,Qv(r,null,"F")):this.Wi(e,y,r,_)}))})))}Gi(e,r,n,i){return Jv(r)||i.isEqual(kt.min())?this.Qi(e,r):this.Ui.getDocuments(e,n).next(a=>{const l=this.ji(r,a);return this.zi(r,l,n,i)?this.Qi(e,r):(Fv()<=Za.in.DEBUG&&Ye("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Xv(r)),this.Wi(e,l,r,h1(i,-1)))})}ji(e,r){let n=new pr(gm(e));return r.forEach((i,a)=>{pm(e,a)&&(n=n.add(a))}),n}zi(e,r,n,i){if(null===e.limit)return!1;if(n.size!==r.size)return!0;const a="F"===e.limitType?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Qi(e,r){return Fv()<=Za.in.DEBUG&&Ye("QueryEngine","Using full collection scan to execute query:",Xv(r)),this.Ui.getDocumentsMatchingQuery(e,r,Ws.min())}Wi(e,r,n,i){return this.Ui.getDocumentsMatchingQuery(e,n,i).next(a=>(r.forEach(l=>{a=a.insert(l.key,l)}),a))}}class wM{constructor(e,r,n,i){this.persistence=e,this.Hi=r,this.serializer=i,this.Ji=new ar(Pt),this.Yi=new tl(a=>xf(a),Zv),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(n)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _M(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.Ji))}}function $C(t,e,r,n){return new wM(t,e,r,n)}function HC(t,e){return(pf=pf||(0,Se.Z)(function*(r,n){const i=ct(r);return yield i.persistence.runTransaction("Handle user change","readonly",a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next(f=>(l=f,i.tr(n),i.mutationQueue.getAllMutationBatches(a))).next(f=>{const _=[],y=[];let I=rn();for(const M of l){_.push(M.batchId);for(const F of M.mutations)I=I.add(F.key)}for(const M of f){y.push(M.batchId);for(const F of M.mutations)I=I.add(F.key)}return i.localDocuments.getDocuments(a,I).next(M=>({er:M,removedBatchIds:_,addedBatchIds:y}))})})})).apply(this,arguments)}function dw(t){const e=ct(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Bs.getLastRemoteSnapshotVersion(r))}function hw(t,e,r){let n=rn(),i=rn();return r.forEach(a=>n=n.add(a)),e.getEntries(t,n).next(a=>{let l=Zs();return r.forEach((f,_)=>{const y=a.get(f);_.isFoundDocument()!==y.isFoundDocument()&&(i=i.add(f)),_.isNoDocument()&&_.version.isEqual(kt.min())?(e.removeEntry(f,_.readTime),l=l.insert(f,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||0===_.version.compareTo(y.version)&&y.hasPendingWrites?(e.addEntry(_),l=l.insert(f,_)):Ye("LocalStore","Ignoring outdated watch update for ",f,". Current version:",y.version," Watch version:",_.version)}),{nr:l,sr:i}})}function EM(t,e){const r=ct(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function ep(t,e){const r=ct(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Bs.getTargetData(n,e).next(a=>a?(i=a,ce.resolve(i)):r.Bs.allocateTargetId(n).next(l=>(i=new sl(e,l,"TargetPurposeListen",n.currentSequenceNumber),r.Bs.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.Ji.get(n.targetId);return(null===i||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Ji=r.Ji.insert(n.targetId,n),r.Yi.set(e,n.targetId)),n})}function Ud(t,e,r){return(PE=PE||(0,Se.Z)(function*(n,i,a){const l=ct(n),f=l.Ji.get(i),_=a?"readwrite":"readwrite-primary";try{a||(yield l.persistence.runTransaction("Release target",_,y=>l.persistence.referenceDelegate.removeTarget(y,f)))}catch(y){if(!eu(y))throw y;Ye("LocalStore",`Failed to update sequence numbers for target ${i}: ${y}`)}l.Ji=l.Ji.remove(i),l.Yi.delete(f.target)})).apply(this,arguments)}function tp(t,e,r){const n=ct(t);let i=kt.min(),a=rn();return n.persistence.runTransaction("Execute query","readonly",l=>function(f,_,y){const I=ct(f),M=I.Yi.get(y);return void 0!==M?ce.resolve(I.Ji.get(M)):I.Bs.getTargetData(_,y)}(n,l,pi(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,n.Bs.getMatchingKeysForTargetId(l,f.targetId).next(_=>{a=_})}).next(()=>n.Hi.getDocumentsMatchingQuery(l,e,r?i:kt.min(),r?a:rn())).next(f=>(yy(n,P1(e),f),{documents:f,ir:a})))}function IM(t,e){const r=ct(t),n=ct(r.Bs),i=r.Ji.get(e);return i?Promise.resolve(i.target):r.persistence.runTransaction("Get target data","readonly",a=>n.le(a,e).next(l=>l?l.target:null))}function fw(t,e){const r=ct(t),n=r.Xi.get(e)||kt.min();return r.persistence.runTransaction("Get new document changes","readonly",i=>r.Zi.getAllFromCollectionGroup(i,e,h1(n,-1),Number.MAX_SAFE_INTEGER)).then(i=>(yy(r,e,i),i))}function yy(t,e,r){let n=t.Xi.get(e)||kt.min();r.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),t.Xi.set(e,n)}function TM(t,e){return(kE=kE||(0,Se.Z)(function*(r,n,i=rn()){const a=yield ep(r,pi(Y1(n.bundledQuery))),l=ct(r);return l.persistence.runTransaction("Save named query","readwrite",f=>{const _=Wr(n.readTime);if(a.snapshotVersion.compareTo(_)>=0)return l.qs.saveNamedQuery(f,n);const y=a.withResumeToken(fi.EMPTY_BYTE_STRING,_);return l.Ji=l.Ji.insert(y.targetId,y),l.Bs.updateTargetData(f,y).next(()=>l.Bs.removeMatchingKeysForTargetId(f,a.targetId)).next(()=>l.Bs.addMatchingKeys(f,i,a.targetId)).next(()=>l.qs.saveNamedQuery(f,n))})})).apply(this,arguments)}function SM(t,e){return`firestore_clients_${t}_${e}`}function AM(t,e,r){let n=`firestore_mutations_${t}_${r}`;return e.isAuthenticated()&&(n+=`_${e.uid}`),n}function pw(t,e){return`firestore_targets_${t}_${e}`}class by{constructor(e,r,n,i){this.user=e,this.batchId=r,this.state=n,this.error=i}static ar(e,r,n){const i=JSON.parse(n);let a,l="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return l&&i.error&&(l="string"==typeof i.error.message&&"string"==typeof i.error.code,l&&(a=new je(i.error.code,i.error.message))),l?new by(e,r,i.state,a):(Fr("SharedClientState",`Failed to parse mutation state for ID '${r}': ${n}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Om{constructor(e,r,n){this.targetId=e,this.state=r,this.error=n}static ar(e,r){const n=JSON.parse(r);let i,a="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return a&&n.error&&(a="string"==typeof n.error.message&&"string"==typeof n.error.code,a&&(i=new je(n.error.code,n.error.message))),a?new Om(e,n.state,i):(Fr("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class wy{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static ar(e,r){const n=JSON.parse(r);let i="object"==typeof n&&n.activeTargetIds instanceof Array,a=ey();for(let l=0;i&&l<n.activeTargetIds.length;++l)i=hI(n.activeTargetIds[l]),a=a.add(n.activeTargetIds[l]);return i?new wy(e,a):(Fr("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class Dy{constructor(e,r){this.clientId=e,this.onlineState=r}static ar(e){const r=JSON.parse(e);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new Dy(r.clientId,r.onlineState):(Fr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Ey{constructor(){this.activeTargetIds=ey()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gw{constructor(e,r,n,i,a){this.window=e,this.ii=r,this.persistenceKey=n,this.wr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new ar(Pt),this.started=!1,this.yr=[];const l=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.pr=SM(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new Ey),this.Tr=new RegExp(`^firestore_clients_${l}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${l}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${l}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Se.Z)(function*(){const r=yield e.syncEngine.$i();for(const i of r){if(i===e.wr)continue;const a=e.getItem(SM(e.persistenceKey,i));if(a){const l=wy.ar(i,a);l&&(e.gr=e.gr.insert(l.clientId,l))}}e.Pr();const n=e.storage.getItem(e.vr);if(n){const i=e.br(n);i&&e.Vr(i)}for(const i of e.yr)e.mr(i);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let r=!1;return this.gr.forEach((n,i)=>{i.activeTargetIds.has(e)&&(r=!0)}),r}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,r,n){this.Dr(e,r,n),this.Cr(e)}addLocalQueryTarget(e){let r="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(pw(this.persistenceKey,e));if(n){const i=Om.ar(e,n);i&&(r=i.state)}}return this.Nr.lr(e),this.Pr(),r}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(pw(this.persistenceKey,e))}updateQueryState(e,r,n){this.kr(e,r,n)}handleUserChange(e,r,n){r.forEach(i=>{this.Cr(i)}),this.currentUser=e,n.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return Ye("SharedClientState","READ",e,r),r}setItem(e,r){Ye("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){Ye("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var r=this;const n=e;if(n.storageArea===this.storage){if(Ye("SharedClientState","EVENT",n.key,n.newValue),n.key===this.pr)return void Fr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,Se.Z)(function*(){if(r.started){if(null!==n.key)if(r.Tr.test(n.key)){if(null==n.newValue){const i=r.Or(n.key);return r.Fr(i,null)}{const i=r.Br(n.key,n.newValue);if(i)return r.Fr(i.clientId,i)}}else if(r.Er.test(n.key)){if(null!==n.newValue){const i=r.Lr(n.key,n.newValue);if(i)return r.qr(i)}}else if(r.Ar.test(n.key)){if(null!==n.newValue){const i=r.Ur(n.key,n.newValue);if(i)return r.Kr(i)}}else if(n.key===r.vr){if(null!==n.newValue){const i=r.br(n.newValue);if(i)return r.Vr(i)}}else if(n.key===r.Ir){const i=function(a){let l=Fo.ct;if(null!=a)try{const f=JSON.parse(a);Ot("number"==typeof f),l=f}catch(f){Fr("SharedClientState","Failed to read sequence number from WebStorage",f)}return l}(n.newValue);i!==Fo.ct&&r.sequenceNumberHandler(i)}else if(n.key===r.Rr){const i=r.Gr(n.newValue);yield Promise.all(i.map(a=>r.syncEngine.Qr(a)))}}else r.yr.push(n)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,r,n){const i=new by(this.currentUser,e,r,n),a=AM(this.persistenceKey,this.currentUser,e);this.setItem(a,i.hr())}Cr(e){const r=AM(this.persistenceKey,this.currentUser,e);this.removeItem(r)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,r,n){const i=pw(this.persistenceKey,e),a=new Om(e,r,n);this.setItem(i,a.hr())}$r(e){const r=JSON.stringify(Array.from(e));this.setItem(this.Rr,r)}Or(e){const r=this.Tr.exec(e);return r?r[1]:null}Br(e,r){const n=this.Or(e);return wy.ar(n,r)}Lr(e,r){const n=this.Er.exec(e),i=Number(n[1]);return by.ar(new hi(void 0!==n[2]?n[2]:null),i,r)}Ur(e,r){const n=this.Ar.exec(e),i=Number(n[1]);return Om.ar(i,r)}br(e){return Dy.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var r=this;return(0,Se.Z)(function*(){if(e.user.uid===r.currentUser.uid)return r.syncEngine.jr(e.batchId,e.state,e.error);Ye("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,r){const n=r?this.gr.insert(e,r):this.gr.remove(e),i=this.Sr(this.gr),a=this.Sr(n),l=[],f=[];return a.forEach(_=>{i.has(_)||l.push(_)}),i.forEach(_=>{a.has(_)||f.push(_)}),this.syncEngine.Wr(l,f).then(()=>{this.gr=n})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let r=ey();return e.forEach((n,i)=>{r=r.unionWith(i.activeTargetIds)}),r}}class mw{constructor(){this.Hr=new Ey,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,r,n){this.Jr[e]=r}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Ey,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class zC{Yr(e){}shutdown(){}}class MM{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Ye("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Ye("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Iy=null;function xm(){return null===Iy?Iy=268435456+Math.round(2147483648*Math.random()):Iy++,"0x"+Iy.toString(16)}const WC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qC{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const ds="WebChannelConnection";class Cy extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,r,n,i,a){const l=xm(),f=this.To(e,r);Ye("RestConnection",`Sending RPC '${e}' ${l}:`,f,n);const _={};return this.Eo(_,i,a),this.Ao(e,f,_,n).then(y=>(Ye("RestConnection",`Received RPC '${e}' ${l}: `,y),y),y=>{throw zs("RestConnection",`RPC '${e}' ${l} failed with error: `,y,"url: ",f,"request:",n),y})}vo(e,r,n,i,a,l){return this.Io(e,r,n,i,a)}Eo(e,r,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Sd,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,a)=>e[a]=i),n&&n.headers.forEach((i,a)=>e[a]=i)}To(e,r){return`${this.mo}/v1/${r}:${WC[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,r,n,i){const a=xm();return new Promise((l,f)=>{const _=new IA;_.setWithCredentials(!0),_.listenOnce(la.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Po.NO_ERROR:const I=_.getResponseJson();Ye(ds,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(I)),l(I);break;case Po.TIMEOUT:Ye(ds,`RPC '${e}' ${a} timed out`),f(new je(_e.DEADLINE_EXCEEDED,"Request time out"));break;case Po.HTTP_ERROR:const M=_.getStatus();if(Ye(ds,`RPC '${e}' ${a} failed with status:`,M,"response text:",_.getResponseText()),M>0){let F=_.getResponseJson();Array.isArray(F)&&(F=F[0]);const P=F?.error;if(P&&P.status&&P.message){const K=function(le){const ue=le.toLowerCase().replace(/_/g,"-");return Object.values(_e).indexOf(ue)>=0?ue:_e.UNKNOWN}(P.status);f(new je(K,P.message))}else f(new je(_e.UNKNOWN,"Server responded with status "+_.getStatus()))}else f(new je(_e.UNAVAILABLE,"Connection failed."));break;default:_t()}}finally{Ye(ds,`RPC '${e}' ${a} completed.`)}});const y=JSON.stringify(i);Ye(ds,`RPC '${e}' ${a} sending request:`,i),_.send(r,"POST",y,n,15)})}Ro(e,r,n){const i=xm(),a=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=EA(),f=NE(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;void 0!==y&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.xmlHttpFactory=new RE({})),this.Eo(_.initMessageHeaders,r,n),_.encodeInitMessageHeaders=!0;const I=a.join("");Ye(ds,`Creating RPC '${e}' stream ${i}: ${I}`,_);const M=l.createWebChannel(I,_);let F=!1,P=!1;const K=new qC({ro:ue=>{P?Ye(ds,`Not sending because RPC '${e}' stream ${i} is closed:`,ue):(F||(Ye(ds,`Opening RPC '${e}' stream ${i} transport.`),M.open(),F=!0),Ye(ds,`RPC '${e}' stream ${i} sending:`,ue),M.send(ue))},oo:()=>M.close()}),le=(ue,Ze,Je)=>{ue.listen(Ze,Qe=>{try{Je(Qe)}catch(Ge){setTimeout(()=>{throw Ge},0)}})};return le(M,Rv.EventType.OPEN,()=>{P||Ye(ds,`RPC '${e}' stream ${i} transport opened.`)}),le(M,Rv.EventType.CLOSE,()=>{P||(P=!0,Ye(ds,`RPC '${e}' stream ${i} transport closed`),K.wo())}),le(M,Rv.EventType.ERROR,ue=>{P||(P=!0,zs(ds,`RPC '${e}' stream ${i} transport errored:`,ue),K.wo(new je(_e.UNAVAILABLE,"The operation could not be completed")))}),le(M,Rv.EventType.MESSAGE,ue=>{var Ze;if(!P){const Je=ue.data[0];Ot(!!Je);const Ge=Je.error||(null===(Ze=Je[0])||void 0===Ze?void 0:Ze.error);if(Ge){Ye(ds,`RPC '${e}' stream ${i} received error:`,Ge);const ot=Ge.status;let St=function(bn){const cr=ni[bn];if(void 0!==cr)return sC(cr)}(ot),cn=Ge.message;void 0===St&&(St=_e.INTERNAL,cn="Unknown error status: "+ot+" with message "+Ge.message),P=!0,K.wo(new je(St,cn)),M.close()}else Ye(ds,`RPC '${e}' stream ${i} received:`,Je),K._o(Je)}}),le(f,ua.STAT_EVENT,ue=>{ue.stat===Wb.PROXY?Ye(ds,`RPC '${e}' stream ${i} detected buffering proxy`):ue.stat===Wb.NOPROXY&&Ye(ds,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{K.fo()},0),K}}function ZC(){return typeof window<"u"?window:null}function Ty(){return typeof document<"u"?document:null}function np(t){return new lC(t,!0)}class Sy{constructor(e,r,n=1e3,i=1.5,a=6e4){this.ii=e,this.timerId=r,this.Po=n,this.bo=i,this.Vo=a,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const r=Math.floor(this.So+this.ko()),n=Math.max(0,Date.now()-this.Co),i=Math.max(0,r-n);i>0&&Ye("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class OM{constructor(e,r,n,i,a,l,f,_){this.ii=e,this.$o=n,this.Oo=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=f,this.listener=_,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Sy(e,r)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,Se.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,Se.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,r){var n=this;return(0,Se.Z)(function*(){n.Ho(),n.Jo(),n.qo.cancel(),n.Fo++,4!==e?n.qo.reset():r&&r.code===_e.RESOURCE_EXHAUSTED?(Fr(r.toString()),Fr("Using maximum backoff delay to prevent overloading the backend."),n.qo.xo()):r&&r.code===_e.UNAUTHENTICATED&&3!==n.state&&(n.authCredentialsProvider.invalidateToken(),n.appCheckCredentialsProvider.invalidateToken()),null!==n.stream&&(n.Yo(),n.stream.close(),n.stream=null),n.state=e,yield n.listener.ao(r)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),r=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Fo===r&&this.Zo(n,i)},n=>{e(()=>{const i=new je(_e.UNKNOWN,"Fetching auth token failed: "+n.message);return this.tu(i)})})}Zo(e,r){const n=this.Xo(this.Fo);this.stream=this.eu(e,r),this.stream.uo(()=>{n(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{n(()=>this.tu(i))}),this.stream.onMessage(i=>{n(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No((0,Se.Z)(function*(){e.state=0,e.start()}))}tu(e){return Ye("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return r=>{this.ii.enqueueAndForget(()=>this.Fo===e?r():(Ye("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class xM extends OM{constructor(e,r,n,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,l),this.serializer=a}eu(e,r){return this.connection.Ro("Listen",e,r)}onMessage(e){this.qo.reset();const r=function Zx(t,e){let r;if("targetChange"in e){const n="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:_t(),i=e.targetChange.targetIds||[],a=function(_,y){return _.useProto3Json?(Ot(void 0===y||"string"==typeof y),fi.fromBase64String(y||"")):(Ot(void 0===y||y instanceof Uint8Array),fi.fromUint8Array(y||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,f=l&&function(_){const y=void 0===_.code?_e.UNKNOWN:sC(_.code);return new je(y,_.message||"")}(l);r=new H1(n,i,a,f||null)}else if("documentChange"in e){const n=e.documentChange,i=ha(t,n.document.name),a=Wr(n.document.updateTime),l=n.document.createTime?Wr(n.document.createTime):kt.min(),f=new qi({mapValue:{fields:n.document.fields}}),_=gr.newFoundDocument(i,a,l,f);r=new rl(n.targetIds||[],n.removedTargetIds||[],_.key,_)}else if("documentDelete"in e){const n=e.documentDelete,i=ha(t,n.document),a=n.readTime?Wr(n.readTime):kt.min(),l=gr.newNoDocument(i,a);r=new rl([],n.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const n=e.documentRemove,i=ha(t,n.document);r=new rl([],n.removedTargetIds||[],i,null)}else{if(!("filter"in e))return _t();{const n=e.filter,{count:i=0,unchangedNames:a}=n,l=new U1(i,a);r=new aC(n.targetId,l)}}var _;return r}(this.serializer,e),n=function(i){if(!("targetChange"in i))return kt.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?kt.min():a.readTime?Wr(a.readTime):kt.min()}(e);return this.listener.nu(r,n)}su(e){const r={};r.database=zf(this.serializer),r.addTarget=function(i,a){let l;const f=a.target;if(l=Kv(f)?{documents:rM(i,f)}:{query:gC(i,f)},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=G1(i,a.resumeToken);const _=sy(i,a.expectedCount);null!==_&&(l.expectedCount=_)}else if(a.snapshotVersion.compareTo(kt.min())>0){l.readTime=Gf(i,a.snapshotVersion.toTimestamp());const _=sy(i,a.expectedCount);null!==_&&(l.expectedCount=_)}return l}(this.serializer,e);const n=function Yx(t,e){const r=function(n){switch(n){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t()}}(e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);n&&(r.labels=n),this.Wo(r)}iu(e){const r={};r.database=zf(this.serializer),r.removeTarget=e,this.Wo(r)}}class nN extends OM{constructor(e,r,n,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,l),this.serializer=a,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,r){return this.connection.Ro("Write",e,r)}onMessage(e){if(Ot(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const r=function Kx(t,e){return t&&t.length>0?(Ot(void 0!==e),t.map(r=>function(n,i){let a=Wr(n.updateTime?n.updateTime:i);return a.isEqual(kt.min())&&(a=Wr(i)),new QI(a,n.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),n=Wr(e.commitTime);return this.listener.cu(n,r)}return Ot(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=zf(this.serializer),this.Wo(e)}uu(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>ay(this.serializer,n))};this.Wo(r)}}class NM extends class{}{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new je(_e.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,r,n){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Io(e,r,n,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new je(_e.UNKNOWN,i.toString())})}vo(e,r,n,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.vo(e,r,n,a,l,i)).catch(a=>{throw"FirebaseError"===a.name?(a.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new je(_e.UNKNOWN,a.toString())})}terminate(){this.lu=!0}}class iN{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Fr(r),this.mu=!1):Ye("OnlineStateTracker",r)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class RM{constructor(e,r,n,i,a){var l=this;this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=a,this.Pu.Yr(f=>{n.enqueueAndForget((0,Se.Z)(function*(){var _;jd(l)&&(Ye("RemoteStore","Restarting streams for network reachability change."),yield function(y){return(_=_||(0,Se.Z)(function*(I){const M=ct(I);M.vu.add(4),yield Rm(M),M.bu.set("Unknown"),M.vu.delete(4),yield Nm(M)})).apply(this,arguments)}(l))}))}),this.bu=new iN(n,i)}}function Nm(t){return(Zb=Zb||(0,Se.Z)(function*(e){if(jd(e))for(const r of e.Ru)yield r(!0)})).apply(this,arguments)}function Rm(t){return(Kb=Kb||(0,Se.Z)(function*(e){for(const r of e.Ru)yield r(!1)})).apply(this,arguments)}function _w(t,e){const r=ct(t);r.Au.has(e.targetId)||(r.Au.set(e.targetId,e),YC(r)?vw(r):W(r).Ko()&&KC(r,e))}function Ay(t,e){const r=ct(t),n=W(r);r.Au.delete(e),n.Ko()&&PM(r,e),0===r.Au.size&&(n.Ko()?n.jo():jd(r)&&r.bu.set("Unknown"))}function KC(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(kt.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}W(t).su(e)}function PM(t,e){t.Vu.qt(e),W(t).iu(e)}function vw(t){t.Vu=new qx({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),W(t).start(),t.bu.gu()}function YC(t){return jd(t)&&!W(t).Uo()&&t.Au.size>0}function jd(t){return 0===ct(t).vu.size}function kM(t){t.Vu=void 0}function sN(t){return(im=im||(0,Se.Z)(function*(e){e.Au.forEach((r,n)=>{KC(e,r)})})).apply(this,arguments)}function FM(t,e){return(LE=LE||(0,Se.Z)(function*(r,n){kM(r),YC(r)?(r.bu.Iu(n),vw(r)):r.bu.set("Unknown")})).apply(this,arguments)}function LM(t,e,r){return(Yb=Yb||(0,Se.Z)(function*(n,i,a){if(n.bu.set("Online"),i instanceof H1&&2===i.state&&i.cause)try{var l;yield function(f,_){return(l=l||(0,Se.Z)(function*(y,I){const M=I.cause;for(const F of I.targetIds)y.Au.has(F)&&(yield y.remoteSyncer.rejectListen(F,M),y.Au.delete(F),y.Vu.removeTarget(F))})).apply(this,arguments)}(n,i)}catch(f){Ye("RemoteStore","Failed to remove targets %s: %s ",i.targetIds.join(","),f),yield yw(n,f)}else if(i instanceof rl?n.Vu.Ht(i):i instanceof aC?n.Vu.ne(i):n.Vu.Xt(i),!a.isEqual(kt.min()))try{const f=yield dw(n.localStore);a.compareTo(f)>=0&&(yield function(_,y){const I=_.Vu.ce(y);return I.targetChanges.forEach((M,F)=>{if(M.resumeToken.approximateByteSize()>0){const P=_.Au.get(F);P&&_.Au.set(F,P.withResumeToken(M.resumeToken,y))}}),I.targetMismatches.forEach((M,F)=>{const P=_.Au.get(M);if(!P)return;_.Au.set(M,P.withResumeToken(fi.EMPTY_BYTE_STRING,P.snapshotVersion)),PM(_,M);const K=new sl(P.target,M,F,P.sequenceNumber);KC(_,K)}),_.remoteSyncer.applyRemoteEvent(I)}(n,a))}catch(f){Ye("RemoteStore","Failed to raise snapshot:",f),yield yw(n,f)}})).apply(this,arguments)}function yw(t,e,r){return(Jb=Jb||(0,Se.Z)(function*(n,i,a){if(!eu(i))throw i;n.vu.add(1),yield Rm(n),n.bu.set("Offline"),a||(a=()=>dw(n.localStore)),n.asyncQueue.enqueueRetryable((0,Se.Z)(function*(){Ye("RemoteStore","Retrying IndexedDB access"),yield a(),n.vu.delete(1),yield Nm(n)}))})).apply(this,arguments)}function s(t,e){return e().catch(r=>yw(t,r,e))}function o(t){return(Qb=Qb||(0,Se.Z)(function*(e){const r=ct(e),n=X(r);let i=r.Eu.length>0?r.Eu[r.Eu.length-1].batchId:-1;for(;c(r);)try{const a=yield EM(r.localStore,i);if(null===a){0===r.Eu.length&&n.jo();break}i=a.batchId,u(r,a)}catch(a){yield yw(r,a)}h(r)&&p(r)})).apply(this,arguments)}function c(t){return jd(t)&&t.Eu.length<10}function u(t,e){t.Eu.push(e);const r=X(t);r.Ko()&&r.ou&&r.uu(e.mutations)}function h(t){return jd(t)&&!X(t).Uo()&&t.Eu.length>0}function p(t){X(t).start()}function v(t){return(BE=BE||(0,Se.Z)(function*(e){X(e).hu()})).apply(this,arguments)}function w(t){return(VE=VE||(0,Se.Z)(function*(e){const r=X(e);for(const n of e.Eu)r.uu(n.mutations)})).apply(this,arguments)}function D(t,e,r){return(kv=kv||(0,Se.Z)(function*(n,i,a){const l=n.Eu.shift(),f=rC.from(l,i,a);yield s(n,()=>n.remoteSyncer.applySuccessfulWrite(f)),yield o(n)})).apply(this,arguments)}function A(t,e){return(sm=sm||(0,Se.Z)(function*(r,n){var i;n&&X(r).ou&&(yield function(a,l){return(i=i||(0,Se.Z)(function*(f,_){if(iC(y=_.code)&&y!==_e.ABORTED){const I=f.Eu.shift();X(f).Qo(),yield s(f,()=>f.remoteSyncer.rejectFailedWrite(I.batchId,_)),yield o(f)}var y})).apply(this,arguments)}(r,n)),h(r)&&p(r)})).apply(this,arguments)}function N(t,e){return(Xb=Xb||(0,Se.Z)(function*(r,n){const i=ct(r);i.asyncQueue.verifyOperationInProgress(),Ye("RemoteStore","RemoteStore received new credentials");const a=jd(i);i.vu.add(3),yield Rm(i),a&&i.bu.set("Unknown"),yield i.remoteSyncer.handleCredentialChange(n),i.vu.delete(3),yield Nm(i)})).apply(this,arguments)}function V(t,e){return(e1=e1||(0,Se.Z)(function*(r,n){const i=ct(r);n?(i.vu.delete(2),yield Nm(i)):n||(i.vu.add(2),yield Rm(i),i.bu.set("Unknown"))})).apply(this,arguments)}function W(t){var e;return t.Su||(t.Su=function(r,n,i){const a=ct(r);return a.fu(),new xM(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{uo:sN.bind(null,t),ao:FM.bind(null,t),nu:LM.bind(null,t)}),t.Ru.push(function(r){return(e=e||(0,Se.Z)(function*(n){n?(t.Su.Qo(),YC(t)?vw(t):t.bu.set("Unknown")):(yield t.Su.stop(),kM(t))})).apply(this,arguments)})),t.Su}function X(t){var e;return t.Du||(t.Du=function(r,n,i){const a=ct(r);return a.fu(),new nN(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{uo:v.bind(null,t),ao:A.bind(null,t),au:w.bind(null,t),cu:D.bind(null,t)}),t.Ru.push(function(r){return(e=e||(0,Se.Z)(function*(n){n?(t.Du.Qo(),yield o(t)):(yield t.Du.stop(),t.Eu.length>0&&(Ye("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})).apply(this,arguments)})),t.Du}class Ie{constructor(e,r,n,i,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new Ri,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,r,n,i,a){const l=Date.now()+n,f=new Ie(e,r,l,i,a);return f.start(n),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new je(_e.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function We(t,e){if(Fr("AsyncQueue",`${e}: ${t}`),eu(t))return new je(_e.UNAVAILABLE,`${e}: ${t}`);throw t}class lt{constructor(e){this.comparator=e?(r,n)=>e(r,n)||ht.comparator(r.key,n.key):(r,n)=>ht.comparator(r.key,n.key),this.keyedMap=kf(),this.sortedSet=new ar(this.comparator)}static emptySet(e){return new lt(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof lt)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const n=new lt;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}class xt{constructor(){this.Cu=new ar(ht.comparator)}track(e){const r=e.doc.key,n=this.Cu.get(r);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(r,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(r,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(r,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(r,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(r):1===e.type&&2===n.type?this.Cu=this.Cu.insert(r,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(r,{type:2,doc:e.doc}):_t():this.Cu=this.Cu.insert(r,e)}xu(){const e=[];return this.Cu.inorderTraversal((r,n)=>{e.push(n)}),e}}class Le{constructor(e,r,n,i,a,l,f,_,y){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=f,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(e,r,n,i,a){const l=[];return r.forEach(f=>{l.push({type:0,doc:f})}),new Le(e,r,lt.emptySet(r),l,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}class Kt{constructor(){this.Nu=void 0,this.listeners=[]}}class dn{constructor(){this.queries=new tl(e=>fm(e),hm),this.onlineState="Unknown",this.ku=new Set}}function Fn(t,e){return(t1=t1||(0,Se.Z)(function*(r,n){const i=ct(r),a=n.query;let l=!1,f=i.queries.get(a);if(f||(l=!0,f=new Kt),l)try{f.Nu=yield i.onListen(a)}catch(_){const y=We(_,`Initialization of query '${Xv(n.query)}' failed`);return void n.onError(y)}i.queries.set(a,f),f.listeners.push(n),n.Mu(i.onlineState),f.Nu&&n.$u(f.Nu)&&Pm(i)})).apply(this,arguments)}function hs(t,e){return(n1=n1||(0,Se.Z)(function*(r,n){const i=ct(r),a=n.query;let l=!1;const f=i.queries.get(a);if(f){const _=f.listeners.indexOf(n);_>=0&&(f.listeners.splice(_,1),l=0===f.listeners.length)}if(l)return i.queries.delete(a),i.onUnlisten(a)})).apply(this,arguments)}function ll(t,e){const r=ct(t);let n=!1;for(const i of e){const l=r.queries.get(i.query);if(l){for(const f of l.listeners)f.$u(i)&&(n=!0);l.Nu=i}}n&&Pm(r)}function rp(t,e,r){const n=ct(t),i=n.queries.get(e);if(i)for(const a of i.listeners)a.onError(r);n.queries.delete(e)}function Pm(t){t.ku.forEach(e=>{e.next()})}class bw{constructor(e,r,n){this.query=e,this.Ou=r,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=n||{}}$u(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)3!==i.type&&n.push(i);e=new Le(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),r=!0):this.qu(e,this.onlineState)&&(this.Uu(e),r=!0),this.Bu=e,r}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let r=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),r=!0),r}qu(e,r){return!e.fromCache||(!this.options.Ku||!("Offline"!==r))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===r)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Le.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class BM{constructor(e,r){this.Gu=e,this.byteLength=r}Qu(){return"metadata"in this.Gu}}class oN{constructor(e){this.serializer=e}rr(e){return ha(this.serializer,e)}ur(e){return e.metadata.exists?nM(this.serializer,e.document,!1):gr.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Wr(e)}}class wF{constructor(e,r,n){this.ju=e,this.localStore=r,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=aN(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++r;const n=In.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}Wu(e){const r=new Map,n=new oN(this.serializer);for(const i of e)if(i.metadata.queries){const a=n.rr(i.metadata.name);for(const l of i.metadata.queries){const f=(r.get(l)||rn()).add(a);r.set(l,f)}}return r}complete(){var e=this;return(0,Se.Z)(function*(){const r=yield function CM(t,e,r,n){return(qb=qb||(0,Se.Z)(function*(i,a,l,f){const _=ct(i);let y=rn(),I=Zs();for(const P of l){const K=a.rr(P.metadata.name);P.document&&(y=y.add(K));const le=a.ur(P);le.setReadTime(a.cr(P.metadata.readTime)),I=I.insert(K,le)}const M=_.Zi.newChangeBuffer({trackRemovals:!0}),F=yield ep(_,(P=f,pi(Rf(In.fromString(`__bundle__/docs/${P}`)))));var P;return _.persistence.runTransaction("Apply bundle documents","readwrite",P=>hw(P,M,I).next(K=>(M.apply(P),K)).next(K=>_.Bs.removeMatchingKeysForTargetId(P,F.targetId).next(()=>_.Bs.addMatchingKeys(P,y,F.targetId)).next(()=>_.localDocuments.getLocalViewOfDocuments(P,K.nr,K.sr)).next(()=>K.nr)))})).apply(this,arguments)}(e.localStore,new oN(e.serializer),e.documents,e.ju.id),n=e.Wu(e.documents);for(const i of e.queries)yield TM(e.localStore,i,n.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:r}})()}}function aN(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}class cN{constructor(e){this.key=e}}class lN{constructor(e){this.key=e}}class uN{constructor(e,r){this.query=e,this.Yu=r,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=rn(),this.mutatedKeys=rn(),this.tc=gm(e),this.ec=new lt(this.tc)}get nc(){return this.Yu}sc(e,r){const n=r?r.ic:new xt,i=r?r.ec:this.ec;let a=r?r.mutatedKeys:this.mutatedKeys,l=i,f=!1;const _="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,y="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((I,M)=>{const F=i.get(I),P=pm(this.query,M)?M:null,K=!!F&&this.mutatedKeys.has(F.key),le=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let ue=!1;F&&P?F.data.isEqual(P.data)?K!==le&&(n.track({type:3,doc:P}),ue=!0):this.rc(F,P)||(n.track({type:2,doc:P}),ue=!0,(_&&this.tc(P,_)>0||y&&this.tc(P,y)<0)&&(f=!0)):!F&&P?(n.track({type:0,doc:P}),ue=!0):F&&!P&&(n.track({type:1,doc:F}),ue=!0,(_||y)&&(f=!0)),ue&&(P?(l=l.add(P),a=le?a.add(I):a.delete(I)):(l=l.delete(I),a=a.delete(I)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const I="F"===this.query.limitType?l.last():l.first();l=l.delete(I.key),a=a.delete(I.key),n.track({type:1,doc:I})}return{ec:l,ic:n,zi:f,mutatedKeys:a}}rc(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const a=e.ic.xu();a.sort((y,I)=>function(M,F){const P=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t()}};return P(M)-P(F)}(y.type,I.type)||this.tc(y.doc,I.doc)),this.oc(n);const l=r?this.uc():[],f=0===this.Zu.size&&this.current?1:0,_=f!==this.Xu;return this.Xu=f,0!==a.length||_?{snapshot:new Le(this.query,e.ec,i,a,e.mutatedKeys,0===f,_,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:l}:{cc:l}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new xt,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(r=>this.Yu=this.Yu.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Yu=this.Yu.delete(r)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=rn(),this.ec.forEach(n=>{this.ac(n.key)&&(this.Zu=this.Zu.add(n.key))});const r=[];return e.forEach(n=>{this.Zu.has(n)||r.push(new lN(n))}),this.Zu.forEach(n=>{e.has(n)||r.push(new cN(n))}),r}hc(e){this.Yu=e.ir,this.Zu=rn();const r=this.sc(e.documents);return this.applyChanges(r,!0)}lc(){return Le.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class DF{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class EF{constructor(e){this.key=e,this.fc=!1}}class IF{constructor(e,r,n,i,a,l){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.dc={},this.wc=new tl(f=>fm(f),hm),this._c=new Map,this.mc=new Set,this.gc=new ar(ht.comparator),this.yc=new Map,this.Ic=new BC,this.Tc={},this.Ec=new Map,this.Ac=du.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function CF(t,e){return(r1=r1||(0,Se.Z)(function*(r,n){const i=GM(r);let a,l;const f=i.wc.get(n);if(f)a=f.targetId,i.sharedClientState.addLocalQueryTarget(a),l=f.view.lc();else{const _=yield ep(i.localStore,pi(n)),y=i.sharedClientState.addLocalQueryTarget(_.targetId);a=_.targetId,l=yield VM(i,n,a,"current"===y,_.resumeToken),i.isPrimaryClient&&_w(i.remoteStore,_)}return l})).apply(this,arguments)}function VM(t,e,r,n,i){return(i1=i1||(0,Se.Z)(function*(a,l,f,_,y){a.Rc=(ue,Ze,Je)=>{var Qe;return function(Ge,ot,St,cn){return(Qe=Qe||(0,Se.Z)(function*(bn,cr,mi,Yi){let Ks=cr.view.sc(mi);Ks.zi&&(Ks=yield tp(bn.localStore,cr.query,!1).then(({documents:Wd})=>cr.view.sc(Wd,Ks)));const xs=Yi&&Yi.targetChanges.get(cr.targetId),_u=cr.view.applyChanges(Ks,bn.isPrimaryClient,xs);return $M(bn,cr.targetId,_u.cc),_u.snapshot})).apply(this,arguments)}(a,ue,Ze,Je)};const I=yield tp(a.localStore,l,!0),M=new uN(l,I.ir),F=M.sc(I.documents),P=Hf.createSynthesizedTargetChangeForCurrentChange(f,_&&"Offline"!==a.onlineState,y),K=M.applyChanges(F,a.isPrimaryClient,P);$M(a,f,K.cc);const le=new DF(l,f,M);return a.wc.set(l,le),a._c.has(f)?a._c.get(f).push(l):a._c.set(f,[l]),K.snapshot})).apply(this,arguments)}function TF(t,e){return(s1=s1||(0,Se.Z)(function*(r,n){const i=ct(r),a=i.wc.get(n),l=i._c.get(a.targetId);if(l.length>1)return i._c.set(a.targetId,l.filter(f=>!hm(f,n))),void i.wc.delete(n);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||(yield Ud(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),Ay(i.remoteStore,a.targetId),My(i,a.targetId)}).catch(Xl))):(My(i,a.targetId),yield Ud(i.localStore,a.targetId,!0))})).apply(this,arguments)}function dN(t,e){return(UE=UE||(0,Se.Z)(function*(r,n){const i=ct(r);try{const a=yield function GC(t,e){const r=ct(t),n=e.snapshotVersion;let i=r.Ji;return r.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=r.Zi.newChangeBuffer({trackRemovals:!0});i=r.Ji;const f=[];e.targetChanges.forEach((I,M)=>{const F=i.get(M);if(!F)return;f.push(r.Bs.removeMatchingKeys(a,I.removedDocuments,M).next(()=>r.Bs.addMatchingKeys(a,I.addedDocuments,M)));let P=F.withSequenceNumber(a.currentSequenceNumber);var K,le,ue;null!==e.targetMismatches.get(M)?P=P.withResumeToken(fi.EMPTY_BYTE_STRING,kt.min()).withLastLimboFreeSnapshotVersion(kt.min()):I.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(I.resumeToken,n)),i=i.insert(M,P),le=P,ue=I,(0===(K=F).resumeToken.approximateByteSize()||le.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=3e8||ue.addedDocuments.size+ue.modifiedDocuments.size+ue.removedDocuments.size>0)&&f.push(r.Bs.updateTargetData(a,P))});let _=Zs(),y=rn();if(e.documentUpdates.forEach(I=>{e.resolvedLimboDocuments.has(I)&&f.push(r.persistence.referenceDelegate.updateLimboDocument(a,I))}),f.push(hw(a,l,e.documentUpdates).next(I=>{_=I.nr,y=I.sr})),!n.isEqual(kt.min())){const I=r.Bs.getLastRemoteSnapshotVersion(a).next(M=>r.Bs.setTargetsMetadata(a,a.currentSequenceNumber,n));f.push(I)}return ce.waitFor(f).next(()=>l.apply(a)).next(()=>r.localDocuments.getLocalViewOfDocuments(a,_,y)).next(()=>_)}).then(a=>(r.Ji=i,a))}(i.localStore,n);n.targetChanges.forEach((l,f)=>{const _=i.yc.get(f);_&&(Ot(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?_.fc=!0:l.modifiedDocuments.size>0?Ot(_.fc):l.removedDocuments.size>0&&(Ot(_.fc),_.fc=!1))}),yield $d(i,a,n)}catch(a){yield Xl(a)}})).apply(this,arguments)}function hN(t,e,r){const n=ct(t);if(n.isPrimaryClient&&0===r||!n.isPrimaryClient&&1===r){const i=[];n.wc.forEach((a,l)=>{const f=l.view.Mu(e);f.snapshot&&i.push(f.snapshot)}),function(a,l){const f=ct(a);f.onlineState=l;let _=!1;f.queries.forEach((y,I)=>{for(const M of I.listeners)M.Mu(l)&&(_=!0)}),_&&Pm(f)}(n.eventManager,e),i.length&&n.dc.nu(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}function AF(t,e,r){return(jE=jE||(0,Se.Z)(function*(n,i,a){const l=ct(n);l.sharedClientState.updateQueryState(i,"rejected",a);const f=l.yc.get(i),_=f&&f.key;if(_){let y=new ar(ht.comparator);y=y.insert(_,gr.newNoDocument(_,kt.min()));const I=rn().add(_),M=new bm(kt.min(),new Map,new ar(Pt),y,I);yield dN(l,M),l.gc=l.gc.remove(_),l.yc.delete(i),HM(l)}else yield Ud(l.localStore,i,!1).then(()=>My(l,i,a)).catch(Xl)})).apply(this,arguments)}function MF(t,e){return($E=$E||(0,Se.Z)(function*(r,n){const i=ct(r),a=n.batch.batchId;try{const l=yield function DM(t,e){const r=ct(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),a=r.Zi.newChangeBuffer({trackRemovals:!0});return function(l,f,_,y){const I=_.batch,M=I.keys();let F=ce.resolve();return M.forEach(P=>{F=F.next(()=>y.getEntry(f,P)).next(K=>{const le=_.docVersions.get(P);Ot(null!==le),K.version.compareTo(le)<0&&(I.applyToRemoteDocument(K,_),K.isValidDocument()&&(K.setReadTime(_.commitVersion),y.addEntry(K)))})}),F.next(()=>l.mutationQueue.removeMutationBatch(f,I))}(r,n,e,a).next(()=>a.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(l){let f=rn();for(let _=0;_<l.mutationResults.length;++_)l.mutationResults[_].transformResults.length>0&&(f=f.add(l.batch.mutations[_].key));return f}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}(i.localStore,n);jM(i,a,null),UM(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),yield $d(i,l)}catch(l){yield Xl(l)}})).apply(this,arguments)}function OF(t,e,r){return(HE=HE||(0,Se.Z)(function*(n,i,a){const l=ct(n);try{const f=yield function(_,y){const I=ct(_);return I.persistence.runTransaction("Reject batch","readwrite-primary",M=>{let F;return I.mutationQueue.lookupMutationBatch(M,y).next(P=>(Ot(null!==P),F=P.keys(),I.mutationQueue.removeMutationBatch(M,P))).next(()=>I.mutationQueue.performConsistencyCheck(M)).next(()=>I.documentOverlayCache.removeOverlaysForBatchId(M,F,y)).next(()=>I.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(M,F)).next(()=>I.localDocuments.getDocuments(M,F))})}(l.localStore,i);jM(l,i,a),UM(l,i),l.sharedClientState.updateMutationState(i,"rejected",a),yield $d(l,f)}catch(f){yield Xl(f)}})).apply(this,arguments)}function UM(t,e){(t.Ec.get(e)||[]).forEach(r=>{r.resolve()}),t.Ec.delete(e)}function jM(t,e,r){const n=ct(t);let i=n.Tc[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(r?a.reject(r):a.resolve(),i=i.remove(e)),n.Tc[n.currentUser.toKey()]=i}}function My(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t._c.get(e))t.wc.delete(n),r&&t.dc.Pc(n,r);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(n=>{t.Ic.containsKey(n)||fN(t,n)})}function fN(t,e){t.mc.delete(e.path.canonicalString());const r=t.gc.get(e);null!==r&&(Ay(t.remoteStore,r),t.gc=t.gc.remove(e),t.yc.delete(r),HM(t))}function $M(t,e,r){for(const n of r)n instanceof cN?(t.Ic.addReference(n.key,e),NF(t,n)):n instanceof lN?(Ye("SyncEngine","Document no longer in limbo: "+n.key),t.Ic.removeReference(n.key,e),t.Ic.containsKey(n.key)||fN(t,n.key)):_t()}function NF(t,e){const r=e.key,n=r.path.canonicalString();t.gc.get(r)||t.mc.has(n)||(Ye("SyncEngine","New document in limbo: "+r),t.mc.add(n),HM(t))}function HM(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const r=new ht(In.fromString(e)),n=t.Ac.next();t.yc.set(n,new EF(r)),t.gc=t.gc.insert(r,n),_w(t.remoteStore,new sl(pi(Rf(r.path)),n,"TargetPurposeLimboResolution",Fo.ct))}}function $d(t,e,r){return(zE=zE||(0,Se.Z)(function*(n,i,a){var l;const f=ct(n),_=[],y=[],I=[];f.wc.isEmpty()||(f.wc.forEach((M,F)=>{I.push(f.Rc(F,i,a).then(P=>{if((P||a)&&f.isPrimaryClient&&f.sharedClientState.updateQueryState(F.targetId,P?.fromCache?"not-current":"current"),P){_.push(P);const K=jC.Li(F.targetId,P);y.push(K)}}))}),yield Promise.all(I),f.dc.nu(_),yield function(M,F){return(l=l||(0,Se.Z)(function*(P,K){const le=ct(P);try{yield le.persistence.runTransaction("notifyLocalViewChanges","readwrite",ue=>ce.forEach(K,Ze=>ce.forEach(Ze.Fi,Je=>le.persistence.referenceDelegate.addReference(ue,Ze.targetId,Je)).next(()=>ce.forEach(Ze.Bi,Je=>le.persistence.referenceDelegate.removeReference(ue,Ze.targetId,Je)))))}catch(ue){if(!eu(ue))throw ue;Ye("LocalStore","Failed to update sequence numbers: "+ue)}for(const ue of K){const Ze=ue.targetId;if(!ue.fromCache){const Je=le.Ji.get(Ze),Ge=Je.withLastLimboFreeSnapshotVersion(Je.snapshotVersion);le.Ji=le.Ji.insert(Ze,Ge)}}})).apply(this,arguments)}(f.localStore,y))})).apply(this,arguments)}function RF(t,e){return(WE=WE||(0,Se.Z)(function*(r,n){const i=ct(r);if(!i.currentUser.isEqual(n)){Ye("SyncEngine","User change. New user:",n.toKey());const a=yield HC(i.localStore,n);i.currentUser=n,(l=i).Ec.forEach(_=>{_.forEach(y=>{y.reject(new je(_e.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.Ec.clear(),i.sharedClientState.handleUserChange(n,a.removedBatchIds,a.addedBatchIds),yield $d(i,a.er)}var l})).apply(this,arguments)}function PF(t,e){const r=ct(t),n=r.yc.get(e);if(n&&n.fc)return rn().add(n.key);{let i=rn();const a=r._c.get(e);if(!a)return i;for(const l of a){const f=r.wc.get(l);i=i.unionWith(f.view.nc)}return i}}function kF(t,e){return(qE=qE||(0,Se.Z)(function*(r,n){const i=ct(r),a=yield tp(i.localStore,n.query,!0),l=n.view.hc(a);return i.isPrimaryClient&&$M(i,n.targetId,l.cc),l})).apply(this,arguments)}function FF(t,e){return(ZE=ZE||(0,Se.Z)(function*(r,n){const i=ct(r);return fw(i.localStore,n).then(a=>$d(i,a))})).apply(this,arguments)}function LF(t,e,r,n){return(KE=KE||(0,Se.Z)(function*(i,a,l,f){const _=ct(i),y=yield function(I,M){const F=ct(I),P=ct(F.mutationQueue);return F.persistence.runTransaction("Lookup mutation documents","readonly",K=>P.Sn(K,M).next(le=>le?F.localDocuments.getDocuments(K,le):ce.resolve(null)))}(_.localStore,a);var M;null!==y?("pending"===l?yield o(_.remoteStore):"acknowledged"===l||"rejected"===l?(jM(_,a,f||null),UM(_,a),M=a,ct(ct(_.localStore).mutationQueue).Cn(M)):_t(),yield $d(_,y)):Ye("SyncEngine","Cannot apply mutation batch with id: "+a)})).apply(this,arguments)}function pN(t,e,r){return(JE=JE||(0,Se.Z)(function*(n,i,a){const l=ct(n),f=[],_=[];for(const y of i){let I;const M=l._c.get(y);if(M&&0!==M.length){I=yield ep(l.localStore,pi(M[0]));for(const F of M){const P=l.wc.get(F),K=yield kF(l,P);K.snapshot&&_.push(K.snapshot)}}else{const F=yield IM(l.localStore,y);I=yield ep(l.localStore,F),yield VM(l,gN(F),y,!1,I.resumeToken)}f.push(I)}return l.dc.nu(_),f})).apply(this,arguments)}function gN(t){return Nf(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function VF(t){const e=ct(t);return ct(ct(e.localStore).persistence).$i()}function UF(t,e,r,n){return(QE=QE||(0,Se.Z)(function*(i,a,l,f){const _=ct(i);if(_.vc)return void Ye("SyncEngine","Ignoring unexpected query state notification.");const y=_._c.get(a);if(y&&y.length>0)switch(l){case"current":case"not-current":{const I=yield fw(_.localStore,P1(y[0])),M=bm.createSynthesizedRemoteEventForCurrentChange(a,"current"===l,fi.EMPTY_BYTE_STRING);yield $d(_,I,M);break}case"rejected":yield Ud(_.localStore,a,!0),My(_,a,f);break;default:_t()}})).apply(this,arguments)}function jF(t,e,r){return(XE=XE||(0,Se.Z)(function*(n,i,a){const l=GM(n);if(l.vc){for(const f of i){if(l._c.has(f)){Ye("SyncEngine","Adding an already active target "+f);continue}const _=yield IM(l.localStore,f),y=yield ep(l.localStore,_);yield VM(l,gN(_),y.targetId,!1,y.resumeToken),_w(l.remoteStore,y)}for(const f of a)l._c.has(f)&&(yield Ud(l.localStore,f,!1).then(()=>{Ay(l.remoteStore,f),My(l,f)}).catch(Xl))}})).apply(this,arguments)}function GM(t){const e=ct(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=dN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=PF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AF.bind(null,e),e.dc.nu=ll.bind(null,e.eventManager),e.dc.Pc=rp.bind(null,e.eventManager),e}function zM(t){const e=ct(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=MF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=OF.bind(null,e),e}class ww{constructor(){this.synchronizeTabs=!1}initialize(e){var r=this;return(0,Se.Z)(function*(){r.serializer=np(e.databaseInfo.databaseId),r.sharedClientState=r.createSharedClientState(e),r.persistence=r.createPersistence(e),yield r.persistence.start(),r.localStore=r.createLocalStore(e),r.gcScheduler=r.createGarbageCollectionScheduler(e,r.localStore),r.indexBackfillerScheduler=r.createIndexBackfillerScheduler(e,r.localStore)})()}createGarbageCollectionScheduler(e,r){return null}createIndexBackfillerScheduler(e,r){return null}createLocalStore(e){return $C(this.persistence,new uw,e.initialUser,this.serializer)}createPersistence(e){return new vy(Sm.zs,this.serializer)}createSharedClientState(e){return new mw}terminate(){var e=this;return(0,Se.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class WM extends ww{constructor(e,r,n){super(),this.Vc=e,this.cacheSizeBytes=r,this.forceOwnership=n,this.synchronizeTabs=!1}initialize(e){var r=()=>super.initialize,n=this;return(0,Se.Z)(function*(){yield r().call(n,e),yield n.Vc.initialize(n,e),yield zM(n.Vc.syncEngine),yield o(n.Vc.remoteStore),yield n.persistence.Ii(()=>(n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(),n.indexBackfillerScheduler&&!n.indexBackfillerScheduler.started&&n.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return $C(this.persistence,new uw,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,r){return new sw(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,r)}createIndexBackfillerScheduler(e,r){const n=new zx(r,this.persistence);return new Gx(e.asyncQueue,n)}createPersistence(e){const r=UC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?us.withCacheSize(this.cacheSizeBytes):us.DEFAULT;return new Mm(this.synchronizeTabs,r,e.clientId,n,e.asyncQueue,ZC(),Ty(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new mw}}class mN extends WM{constructor(e,r){super(e,r,!1),this.Vc=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(e){var r=()=>super.initialize,n=this;return(0,Se.Z)(function*(){var i;yield r().call(n,e);const a=n.Vc.syncEngine;n.sharedClientState instanceof gw&&(n.sharedClientState.syncEngine={jr:LF.bind(null,a),zr:UF.bind(null,a),Wr:jF.bind(null,a),$i:VF.bind(null,a),Qr:FF.bind(null,a)},yield n.sharedClientState.start()),yield n.persistence.Ii(function(l){return(i=i||(0,Se.Z)(function*(f){yield function BF(t,e){return(YE=YE||(0,Se.Z)(function*(r,n){const i=ct(r);if(GM(i),zM(i),!0===n&&!0!==i.vc){const a=i.sharedClientState.getAllActiveQueryTargets(),l=yield pN(i,a.toArray());i.vc=!0,yield V(i.remoteStore,!0);for(const f of l)_w(i.remoteStore,f)}else if(!1===n&&!1!==i.vc){const a=[];let l=Promise.resolve();i._c.forEach((f,_)=>{i.sharedClientState.isLocalQueryTarget(_)?a.push(_):l=l.then(()=>(My(i,_),Ud(i.localStore,_,!0))),Ay(i.remoteStore,_)}),yield l,yield pN(i,a),function(f){const _=ct(f);_.yc.forEach((y,I)=>{Ay(_.remoteStore,I)}),_.Ic.Ts(),_.yc=new Map,_.gc=new ar(ht.comparator)}(i),i.vc=!1,yield V(i.remoteStore,!1)}})).apply(this,arguments)}(n.Vc.syncEngine,f),n.gcScheduler&&(f&&!n.gcScheduler.started?n.gcScheduler.start():f||n.gcScheduler.stop()),n.indexBackfillerScheduler&&(f&&!n.indexBackfillerScheduler.started?n.indexBackfillerScheduler.start():f||n.indexBackfillerScheduler.stop())})).apply(this,arguments)})})()}createSharedClientState(e){const r=ZC();if(!gw.D(r))throw new je(_e.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=UC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new gw(r,e.asyncQueue,n,e.clientId,e.initialUser)}}class Oy{initialize(e,r){var n=this;return(0,Se.Z)(function*(){n.localStore||(n.localStore=e.localStore,n.sharedClientState=e.sharedClientState,n.datastore=n.createDatastore(r),n.remoteStore=n.createRemoteStore(r),n.eventManager=n.createEventManager(r),n.syncEngine=n.createSyncEngine(r,!e.synchronizeTabs),n.sharedClientState.onlineStateHandler=i=>hN(n.syncEngine,i,1),n.remoteStore.remoteSyncer.handleCredentialChange=RF.bind(null,n.syncEngine),yield V(n.remoteStore,n.syncEngine.isPrimaryClient))})()}createEventManager(e){return new dn}createDatastore(e){const r=np(e.databaseInfo.databaseId),n=new Cy(e.databaseInfo);return new NM(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return r=this.localStore,n=this.datastore,i=e.asyncQueue,a=f=>hN(this.syncEngine,f,0),l=MM.D()?new MM:new zC,new RM(r,n,i,a,l);var r,n,i,a,l}createSyncEngine(e,r){return function(n,i,a,l,f,_,y){const I=new IF(n,i,a,l,f,_);return y&&(I.vc=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){var e;return function(r){return(e=e||(0,Se.Z)(function*(n){const i=ct(n);Ye("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield Rm(i),i.Pu.shutdown(),i.bu.set("Unknown")})).apply(this,arguments)}(this.remoteStore)}}function _N(t,e=10240){let r=0;return{read:()=>(0,Se.Z)(function*(){if(r<t.byteLength){const n={value:t.slice(r,r+e),done:!1};return r+=e,n}return{done:!0}})(),cancel:()=>(0,Se.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class JC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Fr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}class GF{constructor(e,r){this.Cc=e,this.serializer=r,this.metadata=new Ri,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(n=>{n&&n.Qu()?this.metadata.resolve(n.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(n?.Gu)}`))},n=>this.metadata.reject(n))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,Se.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,Se.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,Se.Z)(function*(){const r=yield e.kc();if(null===r)return null;const n=e.xc.decode(r),i=Number(n);isNaN(i)&&e.Mc(`length string (${n}) is not valid number`);const a=yield e.$c(i);return new BM(JSON.parse(a),r.length+i)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,Se.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const r=e.Oc();r<0&&e.Mc("Reached the end of bundle when a length string is expected.");const n=e.buffer.slice(0,r);return e.buffer=e.buffer.slice(r),n})()}$c(e){var r=this;return(0,Se.Z)(function*(){for(;r.buffer.length<e;)(yield r.Fc())&&r.Mc("Reached the end of bundle when more is expected.");const n=r.xc.decode(r.buffer.slice(0,e));return r.buffer=r.buffer.slice(e),n})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,Se.Z)(function*(){const r=yield e.Cc.read();if(!r.done){const n=new Uint8Array(e.buffer.length+r.value.length);n.set(e.buffer),n.set(r.value,e.buffer.length),e.buffer=n}return r.done})()}}class zF{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var r=this;return(0,Se.Z)(function*(){var n;if(r.ensureCommitNotCalled(),r.mutations.length>0)throw new je(_e.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield function(a,l){return(n=n||(0,Se.Z)(function*(f,_){const y=ct(f),I=zf(y.serializer)+"/documents",M={documents:_.map(le=>wm(y.serializer,le))},F=yield y.vo("BatchGetDocuments",I,M,_.length),P=new Map;F.forEach(le=>{const ue=function fC(t,e){return"found"in e?function(r,n){Ot(!!n.found);const i=ha(r,n.found.name),a=Wr(n.found.updateTime),l=n.found.createTime?Wr(n.found.createTime):kt.min(),f=new qi({mapValue:{fields:n.found.fields}});return gr.newFoundDocument(i,a,l,f)}(t,e):"missing"in e?function(r,n){Ot(!!n.missing),Ot(!!n.readTime);const i=ha(r,n.missing),a=Wr(n.readTime);return gr.newNoDocument(i,a)}(t,e):_t()}(y.serializer,le);P.set(ue.key.toString(),ue)});const K=[];return _.forEach(le=>{const ue=P.get(le.toString());Ot(!!ue),K.push(ue)}),K})).apply(this,arguments)}(r.datastore,e);return i.forEach(a=>r.recordVersion(a)),i})()}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(n){this.lastWriteError=n}this.writtenDocs.add(e.toString())}delete(e){this.write(new ou(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Se.Z)(function*(){var r;if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const n=e.readVersions;e.mutations.forEach(i=>{n.delete(i.key.toString())}),n.forEach((i,a)=>{const l=ht.fromPath(a);e.mutations.push(new tC(l,e.precondition(l)))}),yield function(i,a){return(r=r||(0,Se.Z)(function*(l,f){const _=ct(l),y=zf(_.serializer)+"/documents",I={writes:f.map(M=>ay(_.serializer,M))};yield _.Io("Commit",y,I)})).apply(this,arguments)}(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw _t();r=kt.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!r.isEqual(n))throw new je(_e.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(kt.min())?Dr.exists(!1):Dr.updateTime(r):Dr.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(kt.min()))throw new je(_e.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Dr.updateTime(r)}return Dr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class WF{constructor(e,r,n,i,a){this.asyncQueue=e,this.datastore=r,this.options=n,this.updateFunction=i,this.deferred=a,this.Bc=n.maxAttempts,this.qo=new Sy(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,Se.Z)(function*(){const r=new zF(e.datastore),n=e.qc(r);n&&n.then(i=>{e.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{e.deferred.resolve(i)}).catch(a=>{e.Uc(a)}))}).catch(i=>{e.Uc(i)})}))}qc(e){try{const r=this.updateFunction(e);return!wf(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const r=e.code;return"aborted"===r||"failed-precondition"===r||"already-exists"===r||!iC(r)}return!1}}class qF{constructor(e,r,n,i){var l,a=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=hi.UNAUTHENTICATED,this.clientId=om.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,function(f){return(l=l||(0,Se.Z)(function*(_){Ye("FirestoreClient","Received user=",_.uid),yield a.authCredentialListener(_),a.user=_})).apply(this,arguments)}),this.appCheckCredentials.start(n,f=>(Ye("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}getConfiguration(){var e=this;return(0,Se.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new je(_e.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new Ri;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Se.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(n){const i=We(n,"Failed to shutdown persistence");r.reject(i)}})),r.promise}}function QC(t,e){return(eI=eI||(0,Se.Z)(function*(r,n){var i;r.asyncQueue.verifyOperationInProgress(),Ye("FirestoreClient","Initializing OfflineComponentProvider");const a=yield r.getConfiguration();yield n.initialize(a);let l=a.initialUser;r.setCredentialChangeListener(function(f){return(i=i||(0,Se.Z)(function*(_){l.isEqual(_)||(yield HC(n.localStore,_),l=_)})).apply(this,arguments)}),n.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=n})).apply(this,arguments)}function qM(t,e){return(tI=tI||(0,Se.Z)(function*(r,n){r.asyncQueue.verifyOperationInProgress();const i=yield ZM(r);Ye("FirestoreClient","Initializing OnlineComponentProvider");const a=yield r.getConfiguration();yield n.initialize(i,a),r.setCredentialChangeListener(l=>N(n.remoteStore,l)),r.setAppCheckTokenChangeListener((l,f)=>N(n.remoteStore,f)),r._onlineComponents=n})).apply(this,arguments)}function vN(t){return"FirebaseError"===t.name?t.code===_e.FAILED_PRECONDITION||t.code===_e.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}function ZM(t){return(nI=nI||(0,Se.Z)(function*(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Ye("FirestoreClient","Using user provided OfflineComponentProvider");try{yield QC(e,e._uninitializedComponentsProvider._offline)}catch(r){const n=r;if(!vN(n))throw n;zs("Error using user provided cache. Falling back to memory cache: "+n),yield QC(e,new ww)}}else Ye("FirestoreClient","Using default OfflineComponentProvider"),yield QC(e,new ww);return e._offlineComponents})).apply(this,arguments)}function XC(t){return(rI=rI||(0,Se.Z)(function*(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Ye("FirestoreClient","Using user provided OnlineComponentProvider"),yield qM(e,e._uninitializedComponentsProvider._online)):(Ye("FirestoreClient","Using default OnlineComponentProvider"),yield qM(e,new Oy))),e._onlineComponents})).apply(this,arguments)}function yN(t){return ZM(t).then(e=>e.persistence)}function eT(t){return ZM(t).then(e=>e.localStore)}function bN(t){return XC(t).then(e=>e.remoteStore)}function KM(t){return XC(t).then(e=>e.syncEngine)}function xy(t){return(a1=a1||(0,Se.Z)(function*(e){const r=yield XC(e),n=r.eventManager;return n.onListen=CF.bind(null,r.syncEngine),n.onUnlisten=TF.bind(null,r.syncEngine),n})).apply(this,arguments)}function DN(t,e,r={}){const n=new Ri;return t.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function(i,a,l,f,_){const y=new JC({next:M=>{a.enqueueAndForget(()=>hs(i,I));const F=M.docs.has(l);!F&&M.fromCache?_.reject(new je(_e.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&M.fromCache&&f&&"server"===f.source?_.reject(new je(_e.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),I=new bw(Rf(l.path),y,{includeMetadataChanges:!0,Ku:!0});return Fn(i,I)}(yield xy(t),t.asyncQueue,e,r,n)})),n.promise}function EN(t,e,r={}){const n=new Ri;return t.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function(i,a,l,f,_){const y=new JC({next:M=>{a.enqueueAndForget(()=>hs(i,I)),M.fromCache&&"server"===f.source?_.reject(new je(_e.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(M)},error:M=>_.reject(M)}),I=new bw(l,y,{includeMetadataChanges:!0,Ku:!0});return Fn(i,I)}(yield xy(t),t.asyncQueue,e,r,n)})),n.promise}function IN(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const CN=new Map;function YM(t,e,r){if(!r)throw new je(_e.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function TN(t,e,r,n){if(!0===e&&!0===n)throw new je(_e.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function SN(t){if(!ht.isDocumentKey(t))throw new je(_e.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function AN(t){if(ht.isDocumentKey(t))throw new je(_e.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function tT(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(r=t).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof t?"a function":_t()}function An(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new je(_e.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=tT(t);throw new je(_e.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}function MN(t,e){if(e<=0)throw new je(_e.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}class ON{constructor(e){var r,n;if(void 0===e.host){if(void 0!==e.ssl)throw new je(_e.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new je(_e.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}TN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=IN(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new je(_e.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new je(_e.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new je(_e.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dw{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ON({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new je(_e.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new je(_e.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ON(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new sI;switch(r.type){case"firstParty":return new AA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new je(_e.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const r=CN.get(e);r&&(Ye("ComponentProvider","Removing Datastore"),CN.delete(e),r.terminate())}(this),Promise.resolve()}}class Sr{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Sr(this.firestore,e,this._key)}}class Ss{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Ss(this.firestore,e,this._query)}}class fu extends Ss{constructor(e,r,n){super(e,r,Rf(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Sr(this.firestore,null,new ht(e))}withConverter(e){return new fu(this.firestore,e,this._path)}}function NN(t,e,...r){if(t=(0,yn.m9)(t),YM("collection","path",e),t instanceof Dw){const n=In.fromString(e,...r);return AN(n),new fu(t,null,n)}{if(!(t instanceof Sr||t instanceof fu))throw new je(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(In.fromString(e,...r));return AN(n),new fu(t.firestore,null,n)}}function nT(t,e,...r){if(t=(0,yn.m9)(t),1===arguments.length&&(e=om.A()),YM("doc","path",e),t instanceof Dw){const n=In.fromString(e,...r);return SN(n),new Sr(t,null,new ht(n))}{if(!(t instanceof Sr||t instanceof fu))throw new je(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(In.fromString(e,...r));return SN(n),new Sr(t.firestore,t instanceof fu?t.converter:null,new ht(n))}}function RN(t,e){return t=(0,yn.m9)(t),e=(0,yn.m9)(e),(t instanceof Sr||t instanceof fu)&&(e instanceof Sr||e instanceof fu)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function JM(t,e){return t=(0,yn.m9)(t),e=(0,yn.m9)(e),t instanceof Ss&&e instanceof Ss&&t.firestore===e.firestore&&hm(t._query,e._query)&&t.converter===e.converter}class r2{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Sy(this,"async_queue_retry"),this.Xc=()=>{const r=Ty();r&&Ye("AsyncQueue","Visibility state changed to "+r.visibilityState),this.qo.Mo()};const e=Ty();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const r=Ty();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const r=new Ri;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,Se.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(r){if(!eu(r))throw r;Ye("AsyncQueue","Operation failed with retryable error: "+r)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const r=this.Gc.then(()=>(this.Hc=!0,e().catch(n=>{throw this.Wc=n,this.Hc=!1,Fr("INTERNAL UNHANDLED ERROR: ",function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),l}(n)),n}).then(n=>(this.Hc=!1,n))));return this.Gc=r,r}enqueueAfterDelay(e,r,n){this.Zc(),this.Yc.indexOf(e)>-1&&(r=0);const i=Ie.createAndSchedule(this,e,r,n,a=>this.na(a));return this.zc.push(i),i}Zc(){this.Wc&&_t()}verifyOperationInProgress(){}sa(){var e=this;return(0,Se.Z)(function*(){let r;do{r=e.Gc,yield r}while(r!==e.Gc)})()}ia(e){for(const r of this.zc)if(r.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.zc)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const r=this.zc.indexOf(e);this.zc.splice(r,1)}}function QM(t){return function(e,r){if("object"!=typeof e||null===e)return!1;const n=e;for(const i of["next","error","complete"])if(i in n&&"function"==typeof n[i])return!0;return!1}(t)}class i2{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ri,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,n){this._progressObserver={next:e,error:r,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Ar extends Dw{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new r2,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||PN(this),this._firestoreClient.terminate()}}function gi(t){return t._firestoreClient||PN(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function PN(t){var e,r,n;const i=t._freezeSettings(),a=(f=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new SI(t._databaseId,f,t._persistenceKey,(y=i).host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,IN(y.experimentalLongPollingOptions),y.useFetchStreams));var f,y;t._firestoreClient=new qF(t._authCredentials,t._appCheckCredentials,t._queue,a),null!==(r=i.cache)&&void 0!==r&&r._offlineComponentProvider&&null!==(n=i.cache)&&void 0!==n&&n._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function kN(t,e,r){const n=new Ri;return t.asyncQueue.enqueue((0,Se.Z)(function*(){try{yield QC(t,r),yield qM(t,e),n.resolve()}catch(i){const a=i;if(!vN(a))throw a;zs("Error enabling indexeddb cache. Falling back to memory cache: "+a),n.reject(a)}})).then(()=>n.promise)}function FN(t){if(t._initialized||t._terminated)throw new je(_e.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class pu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pu(fi.fromBase64String(e))}catch(r){throw new je(_e.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new pu(fi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Hd{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new je(_e.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class km{constructor(e){this._methodName=e}}class rT{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new je(_e.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new je(_e.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pt(this._lat,e._lat)||Pt(this._long,e._long)}}const g2=/^__.*__$/;class m2{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return null!==this.fieldMask?new nl(e,this.data,this.fieldMask,r,this.fieldTransforms):new Uf(e,this.data,r,this.fieldTransforms)}}class LN{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new nl(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function BN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t()}}class iT{constructor(e,r,n,i,a,l){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,void 0===a&&this.ua(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new iT(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var r;const n=null===(r=this.path)||void 0===r?void 0:r.child(e),i=this.aa({path:n,la:!1});return i.fa(e),i}da(e){var r;const n=null===(r=this.path)||void 0===r?void 0:r.child(e),i=this.aa({path:n,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return aT(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(BN(this.ca)&&g2.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class _2{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||np(e)}ya(e,r,n,i=!1){return new iT({ca:e,methodName:r,ga:n,path:Tr.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Fm(t){const e=t._freezeSettings(),r=np(t._databaseId);return new _2(t._databaseId,!!e.ignoreUndefinedProperties,r)}function sT(t,e,r,n,i,a={}){const l=t.ya(a.merge||a.mergeFields?2:0,e,r,i);nO("Data must be an object, but it was:",l,n);const f=jN(n,l);let _,y;if(a.merge)_=new Cs(l.fieldMask),y=l.fieldTransforms;else if(a.mergeFields){const I=[];for(const M of a.mergeFields){const F=Cw(e,M,r);if(!l.contains(F))throw new je(_e.INVALID_ARGUMENT,`Field '${F}' is specified in your field mask but missing from your input data.`);HN(I,F)||I.push(F)}_=new Cs(I),y=l.fieldTransforms.filter(M=>_.covers(M.field))}else _=null,y=l.fieldTransforms;return new m2(new qi(f),_,y)}class Iw extends km{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Iw}}function VN(t,e,r){return new iT({ca:3,ga:e.settings.ga,methodName:t._methodName,la:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class XM extends km{_toFieldTransform(e){return new Bf(e.path,new su)}isEqual(e){return e instanceof XM}}class v2 extends km{constructor(e,r){super(e),this.pa=r}_toFieldTransform(e){const r=VN(this,e,!0),n=this.pa.map(a=>Lm(a,r)),i=new xd(n);return new Bf(e.path,i)}isEqual(e){return this===e}}class y2 extends km{constructor(e,r){super(e),this.pa=r}_toFieldTransform(e){const r=VN(this,e,!0),n=this.pa.map(a=>Lm(a,r)),i=new Nd(n);return new Bf(e.path,i)}isEqual(e){return this===e}}class b2 extends km{constructor(e,r){super(e),this.Ia=r}_toFieldTransform(e){const r=new Rd(e.serializer,qI(e.serializer,this.Ia));return new Bf(e.path,r)}isEqual(e){return this===e}}function eO(t,e,r,n){const i=t.ya(1,e,r);nO("Data must be an object, but it was:",i,n);const a=[],l=qi.empty();nu(n,(_,y)=>{const I=oT(e,_,r);y=(0,yn.m9)(y);const M=i.da(I);if(y instanceof Iw)a.push(I);else{const F=Lm(y,M);null!=F&&(a.push(I),l.set(I,F))}});const f=new Cs(a);return new LN(l,f,i.fieldTransforms)}function tO(t,e,r,n,i,a){const l=t.ya(1,e,r),f=[Cw(e,n,r)],_=[i];if(a.length%2!=0)throw new je(_e.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let F=0;F<a.length;F+=2)f.push(Cw(e,a[F])),_.push(a[F+1]);const y=[],I=qi.empty();for(let F=f.length-1;F>=0;--F)if(!HN(y,f[F])){const P=f[F];let K=_[F];K=(0,yn.m9)(K);const le=l.da(P);if(K instanceof Iw)y.push(P);else{const ue=Lm(K,le);null!=ue&&(y.push(P),I.set(P,ue))}}const M=new Cs(y);return new LN(I,M,l.fieldTransforms)}function UN(t,e,r,n=!1){return Lm(r,t.ya(n?4:3,e))}function Lm(t,e){if($N(t=(0,yn.m9)(t)))return nO("Unsupported field value:",e,t),jN(t,e);if(t instanceof km)return function(r,n){if(!BN(n.ca))throw n._a(`${r._methodName}() can only be used with update() and set()`);if(!n.path)throw n._a(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(n);i&&n.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(r,n){const i=[];let a=0;for(const l of r){let f=Lm(l,n.wa(a));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),a++}return{arrayValue:{values:i}}}(t,e)}return function(r,n){if(null===(r=(0,yn.m9)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return qI(n.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const i=fr.fromDate(r);return{timestampValue:Gf(n.serializer,i)}}if(r instanceof fr){const i=new fr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Gf(n.serializer,i)}}if(r instanceof rT)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof pu)return{bytesValue:G1(n.serializer,r._byteString)};if(r instanceof Sr){const i=n.databaseId,a=r.firestore._databaseId;if(!a.isEqual(i))throw n._a(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:z1(r.firestore._databaseId||n.databaseId,r._key.path)}}throw n._a(`Unsupported field value: ${tT(r)}`)}(t,e)}function jN(t,e){const r={};return EI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):nu(t,(n,i)=>{const a=Lm(i,e.ha(n));null!=a&&(r[n]=a)}),{mapValue:{fields:r}}}function $N(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof fr||t instanceof rT||t instanceof pu||t instanceof Sr||t instanceof km)}function nO(t,e,r){if(!$N(r)||"object"!=typeof(n=r)||null===n||Object.getPrototypeOf(n)!==Object.prototype&&null!==Object.getPrototypeOf(n)){const n=tT(r);throw e._a("an object"===n?t+" a custom object":t+" "+n)}var n}function Cw(t,e,r){if((e=(0,yn.m9)(e))instanceof Hd)return e._internalPath;if("string"==typeof e)return oT(t,e);throw aT("Field path arguments must be of type string or ",t,!1,void 0,r)}const w2=new RegExp("[~\\*/\\[\\]]");function oT(t,e,r){if(e.search(w2)>=0)throw aT(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new Hd(...e.split("."))._internalPath}catch{throw aT(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function aT(t,e,r,n,i){const a=n&&!n.isEmpty(),l=void 0!==i;let f=`Function ${e}() called with invalid data`;r&&(f+=" (via `toFirestore()`)"),f+=". ";let _="";return(a||l)&&(_+=" (found",a&&(_+=` in field ${n}`),l&&(_+=` in document ${i}`),_+=")"),new je(_e.INVALID_ARGUMENT,f+t+_)}function HN(t,e){return t.some(r=>r.isEqual(e))}class Tw{constructor(e,r,n,i,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Sr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new D2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(cT("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class D2 extends Tw{data(){return super.data()}}function cT(t,e){return"string"==typeof e?oT(t,e):e instanceof Hd?e._internalPath:e._delegate._internalPath}function GN(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new je(_e.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rO{}class Sw extends rO{}function ip(t,e,...r){let n=[];e instanceof rO&&n.push(e),n=n.concat(r),function(i){const a=i.filter(f=>f instanceof Ny).length,l=i.filter(f=>f instanceof Aw).length;if(a>1||a>0&&l>0)throw new je(_e.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)t=i._apply(t);return t}class Aw extends Sw{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new Aw(e,r,n)}_apply(e){const r=this._parse(e);return ZN(e._query,r),new Ss(e.firestore,e.converter,R1(e._query,r))}_parse(e){const r=Fm(e.firestore);return function(i,a,l,f,_,y,I){let M;if(_.isKeyField()){if("array-contains"===y||"array-contains-any"===y)throw new je(_e.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if("in"===y||"not-in"===y){qN(I,y);const F=[];for(const P of I)F.push(WN(f,i,P));M={arrayValue:{values:F}}}else M=WN(f,i,I)}else"in"!==y&&"not-in"!==y&&"array-contains-any"!==y||qN(I,y),M=UN(l,"where",I,"in"===y||"not-in"===y);return Dn.create(_,y,M)}(e._query,0,r,e.firestore._databaseId,this._field,this._op,this._value)}}class Ny extends rO{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new Ny(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return 1===r.length?r[0]:jn.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return 0===r.getFilters().length?e:(function(n,i){let a=n;const l=i.getFlattenedFilters();for(const f of l)ZN(a,f),a=R1(a,f)}(e._query,r),new Ss(e.firestore,e.converter,R1(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class iO extends Sw{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new iO(e,r)}_apply(e){const r=function(n,i,a){if(null!==n.startAt)throw new je(_e.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==n.endAt)throw new je(_e.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new Mf(i,a);return function(f,_){if(null===O1(f)){const y=x1(f);null!==y&&KN(0,y,_.field)}}(n,l),l}(e._query,this._field,this._direction);return new Ss(e.firestore,e.converter,function(n,i){const a=n.explicitOrderBy.concat([i]);return new el(n.path,n.collectionGroup,a,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}(e._query,r))}}class lT extends Sw{constructor(e,r,n){super(),this.type=e,this._limit=r,this._limitType=n}static _create(e,r,n){return new lT(e,r,n)}_apply(e){return new Ss(e.firestore,e.converter,Qv(e._query,this._limit,this._limitType))}}class uT extends Sw{constructor(e,r,n){super(),this.type=e,this._docOrFields=r,this._inclusive=n}static _create(e,r,n){return new uT(e,r,n)}_apply(e){const r=zN(e,this.type,this._docOrFields,this._inclusive);return new Ss(e.firestore,e.converter,(i=r,new el((n=e._query).path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),n.limit,n.limitType,i,n.endAt)));var n,i}}class dT extends Sw{constructor(e,r,n){super(),this.type=e,this._docOrFields=r,this._inclusive=n}static _create(e,r,n){return new dT(e,r,n)}_apply(e){const r=zN(e,this.type,this._docOrFields,this._inclusive);return new Ss(e.firestore,e.converter,(i=r,new el((n=e._query).path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),n.limit,n.limitType,n.startAt,i)));var n,i}}function zN(t,e,r,n){if(r[0]=(0,yn.m9)(r[0]),r[0]instanceof Tw)return function(i,a,l,f,_){if(!f)throw new je(_e.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const y=[];for(const I of Pf(i))if(I.field.isKeyField())y.push(Qc(a,f.key));else{const M=f.data.field(I.field);if(Gv(M))throw new je(_e.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+I.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===M){const F=I.field.canonicalString();throw new je(_e.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${F}' (used as the orderBy) does not exist.`)}y.push(M)}return new Xc(y,_)}(t._query,t.firestore._databaseId,e,r[0]._document,n);{const i=Fm(t.firestore);return function(a,l,f,_,y,I){const M=a.explicitOrderBy;if(y.length>M.length)throw new je(_e.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const F=[];for(let P=0;P<y.length;P++){const K=y[P];if(M[P].field.isKeyField()){if("string"!=typeof K)throw new je(_e.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof K}`);if(!N1(a)&&-1!==K.indexOf("/"))throw new je(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${K}' contains a slash.`);const le=a.path.child(In.fromString(K));if(!ht.isDocumentKey(le))throw new je(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${le}' is not because it contains an odd number of segments.`);const ue=new ht(le);F.push(Qc(l,ue))}else{const le=UN(f,_,K);F.push(le)}}return new Xc(F,I)}(t._query,t.firestore._databaseId,i,e,r,n)}}function WN(t,e,r){if("string"==typeof(r=(0,yn.m9)(r))){if(""===r)throw new je(_e.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!N1(e)&&-1!==r.indexOf("/"))throw new je(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(In.fromString(r));if(!ht.isDocumentKey(n))throw new je(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return Qc(t,new ht(n))}if(r instanceof Sr)return Qc(t,r._key);throw new je(_e.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tT(r)}.`)}function qN(t,e){if(!Array.isArray(t)||0===t.length)throw new je(_e.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ZN(t,e){if(e.isInequality()){const n=x1(t),i=e.field;if(null!==n&&!n.isEqual(i))throw new je(_e.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${i.toString()}'`);const a=O1(t);null!==a&&KN(0,i,a)}const r=function(n,i){for(const a of n)for(const l of a.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(n){switch(n){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw new je(_e.INVALID_ARGUMENT,r===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}function KN(t,e,r){if(!r.isEqual(e))throw new je(_e.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${r.toString()}' instead.`)}class sO{convertValue(e,r="none"){switch(rc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Lr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Jc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 10:return this.convertObject(e.mapValue,r);default:throw _t()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return nu(e,(i,a)=>{n[i]=this.convertValue(a,r)}),n}convertGeoPoint(e){return new rT(Lr(e.latitude),Lr(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=If(e);return null==n?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Md(e));default:return null}}convertTimestamp(e){const r=ru(e);return new fr(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=In.fromString(e);Ot(oM(n));const i=new nc(n.get(1),n.get(3)),a=new ht(n.popFirst(5));return i.isEqual(r)||Fr(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}function hT(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}class x2 extends sO{constructor(e){super(),this.firestore=e}convertBytes(e){return new pu(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Sr(this.firestore,null,r)}}class Bm{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gd extends Tw{constructor(e,r,n,i,a,l){super(e,r,n,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Mw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(cT("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class Mw extends Gd{data(e={}){return super.data(e)}}class sp{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new Bm(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new Mw(this._firestore,this._userDataWriter,n.key,n,new Bm(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new je(_e.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(n,i){if(n._snapshot.oldDocs.isEmpty()){let a=0;return n._snapshot.docChanges.map(l=>({type:"added",doc:new Mw(n._firestore,n._userDataWriter,l.doc.key,l.doc,new Bm(n._snapshot.mutatedKeys.has(l.doc.key),n._snapshot.fromCache),n.query.converter),oldIndex:-1,newIndex:a++}))}{let a=n._snapshot.oldDocs;return n._snapshot.docChanges.filter(l=>i||3!==l.type).map(l=>{const f=new Mw(n._firestore,n._userDataWriter,l.doc.key,l.doc,new Bm(n._snapshot.mutatedKeys.has(l.doc.key),n._snapshot.fromCache),n.query.converter);let _=-1,y=-1;return 0!==l.type&&(_=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),1!==l.type&&(a=a.add(l.doc),y=a.indexOf(l.doc.key)),{type:R2(l.type),doc:f,oldIndex:_,newIndex:y}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function R2(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t()}}function JN(t,e){return t instanceof Gd&&e instanceof Gd?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof sp&&e instanceof sp&&t._firestore===e._firestore&&JM(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}class op extends sO{constructor(e){super(),this.firestore=e}convertBytes(e){return new pu(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Sr(this.firestore,null,r)}}function QN(t,e,r){t=An(t,Sr);const n=An(t.firestore,Ar),i=hT(t.converter,e,r);return Ry(n,[sT(Fm(n),"setDoc",t._key,i,null!==t.converter,r).toMutation(t._key,Dr.none())])}function XN(t,e,r,...n){t=An(t,Sr);const i=An(t.firestore,Ar),a=Fm(i);let l;return l="string"==typeof(e=(0,yn.m9)(e))||e instanceof Hd?tO(a,"updateDoc",t._key,e,r,n):eO(a,"updateDoc",t._key,e),Ry(i,[l.toMutation(t._key,Dr.exists(!0))])}function eR(t,...e){var r,n,i;t=(0,yn.m9)(t);let a={includeMetadataChanges:!1},l=0;"object"!=typeof e[l]||QM(e[l])||(a=e[l],l++);const f={includeMetadataChanges:a.includeMetadataChanges};if(QM(e[l])){const M=e[l];e[l]=null===(r=M.next)||void 0===r?void 0:r.bind(M),e[l+1]=null===(n=M.error)||void 0===n?void 0:n.bind(M),e[l+2]=null===(i=M.complete)||void 0===i?void 0:i.bind(M)}let _,y,I;if(t instanceof Sr)y=An(t.firestore,Ar),I=Rf(t._key.path),_={next:M=>{e[l]&&e[l](oO(y,t,M))},error:e[l+1],complete:e[l+2]};else{const M=An(t,Ss);y=An(M.firestore,Ar),I=M._query;const F=new op(y);_={next:P=>{e[l]&&e[l](new sp(y,F,M,P))},error:e[l+1],complete:e[l+2]},GN(t._query)}return function(M,F,P,K){const le=new JC(K),ue=new bw(F,le,P);return M.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return Fn(yield xy(M),ue)})),()=>{le.Dc(),M.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return hs(yield xy(M),ue)}))}}(gi(y),I,f,_)}function Ry(t,e){return function(r,n){const i=new Ri;return r.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function SF(t,e,r){return(o1=o1||(0,Se.Z)(function*(n,i,a){const l=zM(n);try{const f=yield function(_,y){const I=ct(_),M=fr.now(),F=y.reduce((le,ue)=>le.add(ue.key),rn());let P,K;return I.persistence.runTransaction("Locally write mutations","readwrite",le=>{let ue=Zs(),Ze=rn();return I.Zi.getEntries(le,F).next(Je=>{ue=Je,ue.forEach((Qe,Ge)=>{Ge.isValidDocument()||(Ze=Ze.add(Qe))})}).next(()=>I.localDocuments.getOverlayedDocuments(le,ue)).next(Je=>{P=Je;const Qe=[];for(const Ge of y){const ot=Ts(Ge,P.get(Ge.key).overlayedDocument);null!=ot&&Qe.push(new nl(Ge.key,ot,RI(ot.value.mapValue),Dr.exists(!0)))}return I.mutationQueue.addMutationBatch(le,M,Qe,y)}).next(Je=>{K=Je;const Qe=Je.applyToLocalDocumentSet(P,Ze);return I.documentOverlayCache.saveOverlays(le,Je.batchId,Qe)})}).then(()=>({batchId:K.batchId,changes:mm(P)}))}(l.localStore,i);l.sharedClientState.addPendingMutation(f.batchId),function(_,y,I){let M=_.Tc[_.currentUser.toKey()];M||(M=new ar(Pt)),M=M.insert(y,I),_.Tc[_.currentUser.toKey()]=M}(l,f.batchId,a),yield $d(l,f.changes),yield o(l.remoteStore)}catch(f){const _=We(f,"Failed to persist write");a.reject(_)}})).apply(this,arguments)}(yield KM(r),n,i)})),i.promise}(gi(t),e)}function oO(t,e,r){const n=r.docs.get(e._key),i=new op(t);return new Gd(t,i,e._key,n,new Bm(r.hasPendingWrites,r.fromCache),e.converter)}const J2={maxAttempts:5};class tR{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Fm(e)}set(e,r,n){this._verifyNotCommitted();const i=ap(e,this._firestore),a=hT(i.converter,r,n),l=sT(this._dataReader,"WriteBatch.set",i._key,a,null!==i.converter,n);return this._mutations.push(l.toMutation(i._key,Dr.none())),this}update(e,r,n,...i){this._verifyNotCommitted();const a=ap(e,this._firestore);let l;return l="string"==typeof(r=(0,yn.m9)(r))||r instanceof Hd?tO(this._dataReader,"WriteBatch.update",a._key,r,n,i):eO(this._dataReader,"WriteBatch.update",a._key,r),this._mutations.push(l.toMutation(a._key,Dr.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=ap(e,this._firestore);return this._mutations=this._mutations.concat(new ou(r._key,Dr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new je(_e.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ap(t,e){if((t=(0,yn.m9)(t)).firestore!==e)throw new je(_e.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}class Q2 extends class{constructor(e,r){this._firestore=e,this._transaction=r,this._dataReader=Fm(e)}get(e){const r=ap(e,this._firestore),n=new x2(this._firestore);return this._transaction.lookup([r._key]).then(i=>{if(!i||1!==i.length)return _t();const a=i[0];if(a.isFoundDocument())return new Tw(this._firestore,n,a.key,a,r.converter);if(a.isNoDocument())return new Tw(this._firestore,n,r._key,null,r.converter);throw _t()})}set(e,r,n){const i=ap(e,this._firestore),a=hT(i.converter,r,n),l=sT(this._dataReader,"Transaction.set",i._key,a,null!==i.converter,n);return this._transaction.set(i._key,l),this}update(e,r,n,...i){const a=ap(e,this._firestore);let l;return l="string"==typeof(r=(0,yn.m9)(r))||r instanceof Hd?tO(this._dataReader,"Transaction.update",a._key,r,n,i):eO(this._dataReader,"Transaction.update",a._key,r),this._transaction.update(a._key,l),this}delete(e){const r=ap(e,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=ap(e,this._firestore),n=new op(this._firestore);return super.get(e).then(i=>new Gd(this._firestore,n,r._key,i._document,new Bm(!1,!1),r.converter))}}function aO(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new je("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}function rR(){if(typeof Uint8Array>"u")throw new je("unimplemented","Uint8Arrays are not available in this environment.")}function iR(){if(!function CI(){return typeof atob<"u"}())throw new je("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(t,e=!0){Sd=jh.SDK_VERSION,(0,jh._registerComponent)(new kh.wA("firestore",(r,{instanceIdentifier:n,options:i})=>{const a=r.getProvider("app").getImmediate(),l=new Ar(new gf(r.getProvider("auth-internal")),new mf(r.getProvider("app-check-internal")),function(f,_){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new je(_e.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nc(f.options.projectId,_)}(a,n),a);return i=Object.assign({useFetchStreams:e},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),(0,jh.registerVersion)(c1,"3.13.0",t),(0,jh.registerVersion)(c1,"3.13.0","esm2017")}();class Ow{constructor(e){this._delegate=e}static fromBase64String(e){return iR(),new Ow(pu.fromBase64String(e))}static fromUint8Array(e){return rR(),new Ow(pu.fromUint8Array(e))}toBase64(){return iR(),this._delegate.toBase64()}toUint8Array(){return rR(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function cO(t){return function aL(t,e){if("object"!=typeof t||null===t)return!1;const r=t;for(const n of e)if(n in r&&"function"==typeof r[n])return!0;return!1}(t,["next","error","complete"])}class cL{enableIndexedDbPersistence(e,r){return function o2(t,e){FN(t=An(t,Ar));const r=gi(t);if(r._uninitializedComponentsProvider)throw new je(_e.FAILED_PRECONDITION,"SDK cache is already specified.");zs("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),i=new Oy;return kN(r,i,new WM(i,n.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:r})}enableMultiTabIndexedDbPersistence(e){return function a2(t){FN(t=An(t,Ar));const e=gi(t);if(e._uninitializedComponentsProvider)throw new je(_e.FAILED_PRECONDITION,"SDK cache is already specified.");zs("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),n=new Oy;return kN(e,n,new mN(n,r.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function c2(t){if(t._initialized&&!t._terminated)throw new je(_e.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ri;return t._queue.enqueueAndForgetEvenWhileRestricted((0,Se.Z)(function*(){try{var r;yield function(n){return(r=r||(0,Se.Z)(function*(i){if(!ko.D())return Promise.resolve();const a=i+"main";yield ko.delete(a)})).apply(this,arguments)}(UC(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}})),e.promise}(e._delegate)}}class sR{constructor(e,r,n){this._delegate=r,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof nc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const r=this._delegate._getSettings();!e.merge&&r.host!==e.host&&zs("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},r),e)).merge,this._delegate._setSettings(e)}useEmulator(e,r,n={}){!function xN(t,e,r,n={}){var i;const a=(t=An(t,Dw))._getSettings(),l=`${e}:${r}`;if("firestore.googleapis.com"!==a.host&&a.host!==l&&zs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:l,ssl:!1})),n.mockUserToken){let f,_;if("string"==typeof n.mockUserToken)f=n.mockUserToken,_=hi.MOCK_USER;else{f=(0,yn.Sg)(n.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const y=n.mockUserToken.sub||n.mockUserToken.user_id;if(!y)throw new je(_e.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new hi(y)}t._authCredentials=new $x(new l1(f,_))}}(this._delegate,e,r,n)}enableNetwork(){return function u2(t){return function ZF(t){return t.asyncQueue.enqueue((0,Se.Z)(function*(){const e=yield yN(t),r=yield bN(t);return e.setNetworkEnabled(!0),function(n){const i=ct(n);return i.vu.delete(0),Nm(i)}(r)}))}(gi(t=An(t,Ar)))}(this._delegate)}disableNetwork(){return function d2(t){return function KF(t){return t.asyncQueue.enqueue((0,Se.Z)(function*(){var e;const r=yield yN(t),n=yield bN(t);return r.setNetworkEnabled(!1),function(i){return(e=e||(0,Se.Z)(function*(a){const l=ct(a);l.vu.add(0),yield Rm(l),l.bu.set("Offline")})).apply(this,arguments)}(n)}))}(gi(t=An(t,Ar)))}(this._delegate)}enablePersistence(e){let r=!1,n=!1;return e&&(r=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,TN("synchronizeTabs",r,"experimentalForceOwningTab",n)),r?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function l2(t){return function(e){const r=new Ri;return e.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function xF(t,e){return(GE=GE||(0,Se.Z)(function*(r,n){const i=ct(r);jd(i.remoteStore)||Ye("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const a=yield function(f){const _=ct(f);return _.persistence.runTransaction("Get highest unacknowledged batch id","readonly",y=>_.mutationQueue.getHighestUnacknowledgedBatchId(y))}(i.localStore);if(-1===a)return void n.resolve();const l=i.Ec.get(a)||[];l.push(n),i.Ec.set(a,l)}catch(a){const l=We(a,"Initialization of waitForPendingWrites() operation failed");n.reject(l)}})).apply(this,arguments)}(yield KM(e),r)})),r.promise}(gi(t=An(t,Ar)))}(this._delegate)}onSnapshotsInSync(e){return function $2(t,e){return function QF(t,e){const r=new JC(e);return t.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return n=yield xy(t),i=r,ct(n).ku.add(i),void i.next();var n,i})),()=>{r.Dc(),t.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return n=yield xy(t),i=r,void ct(n).ku.delete(i);var n,i}))}}(gi(t=An(t,Ar)),QM(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new je("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Py(this,NN(this._delegate,e))}catch(r){throw uo(r,"collection()","Firestore.collection()")}}doc(e){try{return new oc(this,nT(this._delegate,e))}catch(r){throw uo(r,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ho(this,function n2(t,e){if(t=An(t,Dw),YM("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new je(_e.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ss(t,null,(r=e,new el(In.emptyPath(),r)));var r}(this._delegate,e))}catch(r){throw uo(r,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function X2(t,e,r){t=An(t,Ar);const n=Object.assign(Object.assign({},J2),r);return function(i){if(i.maxAttempts<1)throw new je(_e.INVALID_ARGUMENT,"Max attempts must be at least 1")}(n),function(i,a,l){const f=new Ri;return i.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){const _=yield function wN(t){return XC(t).then(e=>e.datastore)}(i);new WF(i.asyncQueue,_,l,a,f).run()})),f.promise}(gi(t),i=>e(new Q2(t,i)),n)}(this._delegate,r=>e(new oR(this,r)))}batch(){return gi(this._delegate),new aR(new tR(this._delegate,e=>Ry(this._delegate,e)))}loadBundle(e){return function h2(t,e){const r=gi(t=An(t,Ar)),n=new i2;return function XF(t,e,r,n){const i=function(a,l){let f;return f="string"==typeof a?$1().encode(a):a,_=function(_,y){if(_ instanceof Uint8Array)return _N(_,y);if(_ instanceof ArrayBuffer)return _N(new Uint8Array(_),y);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new GF(_,l);var _}(r,np(e));t.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){!function $F(t,e,r){var n;const i=ct(t);(function(a,l,f){return(n=n||(0,Se.Z)(function*(_,y,I){try{const M=yield y.getMetadata();if(yield function(le,ue){const Ze=ct(le),Je=Wr(ue.createTime);return Ze.persistence.runTransaction("hasNewerBundle","readonly",Qe=>Ze.qs.getBundleMetadata(Qe,ue.id)).then(Qe=>!!Qe&&Qe.createTime.compareTo(Je)>=0)}(_.localStore,M))return yield y.close(),I._completeWith({taskState:"Success",documentsLoaded:(le=M).totalDocuments,bytesLoaded:le.totalBytes,totalDocuments:le.totalDocuments,totalBytes:le.totalBytes}),Promise.resolve(new Set);I._updateProgress(aN(M));const F=new wF(M,_.localStore,y.serializer);let P=yield y.bc();for(;P;){const le=yield F.zu(P);le&&I._updateProgress(le),P=yield y.bc()}const K=yield F.complete();return yield $d(_,K.Ju,void 0),yield function(le,ue){const Ze=ct(le);return Ze.persistence.runTransaction("Save bundle","readwrite",Je=>Ze.qs.saveBundleMetadata(Je,ue))}(_.localStore,M),I._completeWith(K.progress),Promise.resolve(K.Hu)}catch(M){return zs("SyncEngine",`Loading bundle failed with ${M}`),I._failWith(M),Promise.resolve(new Set)}var le})).apply(this,arguments)})(i,e,r).then(a=>{i.sharedClientState.notifyBundleLoaded(a)})}(yield KM(t),i,n)}))}(r,t._databaseId,e,n),n}(this._delegate,e)}namedQuery(e){return function f2(t,e){return function e2(t,e){return t.asyncQueue.enqueue((0,Se.Z)(function*(){return function(r,n){const i=ct(r);return i.persistence.runTransaction("Get named query","readonly",a=>i.qs.getNamedQuery(a,n))}(yield eT(t),e)}))}(gi(t=An(t,Ar)),e).then(r=>r?new Ss(t,null,r.query):null)}(this._delegate,e).then(r=>r?new ho(this,r):null)}}class fT extends sO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ow(new pu(e))}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return oc.forKey(r,this.firestore,null)}}class oR{constructor(e,r){this._firestore=e,this._delegate=r,this._userDataWriter=new fT(e)}get(e){const r=Um(e);return this._delegate.get(r).then(n=>new xw(this._firestore,new Gd(this._firestore._delegate,this._userDataWriter,n._key,n._document,n.metadata,r.converter)))}set(e,r,n){const i=Um(e);return n?(aO("Transaction.set",n),this._delegate.set(i,r,n)):this._delegate.set(i,r),this}update(e,r,n,...i){const a=Um(e);return 2===arguments.length?this._delegate.update(a,r):this._delegate.update(a,r,n,...i),this}delete(e){const r=Um(e);return this._delegate.delete(r),this}}class aR{constructor(e){this._delegate=e}set(e,r,n){const i=Um(e);return n?(aO("WriteBatch.set",n),this._delegate.set(i,r,n)):this._delegate.set(i,r),this}update(e,r,n,...i){const a=Um(e);return 2===arguments.length?this._delegate.update(a,r):this._delegate.update(a,r,n,...i),this}delete(e){const r=Um(e);return this._delegate.delete(r),this}commit(){return this._delegate.commit()}}class Vm{constructor(e,r,n){this._firestore=e,this._userDataWriter=r,this._delegate=n}fromFirestore(e,r){const n=new Mw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Nw(this._firestore,n),r??{})}toFirestore(e,r){return r?this._delegate.toFirestore(e,r):this._delegate.toFirestore(e)}static getInstance(e,r){const n=Vm.INSTANCES;let i=n.get(e);i||(i=new WeakMap,n.set(e,i));let a=i.get(r);return a||(a=new Vm(e,new fT(e),r),i.set(r,a)),a}}Vm.INSTANCES=new WeakMap;class oc{constructor(e,r){this.firestore=e,this._delegate=r,this._userDataWriter=new fT(e)}static forPath(e,r,n){if(e.length%2!=0)throw new je("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new oc(r,new Sr(r._delegate,n,new ht(e)))}static forKey(e,r,n){return new oc(r,new Sr(r._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new Py(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Py(this.firestore,NN(this._delegate,e))}catch(r){throw uo(r,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,yn.m9)(e))instanceof Sr&&RN(this._delegate,e)}set(e,r){r=aO("DocumentReference.set",r);try{return r?QN(this._delegate,e,r):QN(this._delegate,e)}catch(n){throw uo(n,"setDoc()","DocumentReference.set()")}}update(e,r,...n){try{return 1===arguments.length?XN(this._delegate,e):XN(this._delegate,e,r,...n)}catch(i){throw uo(i,"updateDoc()","DocumentReference.update()")}}delete(){return function U2(t){return Ry(An(t.firestore,Ar),[new ou(t._key,Dr.none())])}(this._delegate)}onSnapshot(...e){const r=cR(e),n=lR(e,i=>new xw(this.firestore,new Gd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return eR(this._delegate,r,n)}get(e){let r;return r="cache"===e?.source?function k2(t){t=An(t,Sr);const e=An(t.firestore,Ar),r=gi(e),n=new op(e);return function YF(t,e){const r=new Ri;return t.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){var n;return function(i,a,l){return(n=n||(0,Se.Z)(function*(f,_,y){try{const I=yield function(M,F){const P=ct(M);return P.persistence.runTransaction("read document","readonly",K=>P.localDocuments.getDocument(K,F))}(f,_);I.isFoundDocument()?y.resolve(I):I.isNoDocument()?y.resolve(null):y.reject(new je(_e.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(I){const M=We(I,`Failed to get document '${_} from cache`);y.reject(M)}})).apply(this,arguments)}(yield eT(t),e,r)})),r.promise}(r,t._key).then(i=>new Gd(e,n,t._key,i,new Bm(null!==i&&i.hasLocalMutations,!0),t.converter))}(this._delegate):"server"===e?.source?function F2(t){t=An(t,Sr);const e=An(t.firestore,Ar);return DN(gi(e),t._key,{source:"server"}).then(r=>oO(e,t,r))}(this._delegate):function P2(t){t=An(t,Sr);const e=An(t.firestore,Ar);return DN(gi(e),t._key).then(r=>oO(e,t,r))}(this._delegate),r.then(n=>new xw(this.firestore,new Gd(this.firestore._delegate,this._userDataWriter,n._key,n._document,n.metadata,this._delegate.converter)))}withConverter(e){return new oc(this.firestore,this._delegate.withConverter(e?Vm.getInstance(this.firestore,e):null))}}function uo(t,e,r){return t.message=t.message.replace(e,r),t}function cR(t){for(const e of t)if("object"==typeof e&&!cO(e))return e;return{}}function lR(t,e){var r,n;let i;return i=cO(t[0])?t[0]:cO(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]},{next:a=>{i.next&&i.next(e(a))},error:null===(r=i.error)||void 0===r?void 0:r.bind(i),complete:null===(n=i.complete)||void 0===n?void 0:n.bind(i)}}class xw{constructor(e,r){this._firestore=e,this._delegate=r}get ref(){return new oc(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,r){return this._delegate.get(e,r)}isEqual(e){return JN(this._delegate,e._delegate)}}class Nw extends xw{data(e){const r=this._delegate.data(e);return function TA(t,e){t||_t()}(void 0!==r),r}}class ho{constructor(e,r){this.firestore=e,this._delegate=r,this._userDataWriter=new fT(e)}where(e,r,n){try{return new ho(this.firestore,ip(this._delegate,function E2(t,e,r){const n=e,i=cT("where",t);return Aw._create(i,n,r)}(e,r,n)))}catch(i){throw uo(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,r){try{return new ho(this.firestore,ip(this._delegate,function I2(t,e="asc"){const r=e,n=cT("orderBy",t);return iO._create(n,r)}(e,r)))}catch(n){throw uo(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ho(this.firestore,ip(this._delegate,function C2(t){return MN("limit",t),lT._create("limit",t,"F")}(e)))}catch(r){throw uo(r,"limit()","Query.limit()")}}limitToLast(e){try{return new ho(this.firestore,ip(this._delegate,function T2(t){return MN("limitToLast",t),lT._create("limitToLast",t,"L")}(e)))}catch(r){throw uo(r,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ho(this.firestore,ip(this._delegate,function S2(...t){return uT._create("startAt",t,!0)}(...e)))}catch(r){throw uo(r,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ho(this.firestore,ip(this._delegate,function A2(...t){return uT._create("startAfter",t,!1)}(...e)))}catch(r){throw uo(r,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ho(this.firestore,ip(this._delegate,function M2(...t){return dT._create("endBefore",t,!1)}(...e)))}catch(r){throw uo(r,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ho(this.firestore,ip(this._delegate,function O2(...t){return dT._create("endAt",t,!0)}(...e)))}catch(r){throw uo(r,"endAt()","Query.endAt()")}}isEqual(e){return JM(this._delegate,e._delegate)}get(e){let r;return r="cache"===e?.source?function B2(t){t=An(t,Ss);const e=An(t.firestore,Ar),r=gi(e),n=new op(e);return function JF(t,e){const r=new Ri;return t.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){var n;return function(i,a,l){return(n=n||(0,Se.Z)(function*(f,_,y){try{const I=yield tp(f,_,!0),M=new uN(_,I.ir),F=M.sc(I.documents),P=M.applyChanges(F,!1);y.resolve(P.snapshot)}catch(I){const M=We(I,`Failed to execute query '${_} against cache`);y.reject(M)}})).apply(this,arguments)}(yield eT(t),e,r)})),r.promise}(r,t._query).then(i=>new sp(e,n,t,i))}(this._delegate):"server"===e?.source?function V2(t){t=An(t,Ss);const e=An(t.firestore,Ar),r=gi(e),n=new op(e);return EN(r,t._query,{source:"server"}).then(i=>new sp(e,n,t,i))}(this._delegate):function L2(t){t=An(t,Ss);const e=An(t.firestore,Ar),r=gi(e),n=new op(e);return GN(t._query),EN(r,t._query).then(i=>new sp(e,n,t,i))}(this._delegate),r.then(n=>new lO(this.firestore,new sp(this.firestore._delegate,this._userDataWriter,this._delegate,n._snapshot)))}onSnapshot(...e){const r=cR(e),n=lR(e,i=>new lO(this.firestore,new sp(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return eR(this._delegate,r,n)}withConverter(e){return new ho(this.firestore,this._delegate.withConverter(e?Vm.getInstance(this.firestore,e):null))}}class uL{constructor(e,r){this._firestore=e,this._delegate=r}get type(){return this._delegate.type}get doc(){return new Nw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class lO{constructor(e,r){this._firestore=e,this._delegate=r}get query(){return new ho(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Nw(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(r=>new uL(this._firestore,r))}forEach(e,r){this._delegate.forEach(n=>{e.call(r,new Nw(this._firestore,n))})}isEqual(e){return JN(this._delegate,e._delegate)}}class Py extends ho{constructor(e,r){super(e,r),this.firestore=e,this._delegate=r}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new oc(this.firestore,e):null}doc(e){try{return new oc(this.firestore,void 0===e?nT(this._delegate):nT(this._delegate,e))}catch(r){throw uo(r,"doc()","CollectionReference.doc()")}}add(e){return function j2(t,e){const r=An(t.firestore,Ar),n=nT(t),i=hT(t.converter,e);return Ry(r,[sT(Fm(t.firestore),"addDoc",n._key,i,null!==t.converter,{}).toMutation(n._key,Dr.exists(!1))]).then(()=>n)}(this._delegate,e).then(r=>new oc(this.firestore,r))}isEqual(e){return RN(this._delegate,e._delegate)}withConverter(e){return new Py(this.firestore,this._delegate.withConverter(e?Vm.getInstance(this.firestore,e):null))}}function Um(t){return An(t,Sr)}class uO{constructor(...e){this._delegate=new Hd(...e)}static documentId(){return new uO(Tr.keyField().canonicalString())}isEqual(e){return(e=(0,yn.m9)(e))instanceof Hd&&this._delegate._internalPath.isEqual(e._internalPath)}}class jm{constructor(e){this._delegate=e}static serverTimestamp(){const e=function tL(){return new XM("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new jm(e)}static delete(){const e=function eL(){return new Iw("deleteField")}();return e._methodName="FieldValue.delete",new jm(e)}static arrayUnion(...e){const r=function nL(...t){return new v2("arrayUnion",t)}(...e);return r._methodName="FieldValue.arrayUnion",new jm(r)}static arrayRemove(...e){const r=function rL(...t){return new y2("arrayRemove",t)}(...e);return r._methodName="FieldValue.arrayRemove",new jm(r)}static increment(e){const r=function iL(t){return new b2("increment",t)}(e);return r._methodName="FieldValue.increment",new jm(r)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const dL={Firestore:sR,GeoPoint:rT,Timestamp:fr,Blob:Ow,Transaction:oR,WriteBatch:aR,DocumentReference:oc,DocumentSnapshot:xw,Query:ho,QueryDocumentSnapshot:Nw,QuerySnapshot:lO,CollectionReference:Py,FieldPath:uO,FieldValue:jm,setLogLevel:function lL(t){!function iI(t){Yc.setLogLevel(t)}(t)},CACHE_SIZE_UNLIMITED:-1};function uR(t,e){return function pL(t,e=ql.z){return new ai.y(r=>{let n;return null!=e?e.schedule(()=>{n=t.onSnapshot({includeMetadataChanges:!0},r)}):n=t.onSnapshot({includeMetadataChanges:!0},r),()=>{n?.()}})}(t,e)}function dO(t,e){return uR(t,e).pipe((0,Ht.U)(r=>({payload:r,type:"query"})))}function pT(t,e){return dO(t,e).pipe(Ko(void 0),Og(),(0,Ht.U)(([r,n])=>{const i=n.payload.docChanges(),a=i.map(l=>({type:l.type,payload:l}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(n.payload.metadata)&&n.payload.docs.forEach((l,f)=>{const _=i.find(I=>I.doc.ref.isEqual(l.ref)),y=r?.payload.docs.find(I=>I.ref.isEqual(l.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(l.metadata)||!_&&y&&JSON.stringify(y.metadata)===JSON.stringify(l.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:l}})}),a}))}function dR(t,e,r){return pT(t,r).pipe(oo((n,i)=>function mL(t,e,r){return e.forEach(n=>{r.indexOf(n.type)>-1&&(t=function _L(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return hO(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const r=t.slice();return r.splice(e.oldIndex,1),r.splice(e.newIndex,0,e),r}return hO(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return hO(t,e.oldIndex,1)}return t}(t,n))}),t}(n,i.map(a=>a.payload),e),[]),(0,Uh.x)(),(0,Ht.U)(n=>n.map(i=>({type:i.type,payload:i}))))}function hO(t,e,r,...n){const i=t.slice();return i.splice(e,r,...n),i}function hR(t){return(!t||0===t.length)&&(t=["added","removed","modified"]),t}!function fL(t){(function hL(t,e){t.INTERNAL.registerComponent(new kh.wA("firestore-compat",r=>{const n=r.getProvider("app-compat").getImmediate(),i=r.getProvider("firestore").getImmediate();return e(n,i)},"PUBLIC").setServiceProps(Object.assign({},dL)))})(t,(e,r)=>new sR(e,r,new cL)),t.registerVersion("@firebase/firestore-compat","0.3.12")}(ib.Z);class fR{constructor(e,r,n){this.ref=e,this.query=r,this.afs=n}stateChanges(e){let r=pT(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(r=r.pipe((0,Ht.U)(n=>n.filter(i=>e.indexOf(i.type)>-1)))),r.pipe(Ko(void 0),Og(),Wn(([n,i])=>i.length>0||!n),(0,Ht.U)(([n,i])=>i),as.iC)}auditTrail(e){return this.stateChanges(e).pipe(oo((r,n)=>[...r,...n],[]))}snapshotChanges(e){const r=hR(e);return dR(this.query,r,this.afs.schedulers.outsideAngular).pipe(as.iC)}valueChanges(e={}){return dO(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ht.U)(r=>r.payload.docs.map(n=>e.idField?Object.assign(Object.assign({},n.data()),{[e.idField]:n.id}):n.data())),as.iC)}get(e){return(0,Qn.D)(this.query.get(e)).pipe(as.iC)}add(e){return this.ref.add(e)}doc(e){return new pR(this.ref.doc(e),this.afs)}}class pR{constructor(e,r){this.ref=e,this.afs=r}set(e,r){return this.ref.set(e,r)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,r){const n=this.ref.collection(e),{ref:i,query:a}=gR(n,r);return new fR(i,a,this.afs)}snapshotChanges(){return function gL(t,e){return uR(t,e).pipe(Ko(void 0),Og(),(0,Ht.U)(([r,n])=>n.exists?r?.exists?{payload:n,type:"modified"}:{payload:n,type:"added"}:{payload:n,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(as.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Ht.U)(({payload:r})=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data()))}get(e){return(0,Qn.D)(this.ref.get(e)).pipe(as.iC)}}class vL{constructor(e,r){this.query=e,this.afs=r}stateChanges(e){return e&&0!==e.length?pT(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ht.U)(r=>r.filter(n=>e.indexOf(n.type)>-1)),Wn(r=>r.length>0),as.iC):pT(this.query,this.afs.schedulers.outsideAngular).pipe(as.iC)}auditTrail(e){return this.stateChanges(e).pipe(oo((r,n)=>[...r,...n],[]))}snapshotChanges(e){const r=hR(e);return dR(this.query,r,this.afs.schedulers.outsideAngular).pipe(as.iC)}valueChanges(e={}){return dO(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ht.U)(n=>n.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),as.iC)}get(e){return(0,Qn.D)(this.query.get(e)).pipe(as.iC)}}const yL=new d.OlP("angularfire2.enableFirestorePersistence"),bL=new d.OlP("angularfire2.firestore.persistenceSettings"),wL=new d.OlP("angularfire2.firestore.settings"),DL=new d.OlP("angularfire2.firestore.use-emulator");function gR(t,e=(r=>r)){return{query:e(t),ref:t}}let mR=(()=>{class t{constructor(r,n,i,a,l,f,_,y,I,M,F,P,K,le,ue,Ze,Je){this.schedulers=_;const Qe=(0,oa.on)(r,f,n),Ge=I;M&&nb(Qe,f,F,K,le,ue,P,Ze),[this.firestore,this.persistenceEnabled$]=(0,oa.cc)(`${Qe.name}.firestore`,"AngularFirestore",Qe.name,()=>{const ot=f.runOutsideAngular(()=>Qe.firestore());if(a&&ot.settings(a),Ge&&ot.useEmulator(...Ge),i&&!ri(l)){const St=()=>{try{return(0,Qn.D)(ot.enablePersistence(y||void 0).then(()=>!0,()=>!1))}catch(cn){return typeof console<"u"&&console.warn(cn),(0,Rt.of)(!1)}};return[ot,f.runOutsideAngular(St)]}return[ot,(0,Rt.of)(!1)]},[a,Ge,i])}collection(r,n){let i;i="string"==typeof r?this.firestore.collection(r):r;const{ref:a,query:l}=gR(i,n),f=this.schedulers.ngZone.run(()=>a);return new fR(f,l,this)}collectionGroup(r,n){const i=n||(l=>l),a=this.firestore.collectionGroup(r);return new vL(i(a),this)}doc(r){let n;n="string"==typeof r?this.firestore.doc(r):r;const i=this.schedulers.ngZone.run(()=>n);return new pR(i,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(r){return new(r||t)(d.LFG(oa.Dh),d.LFG(oa.xv,8),d.LFG(yL,8),d.LFG(wL,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(as.HU),d.LFG(bL,8),d.LFG(DL,8),d.LFG(Q_,8),d.LFG(Q0,8),d.LFG(X0,8),d.LFG(Qt,8),d.LFG(eb,8),d.LFG(tb,8),d.LFG(pd,8),d.LFG(J_,8))},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})(),fO=(()=>{var t;class e{constructor(n,i){this.afauth=n,this.firestore=i}register(n,i){var a=this;return(0,Se.Z)(function*(){try{return yield a.afauth.createUserWithEmailAndPassword(n,i)}catch(l){return console.log("error en login: ",l),null}})()}login(n,i){var a=this;return(0,Se.Z)(function*(){try{const l=yield a.afauth.signInWithEmailAndPassword(n,i);if(!l.user)return null;const f=l.user,_=new Date;return yield a.firestore.collection("users").doc(f.uid).set({fechaIngreso:_},{merge:!0}),f}catch(l){return console.log("error en login: ",l),null}})()}getUserLogged(){return this.afauth.authState}logout(){this.afauth.signOut()}getLastUser(){return this.firestore.collection("users",n=>n.orderBy("fechaRegistro","desc").limit(1)).valueChanges()}}return(t=e).\u0275fac=function(n){return new(n||t)(d.LFG(Q_),d.LFG(mR))},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),_R=(()=>{var t;class e{constructor(n){this.firestore=n}crear(n,i){return this.firestore.collection(n).add(i)}obtenerPorId(n,i){return this.firestore.collection(n).doc(i).snapshotChanges()}obtenerTodos(n){return this.firestore.collection(n).snapshotChanges()}actualizar(n,i,a){return this.firestore.collection(n).doc(a).set(i)}eliminar(n,i){return this.firestore.collection(n).doc(i).delete()}createWithCustomId(n,i,a){this.firestore.collection(n).doc(i).set(a)}}return(t=e).\u0275fac=function(n){return new(n||t)(d.LFG(mR))},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),vR=(()=>{var t;class e{constructor(n,i){this._renderer=n,this._elementRef=i,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(n,i){this._renderer.setProperty(this._elementRef.nativeElement,n,i)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return(t=e).\u0275fac=function(n){return new(n||t)(d.Y36(d.Qsj),d.Y36(d.SBq))},t.\u0275dir=d.lG2({type:t}),e})(),$m=(()=>{var t;class e extends vR{}return(t=e).\u0275fac=function(){let r;return function(i){return(r||(r=d.n5z(t)))(i||t)}}(),t.\u0275dir=d.lG2({type:t,features:[d.qOj]}),e})();const ac=new d.OlP("NgValueAccessor"),CL={provide:ac,useExisting:(0,d.Gpc)(()=>Rw),multi:!0},SL=new d.OlP("CompositionEventMode");let Rw=(()=>{var t;class e extends vR{constructor(n,i,a){super(n,i),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function TL(){const t=L()?L().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return(t=e).\u0275fac=function(n){return new(n||t)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(SL,8))},t.\u0275dir=d.lG2({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,i){1&n&&d.NdJ("input",function(l){return i._handleInput(l.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(l){return i._compositionEnd(l.target.value)})},features:[d._Bn([CL]),d.qOj]}),e})();const As=new d.OlP("NgValidators"),lp=new d.OlP("NgAsyncValidators");function MR(t){return null!=t}function OR(t){return(0,d.QGY)(t)?(0,Qn.D)(t):t}function xR(t){let e={};return t.forEach(r=>{e=null!=r?{...e,...r}:e}),0===Object.keys(e).length?null:e}function NR(t,e){return e.map(r=>r(t))}function RR(t){return t.map(e=>function ML(t){return!t.validate}(e)?e:r=>e.validate(r))}function pO(t){return null!=t?function PR(t){if(!t)return null;const e=t.filter(MR);return 0==e.length?null:function(r){return xR(NR(r,e))}}(RR(t)):null}function gO(t){return null!=t?function kR(t){if(!t)return null;const e=t.filter(MR);return 0==e.length?null:function(r){return function EL(...t){const e=(0,rs.jO)(t),{args:r,keys:n}=Vn(t),i=new ai.y(a=>{const{length:l}=r;if(!l)return void a.complete();const f=new Array(l);let _=l,y=l;for(let I=0;I<l;I++){let M=!1;(0,bs.Xf)(r[I]).subscribe((0,Er.x)(a,F=>{M||(M=!0,y--),f[I]=F},()=>_--,void 0,()=>{(!_||!M)&&(y||a.next(n?is(n,f):f),a.complete())}))}});return e?i.pipe(Oc(e)):i}(NR(r,e).map(OR)).pipe((0,Ht.U)(xR))}}(RR(t)):null}function FR(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function mO(t){return t?Array.isArray(t)?t:[t]:[]}function mT(t,e){return Array.isArray(t)?t.includes(e):t===e}function VR(t,e){const r=mO(e);return mO(t).forEach(i=>{mT(r,i)||r.push(i)}),r}function UR(t,e){return mO(e).filter(r=>!mT(t,r))}class jR{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=pO(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=gO(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,r){return!!this.control&&this.control.hasError(e,r)}getError(e,r){return this.control?this.control.getError(e,r):null}}class fo extends jR{get formDirective(){return null}get path(){return null}}class up extends jR{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class $R{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let _O=(()=>{var t;class e extends $R{constructor(n){super(n)}}return(t=e).\u0275fac=function(n){return new(n||t)(d.Y36(up,2))},t.\u0275dir=d.lG2({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,i){2&n&&d.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[d.qOj]}),e})();const Pw="VALID",vT="INVALID",ky="PENDING",kw="DISABLED";function yT(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class WR{constructor(e,r){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(r)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Pw}get invalid(){return this.status===vT}get pending(){return this.status==ky}get disabled(){return this.status===kw}get enabled(){return this.status!==kw}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(VR(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(VR(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(UR(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(UR(e,this._rawAsyncValidators))}hasValidator(e){return mT(this._rawValidators,e)}hasAsyncValidator(e){return mT(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(r=>{r.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ky,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const r=this._parentMarkedDirty(e.onlySelf);this.status=kw,this.errors=null,this._forEachChild(n=>{n.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:r}),this._onDisabledChange.forEach(n=>n(!0))}enable(e={}){const r=this._parentMarkedDirty(e.onlySelf);this.status=Pw,this._forEachChild(n=>{n.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:r}),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Pw||this.status===ky)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(r=>r._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?kw:Pw}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ky,this._hasOwnPendingAsyncValidator=!0;const r=OR(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,r={}){this.errors=e,this._updateControlsErrors(!1!==r.emitEvent)}get(e){let r=e;return null==r||(Array.isArray(r)||(r=r.split(".")),0===r.length)?null:r.reduce((n,i)=>n&&n._find(i),this)}getError(e,r){const n=r?this.get(r):this;return n&&n.errors?n.errors[e]:null}hasError(e,r){return!!this.getError(e,r)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?kw:this.errors?vT:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ky)?ky:this._anyControlsHaveStatus(vT)?vT:Pw}_anyControlsHaveStatus(e){return this._anyControls(r=>r.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){yT(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function PL(t){return Array.isArray(t)?pO(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function kL(t){return Array.isArray(t)?gO(t):t||null}(this._rawAsyncValidators)}}const Fy=new d.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>bT}),bT="always";function Fw(t,e,r=bT){(function EO(t,e){const r=function LR(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(FR(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const n=function BR(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(FR(n,e.asyncValidator)):"function"==typeof n&&t.setAsyncValidators([n]);const i=()=>t.updateValueAndValidity();ET(e._rawValidators,i),ET(e._rawAsyncValidators,i)})(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===r)&&e.valueAccessor.setDisabledState?.(t.disabled),function BL(t,e){e.valueAccessor.registerOnChange(r=>{t._pendingValue=r,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&qR(t,e)})}(t,e),function UL(t,e){const r=(n,i)=>{e.valueAccessor.writeValue(n),i&&e.viewToModelUpdate(n)};t.registerOnChange(r),e._registerOnDestroy(()=>{t._unregisterOnChange(r)})}(t,e),function VL(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&qR(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function LL(t,e){if(e.valueAccessor.setDisabledState){const r=n=>{e.valueAccessor.setDisabledState(n)};t.registerOnDisabledChange(r),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(r)})}}(t,e)}function ET(t,e){t.forEach(r=>{r.registerOnValidatorChange&&r.registerOnValidatorChange(e)})}function qR(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function YR(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}function JR(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const QR=class extends WR{constructor(e=null,r,n){super(function bO(t){return(yT(t)?t.validators:t)||null}(r),function wO(t,e){return(yT(e)?e.asyncValidators:t)||null}(n,r)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(r),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),yT(r)&&(r.nonNullable||r.initialValueIsDefault)&&(this.defaultValue=JR(e)?e.value:e)}setValue(e,r={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==r.emitModelToViewChange&&this._onChange.forEach(n=>n(this.value,!1!==r.emitViewToModelChange)),this.updateValueAndValidity(r)}patchValue(e,r={}){this.setValue(e,r)}reset(e=this.defaultValue,r={}){this._applyFormState(e),this.markAsPristine(r),this.markAsUntouched(r),this.setValue(this.value,r),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){YR(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){YR(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){JR(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},ZL={provide:up,useExisting:(0,d.Gpc)(()=>CT)},tP=(()=>Promise.resolve())();let CT=(()=>{var t;class e extends up{constructor(n,i,a,l,f,_){super(),this._changeDetectorRef=f,this.callSetDisabledState=_,this.control=new QR,this._registered=!1,this.name="",this.update=new d.vpe,this._parent=n,this._setValidators(i),this._setAsyncValidators(a),this.valueAccessor=function TO(t,e){if(!e)return null;let r,n,i;return Array.isArray(e),e.forEach(a=>{a.constructor===Rw?r=a:function HL(t){return Object.getPrototypeOf(t.constructor)===$m}(a)?n=a:i=a}),i||n||r||null}(0,l)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const i=n.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function CO(t,e){if(!t.hasOwnProperty("model"))return!1;const r=t.model;return!!r.isFirstChange()||!Object.is(e,r.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Fw(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){tP.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const i=n.isDisabled.currentValue,a=0!==i&&(0,d.VuI)(i);tP.then(()=>{a&&!this.control.disabled?this.control.disable():!a&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function wT(t,e){return[...e.path,t]}(n,this._parent):[n]}}return(t=e).\u0275fac=function(n){return new(n||t)(d.Y36(fo,9),d.Y36(As,10),d.Y36(lp,10),d.Y36(ac,10),d.Y36(d.sBO,8),d.Y36(Fy,8))},t.\u0275dir=d.lG2({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d._Bn([ZL]),d.qOj,d.TTD]}),e})(),rP=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({}),e})(),yB=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({imports:[rP]}),e})(),wB=(()=>{var t;class e{static withConfig(n){return{ngModule:e,providers:[{provide:Fy,useValue:n.callSetDisabledState??bT}]}}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({imports:[yB]}),e})();const DB=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",component:(()=>{var t;class e{ngOnInit(){this.database.obtenerTodos("users").subscribe(n=>{this.usuarios=n.map(i=>{let a=i.payload.doc.data();return a.id=i.payload.doc.id,a})})}constructor(n,i,a){this.authService=n,this.router=i,this.database=a,this.mensaje="",this.emailTest="test@test.com",this.passwordTest="passTest",this.usuario={email:"",password:""}}Ingresar(){const{email:n,password:i}=this.usuario;[...this.usuarios].find(f=>f.email==n)?this.authService.login(n,i).then(f=>{console.log("Bienvenido ",f),this.router.navigate(["/home"])}).catch(f=>{}):this.mensaje="Si no tenes cuenta registrate!"}logout(){this.authService.logout()}autocompletarUsuario(){this.usuario.email="test@test.com",this.usuario.password="passTest"}}return(t=e).\u0275fac=function(n){return new(n||t)(d.Y36(fO),d.Y36(os),d.Y36(_R))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-login"]],decls:26,vars:3,consts:[[1,"container"],[1,"card","text-center","mx-2"],[1,"card-header","bg-dark","text-white"],[1,"card-body","p-4","bg-light"],[2,"float","left"],["type","email","placeholder","Email",1,"form-control","m-2",3,"ngModel","ngModelChange"],["type","password","placeholder","Password",1,"form-control","m-2",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-success","m-2",3,"click"],[1,"text-danger"],["routerLink","/registro"]],template:function(n,i){1&n&&(d.TgZ(0,"body")(1,"div",0)(2,"div",1)(3,"div",2)(4,"b"),d._uU(5,"Ya tenes cuenta?"),d.qZA()(),d.TgZ(6,"div",3)(7,"label",4),d._uU(8,"Usuario"),d.qZA(),d.TgZ(9,"input",5),d.NdJ("ngModelChange",function(l){return i.usuario.email=l}),d.qZA(),d.TgZ(10,"label",4),d._uU(11,"Password"),d.qZA(),d.TgZ(12,"input",6),d.NdJ("ngModelChange",function(l){return i.usuario.password=l}),d.qZA(),d.TgZ(13,"button",7),d.NdJ("click",function(){return i.Ingresar()}),d._uU(14,"Ingresar"),d.qZA(),d._UZ(15,"br"),d.TgZ(16,"button",7),d.NdJ("click",function(){return i.autocompletarUsuario()}),d._uU(17,"Autocompletar"),d.qZA(),d._UZ(18,"br"),d.TgZ(19,"p",8),d._uU(20),d.qZA(),d.TgZ(21,"p"),d._uU(22,"Aun no estas registrado? "),d.TgZ(23,"a",9),d._uU(24,"Registrarme"),d.qZA()()()()()(),d._UZ(25,"router-outlet")),2&n&&(d.xp6(9),d.Q6J("ngModel",i.usuario.email),d.xp6(3),d.Q6J("ngModel",i.usuario.password),d.xp6(8),d.Oqu(i.mensaje))},dependencies:[Hl,D0,Rw,_O,CT],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100vw;height:100vh}body[_ngcontent-%COMP%]{background-image:url(5212968.2a102a52bc16ba4f.jpg);background-size:100%}"]}),e})()},{path:"home",component:(()=>{var t;class e{constructor(n,i,a){this.authService=n,this.afAuth=i,this.router=a,this.userLogged=null,this.email="",this.authService.getUserLogged().subscribe(l=>{this.userLogged=l,console.log(l),this.userLogged?(console.log("Correo electr\xf3nico:",this.userLogged.email),this.email=this.userLogged.email):console.log("Usuario no autenticado")})}ngOnInit(){}logOut(){this.authService.logout(),this.email="Bienvenido!"}quienSoy(){this.router.navigate(["/quien-soy"])}}return(t=e).\u0275fac=function(n){return new(n||t)(d.Y36(fO),d.Y36(Q_),d.Y36(os))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-home"]],decls:37,vars:1,consts:[[1,"container"],[1,"navbar","navbar-light",2,"background-color","#dc3545"],["href","#",1,"navbar-brand"],["src","../../../assets/img/icon.png","width","30","height","30","alt","",1,"d-inline-block","align-top"],[1,"ml-auto"],["type","button",1,"btn","btn-warning","mx-2","my-2",3,"click"],[1,"text-light"],[1,"card-group","ms-5","me-5","mt-3"],[1,"card","col-md-4","mx-2","my-2"],["src","../../../assets/img/cards2.png","alt","cartas",1,"card-img-top",2,"height","300px","width","520px"],[1,"card-body"],[1,"card-title","text-center"],[1,"card-text"],[1,"text-muted"],["href","#"],["src","../../../assets/img/3D.jpg","alt","dados",1,"card-img-top",2,"height","300px","width","520px"]],template:function(n,i){1&n&&(d.TgZ(0,"body")(1,"div",0)(2,"nav",1)(3,"a",2),d._uU(4,"\xa0\xa0\xa0\xa0\xa0 "),d._UZ(5,"img",3),d._uU(6),d.qZA(),d.TgZ(7,"div",4)(8,"button",5),d.NdJ("click",function(){return i.quienSoy()}),d._uU(9,"Qui\xe9n soy"),d.qZA(),d.TgZ(10,"button",5),d.NdJ("click",function(){return i.logOut()}),d._uU(11,"Log Out"),d.qZA()()(),d.TgZ(12,"h1",6),d._uU(13,"Bienvenido a la Sala de Juegos"),d.qZA(),d.TgZ(14,"div",7)(15,"div",8),d._UZ(16,"img",9),d.TgZ(17,"div",10)(18,"h5",11),d._uU(19,"Mayor o Menor"),d.qZA(),d.TgZ(20,"p",12),d._uU(21,"Este juego consiste en desafiar al azar, el jugador debera adivinar si la carta siguiente sera mayor o menor a la actual."),d.qZA(),d.TgZ(22,"p",12)(23,"small",13)(24,"a",14),d._uU(25,"Jugar ahora!"),d.qZA()()()()(),d.TgZ(26,"div",8),d._UZ(27,"img",15),d.TgZ(28,"div",10)(29,"h5",11),d._uU(30,"Millenium"),d.qZA(),d.TgZ(31,"p",12),d._uU(32,"Desaf\xeda al cubilete! Tendras que sacar el 1 o el 5 para poder sumar puntos hasta el 1000, sino perder\xe1s una vida."),d.qZA(),d.TgZ(33,"p",12)(34,"small",13)(35,"a",14),d._uU(36,"Jugar ahora"),d.qZA()()()()()()()()),2&n&&(d.xp6(6),d.hij(" ",i.email," "))},styles:["body[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100vw;height:100vh;background-image:url(91655.ae077556769fd17a.jpg);background-size:100%}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{margin-top:40px;display:flex;justify-content:center;align-items:center}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto}"]}),e})()},{path:"quien-soy",component:(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-quien-soy"]],decls:17,vars:0,consts:[[1,"badge","bg-info","position-absolute","start-50","translate-middle"],["id","div-img"],["src","../../../assets/img/perfil2.png",2,"height","300px","width","auto"],[1,"card","mb-3","bg-info","my-4","mx-4"],[1,"card","bg-dark","mx-2","my-2"],[1,"card-body"],[1,"text-light","text-center","h5"]],template:function(n,i){1&n&&(d.TgZ(0,"body")(1,"h1")(2,"span",0),d._uU(3,"Hola, soy Agustina Bilotta!"),d.qZA()(),d.TgZ(4,"div",1),d._UZ(5,"img",2),d.qZA(),d.TgZ(6,"div",3)(7,"div",4)(8,"div",5)(9,"p",6),d._uU(10,"Tengo 24 a\xf1os y soy estudiante de la Tecnicatura Univerisitaria en Programaci\xf3n de la UTN."),d._UZ(11,"br"),d._uU(12,' Esta es mi sala de juegos en donde pueden encontrar el juego "Mayor o Menor" y "Millenium". Esta p\xe1gina web forma parte de un Trabajo Pr\xe1ctico de la materia Laboratorio IV'),d.qZA()()(),d.TgZ(13,"div",4)(14,"div",5)(15,"p",6),d._uU(16,"Instrucciones de Millenium: el jugador contar\xe1 con 3 vidas \u2764\u2764\u2764, debera tirar los cinco dados, en la tirada debera sacar 1 o 5, sino perder\xe1 una \u2764. Estos dos numeros ser\xe1n los que sumar\xe1n puntos, el numero 1 sumar\xe1 100 puntos, y el numero 5 sumar\xe1 50 puntos. El jugador ganar\xe1 el juego cuando llegue a los MIL puntos."),d.qZA()()()()())},styles:["body[_ngcontent-%COMP%]{background-image:url(5212968.2a102a52bc16ba4f.jpg);display:flex;justify-content:center;align-items:center;width:100vw;height:100vh;background-size:100%}h1[_ngcontent-%COMP%]{margin-top:-500px;display:flex;justify-content:center;align-items:center}img[_ngcontent-%COMP%]{border-radius:50%}#div-img[_ngcontent-%COMP%]{justify-content:center;text-align:center;align-items:center}"]}),e})()},{path:"registro",component:(()=>{var t;class e{ngOnInit(){this.database.obtenerTodos("users").subscribe(n=>{this.usuarios=n.map(i=>{let a=i.payload.doc.data();return a.id=i.payload.doc.id,a})})}constructor(n,i,a){this.authService=n,this.database=i,this.router=a,this.usuario={email:"",password:""},this.mensaje=""}registrarse(){const{email:n,password:i}=this.usuario;[...this.usuarios].find(f=>f.email==n)?this.mensaje="El usuario ya se encuentra registrado":this.authService.register(n,i).then(f=>{console.log("se registro: ",f),console.log("USUARIO NUEVO CREADO"),this.database.crear("users",this.usuario),this.router.navigate(["/home"])}).catch(f=>{})}}return(t=e).\u0275fac=function(n){return new(n||t)(d.Y36(fO),d.Y36(_R),d.Y36(os))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-registro"]],decls:18,vars:3,consts:[[1,"container"],[1,"card","text-center","mx-2"],[1,"card-header","bg-dark","text-white"],[1,"card-body","p-4","bg-light"],[2,"float","left"],["type","email","placeholder","Email",1,"form-control","m-2",3,"ngModel","ngModelChange"],["type","password","placeholder","Password",1,"form-control","m-2",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-success","m-2",3,"click"],[1,"text-danger"]],template:function(n,i){1&n&&(d.TgZ(0,"body")(1,"div",0)(2,"div",1)(3,"div",2)(4,"b"),d._uU(5,"Aun no estas registrado?"),d.qZA()(),d.TgZ(6,"div",3)(7,"label",4),d._uU(8,"Email"),d.qZA(),d.TgZ(9,"input",5),d.NdJ("ngModelChange",function(l){return i.usuario.email=l}),d.qZA(),d.TgZ(10,"label",4),d._uU(11,"Password"),d.qZA(),d.TgZ(12,"input",6),d.NdJ("ngModelChange",function(l){return i.usuario.password=l}),d.qZA(),d.TgZ(13,"button",7),d.NdJ("click",function(){return i.registrarse()}),d._uU(14,"Registrarme"),d.qZA(),d._UZ(15,"br"),d.TgZ(16,"p",8),d._uU(17),d.qZA()()()()()),2&n&&(d.xp6(9),d.Q6J("ngModel",i.usuario.email),d.xp6(3),d.Q6J("ngModel",i.usuario.password),d.xp6(5),d.Oqu(i.mensaje))},dependencies:[Rw,_O,CT],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100vw;height:100vh}body[_ngcontent-%COMP%]{background-image:url(5212968.2a102a52bc16ba4f.jpg);background-size:100%}"]}),e})()},{path:"**",component:(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-not-found"]],decls:2,vars:0,template:function(n,i){1&n&&(d.TgZ(0,"h1"),d._uU(1,"404 - Not Found"),d.qZA())}}),e})()}];let EB=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({imports:[T0.forRoot(DB),T0]}),e})(),IB=(()=>{var t;class e{constructor(){this.title="salaDeJuegos"}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(n,i){1&n&&d._UZ(0,"router-outlet")},dependencies:[Hl]}),e})();var CB=k(4266);const TB=["addListener","removeListener"],SB=["addEventListener","removeEventListener"],AB=["on","off"];function Ms(t,e,r,n){if((0,Mr.m)(r)&&(n=r,r=void 0),n)return Ms(t,e,r).pipe(Oc(n));const[i,a]=function xB(t){return(0,Mr.m)(t.addEventListener)&&(0,Mr.m)(t.removeEventListener)}(t)?SB.map(l=>f=>t[l](e,f,r)):function MB(t){return(0,Mr.m)(t.addListener)&&(0,Mr.m)(t.removeListener)}(t)?TB.map(wP(t,e)):function OB(t){return(0,Mr.m)(t.on)&&(0,Mr.m)(t.off)}(t)?AB.map(wP(t,e)):[];if(!i&&(0,CB.z)(t))return(0,xr.z)(l=>Ms(l,e,r))((0,bs.Xf)(t));if(!i)throw new TypeError("Invalid event target");return new ai.y(l=>{const f=(..._)=>l.next(1<_.length?_:_[0]);return i(f),()=>a(f)})}function wP(t,e){return r=>n=>t[r](e,n)}var NB=k(671);const{isArray:PB}=Array;function EP(t){return 1===t.length&&PB(t[0])?t[0]:t}function PO(...t){const e=(0,rs.jO)(t),r=EP(t);return r.length?new ai.y(n=>{let i=r.map(()=>[]),a=r.map(()=>!1);n.add(()=>{i=a=null});for(let l=0;!n.closed&&l<r.length;l++)(0,bs.Xf)(r[l]).subscribe((0,Er.x)(n,f=>{if(i[l].push(f),i.every(_=>_.length)){const _=i.map(y=>y.shift());n.next(e?e(..._):_),i.some((y,I)=>!y.length&&a[I])&&n.complete()}},()=>{a[l]=!0,!i[l].length&&n.complete()}));return()=>{i=a=null}}):$s.E}function kO(...t){const e=(0,rs.jO)(t);return(0,Ci.e)((r,n)=>{const i=t.length,a=new Array(i);let l=t.map(()=>!1),f=!1;for(let _=0;_<i;_++)(0,bs.Xf)(t[_]).subscribe((0,Er.x)(n,y=>{a[_]=y,!f&&!l[_]&&(l[_]=!0,(f=l.every(Mc.y))&&(l=null))},Fa.Z));r.subscribe((0,Er.x)(n,_=>{if(f){const y=[_,...a];n.next(e?e(...y):y)}}))})}Math,Math,Math;const YV=["*"],TU=["dialog"];function Wm(t){return"string"==typeof t}function qm(t){return null!=t}function jy(t){return(t||document.body).getBoundingClientRect()}const qP={animation:!0,transitionTimerDelayMs:5},v3=()=>{},{transitionTimerDelayMs:y3}=qP,Gw=new Map,Vo=(t,e,r,n)=>{let i=n.context||{};const a=Gw.get(e);if(a)switch(n.runningTransition){case"continue":return $s.E;case"stop":t.run(()=>a.transition$.complete()),i=Object.assign(a.context,i),Gw.delete(e)}const l=r(e,n.animation,i)||v3;if(!n.animation||"none"===window.getComputedStyle(e).transitionProperty)return t.run(()=>l()),(0,Rt.of)(void 0).pipe(function m3(t){return e=>new ai.y(r=>e.subscribe({next:l=>t.run(()=>r.next(l)),error:l=>t.run(()=>r.error(l)),complete:()=>t.run(()=>r.complete())}))}(t));const f=new wn.x,_=new wn.x,y=f.pipe(function FB(...t){return e=>li(e,(0,Rt.of)(...t))}(!0));Gw.set(e,{transition$:f,complete:()=>{_.next(),_.complete()},context:i});const I=function _3(t){const{transitionDelay:e,transitionDuration:r}=window.getComputedStyle(t);return 1e3*(parseFloat(e)+parseFloat(r))}(e);return t.runOutsideAngular(()=>{const M=Ms(e,"transitionend").pipe(sr(y),Wn(({target:P})=>P===e));(function IP(...t){return 1===(t=EP(t)).length?(0,bs.Xf)(t[0]):new ai.y(function kB(t){return e=>{let r=[];for(let n=0;r&&!e.closed&&n<t.length;n++)r.push((0,bs.Xf)(t[n]).subscribe((0,Er.x)(e,i=>{if(r){for(let a=0;a<r.length;a++)a!==n&&r[a].unsubscribe();r=null}e.next(i)})))}}(t))})(function DP(t=0,e,r=ql.P){let n=-1;return null!=e&&((0,NB.K)(e)?r=e:n=e),new ai.y(i=>{let a=function RB(t){return t instanceof Date&&!isNaN(t)}(t)?+t-r.now():t;a<0&&(a=0);let l=0;return r.schedule(function(){i.closed||(i.next(l++),0<=n?this.schedule(void 0,n):i.complete())},a)})}(I+y3).pipe(sr(y)),M,_).pipe(sr(y)).subscribe(()=>{Gw.delete(e),t.run(()=>{l(),f.next(),f.complete()})})}),f.asObservable()};let OT=(()=>{var t;class e{constructor(){this.animation=qP.animation}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),nk=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({}),e})(),rk=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({}),e})(),ok=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({}),e})(),ak=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({}),e})();var mr=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}(mr||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const pk=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function gk(t){const e=Array.from(t.querySelectorAll(pk)).filter(r=>-1!==r.tabIndex);return[e[0],e[e.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let Ak=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({}),e})(),xk=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({}),e})();class Qm{constructor(e,r,n){this.nodes=e,this.viewRef=r,this.componentRef=n}}let vj=(()=>{var t;class e{constructor(n,i){this._el=n,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(Un(1)).subscribe(()=>{Vo(this._zone,this._el.nativeElement,(n,i)=>{i&&jy(n),n.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Vo(this._zone,this._el.nativeElement,({classList:n})=>n.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return(t=e).\u0275fac=function(n){return new(n||t)(d.Y36(d.SBq),d.Y36(d.R0b))},t.\u0275cmp=d.Xpm({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(n,i){2&n&&(d.Tol("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),d.ekj("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[d.jDz],decls:0,vars:0,template:function(n,i){},encapsulation:2}),e})();class Nk{update(e){}close(e){}dismiss(e){}}const yj=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],bj=["animation","backdropClass"];class wj{_applyWindowOptions(e,r){yj.forEach(n=>{qm(r[n])&&(e[n]=r[n])})}_applyBackdropOptions(e,r){bj.forEach(n=>{qm(r[n])&&(e[n]=r[n])})}update(e){this._applyWindowOptions(this._windowCmptRef.instance,e),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,e)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(sr(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(sr(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(e,r,n,i){this._windowCmptRef=e,this._contentRef=r,this._backdropCmptRef=n,this._beforeDismiss=i,this._closed=new wn.x,this._dismissed=new wn.x,this._hidden=new wn.x,e.instance.dismissEvent.subscribe(a=>{this.dismiss(a)}),this.result=new Promise((a,l)=>{this._resolve=a,this._reject=l}),this.result.then(null,()=>{})}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const r=this._beforeDismiss();!function HP(t){return t&&t.then}(r)?!1!==r&&this._dismiss(e):r.then(n=>{!1!==n&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),r=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,Rt.of)(void 0);e.subscribe(()=>{const{nativeElement:n}=this._windowCmptRef.location;n.parentNode.removeChild(n),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),r.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:n}=this._backdropCmptRef.location;n.parentNode.removeChild(n),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),PO(e,r).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var sx=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}(sx||{});let Dj=(()=>{var t;class e{constructor(n,i,a){this._document=n,this._elRef=i,this._zone=a,this._closed$=new wn.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new d.vpe,this.shown=new wn.x,this.hidden=new wn.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Wm(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(n){this.dismissEvent.emit(n)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Un(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:n}=this._elRef,i={animation:this.animation,runningTransition:"stop"},f=PO(Vo(this._zone,n,()=>n.classList.remove("show"),i),Vo(this._zone,this._dialogEl.nativeElement,()=>{},i));return f.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),f}_show(){const n={animation:this.animation,runningTransition:"continue"};PO(Vo(this._zone,this._elRef.nativeElement,(l,f)=>{f&&jy(l),l.classList.add("show")},n),Vo(this._zone,this._dialogEl.nativeElement,()=>{},n)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:n}=this._elRef;this._zone.runOutsideAngular(()=>{Ms(n,"keydown").pipe(sr(this._closed$),Wn(a=>a.which===mr.Escape)).subscribe(a=>{this.keyboard?requestAnimationFrame(()=>{a.defaultPrevented||this._zone.run(()=>this.dismiss(sx.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;Ms(this._dialogEl.nativeElement,"mousedown").pipe(sr(this._closed$),(0,hr.b)(()=>i=!1),(0,Or.w)(()=>Ms(n,"mouseup").pipe(sr(this._closed$),Un(1))),Wn(({target:a})=>n===a)).subscribe(()=>{i=!0}),Ms(n,"click").pipe(sr(this._closed$)).subscribe(({target:a})=>{n===a&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(sx.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:n}=this._elRef;if(!n.contains(document.activeElement)){const i=n.querySelector("[ngbAutofocus]"),a=gk(n)[0];(i||a||n).focus()}}_restoreFocus(){const n=this._document.body,i=this._elWithFocus;let a;a=i&&i.focus&&n.contains(i)?i:n,this._zone.runOutsideAngular(()=>{setTimeout(()=>a.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Vo(this._zone,this._elRef.nativeElement,({classList:n})=>(n.add("modal-static"),()=>n.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return(t=e).\u0275fac=function(n){return new(n||t)(d.Y36(pe),d.Y36(d.SBq),d.Y36(d.R0b))},t.\u0275cmp=d.Xpm({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(n,i){if(1&n&&d.Gf(TU,7),2&n){let a;d.iGM(a=d.CRH())&&(i._dialogEl=a.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(n,i){2&n&&(d.uIk("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),d.Tol("modal d-block"+(i.windowClass?" "+i.windowClass:"")),d.ekj("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[d.jDz],ngContentSelectors:YV,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(n,i){1&n&&(d.F$t(),d.TgZ(0,"div",0,1)(2,"div",2),d.Hsn(3),d.qZA()()),2&n&&d.Tol("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+i.fullscreenClass+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),e})(),Ej=(()=>{var t;class e{constructor(n){this._document=n}hide(){const n=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,a=i.style,{overflow:l,paddingRight:f}=a;if(n>0){const _=parseFloat(window.getComputedStyle(i).paddingRight);a.paddingRight=`${_+n}px`}return a.overflow="hidden",()=>{n>0&&(a.paddingRight=f),a.overflow=l}}}return(t=e).\u0275fac=function(n){return new(n||t)(d.LFG(pe))},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Ij=(()=>{var t;class e{constructor(n,i,a,l,f,_,y){this._applicationRef=n,this._injector=i,this._environmentInjector=a,this._document=l,this._scrollBar=f,this._rendererFactory=_,this._ngZone=y,this._activeWindowCmptHasChanged=new wn.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new d.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const I=this._windowCmpts[this._windowCmpts.length-1];((t,e,r,n=!1)=>{t.runOutsideAngular(()=>{const i=Ms(e,"focusin").pipe(sr(r),(0,Ht.U)(a=>a.target));Ms(e,"keydown").pipe(sr(r),Wn(a=>a.which===mr.Tab),kO(i)).subscribe(([a,l])=>{const[f,_]=gk(e);(l===f||l===e)&&a.shiftKey&&(_.focus(),a.preventDefault()),l===_&&!a.shiftKey&&(f.focus(),a.preventDefault())}),n&&Ms(e,"click").pipe(sr(r),kO(i),(0,Ht.U)(a=>a[1])).subscribe(a=>a.focus())})})(this._ngZone,I.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(I.location.nativeElement)}})}_restoreScrollBar(){const n=this._scrollBarRestoreFn;n&&(this._scrollBarRestoreFn=null,n())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(n,i,a){const l=a.container instanceof HTMLElement?a.container:qm(a.container)?this._document.querySelector(a.container):this._document.body,f=this._rendererFactory.createRenderer(null,null);if(!l)throw new Error(`The specified modal container "${a.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const _=new Nk,y=(n=a.injector||n).get(d.lqb,null)||this._environmentInjector,I=this._getContentRef(n,y,i,_,a);let M=!1!==a.backdrop?this._attachBackdrop(l):void 0,F=this._attachWindowComponent(l,I.nodes),P=new wj(F,I,M,a.beforeDismiss);return this._registerModalRef(P),this._registerWindowCmpt(F),P.hidden.pipe(Un(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(f.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),_.close=K=>{P.close(K)},_.dismiss=K=>{P.dismiss(K)},_.update=K=>{P.update(K)},P.update(a),1===this._modalRefs.length&&f.addClass(this._document.body,"modal-open"),M&&M.instance&&M.changeDetectorRef.detectChanges(),F.changeDetectorRef.detectChanges(),P}get activeInstances(){return this._activeInstances}dismissAll(n){this._modalRefs.forEach(i=>i.dismiss(n))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(n){let i=(0,d.LMc)(vj,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),n.appendChild(i.location.nativeElement),i}_attachWindowComponent(n,i){let a=(0,d.LMc)(Dj,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(a.hostView),n.appendChild(a.location.nativeElement),a}_getContentRef(n,i,a,l,f){return a?a instanceof d.Rgc?this._createFromTemplateRef(a,l):Wm(a)?this._createFromString(a):this._createFromComponent(n,i,a,l,f):new Qm([])}_createFromTemplateRef(n,i){const l=n.createEmbeddedView({$implicit:i,close(f){i.close(f)},dismiss(f){i.dismiss(f)}});return this._applicationRef.attachView(l),new Qm([l.rootNodes],l)}_createFromString(n){const i=this._document.createTextNode(`${n}`);return new Qm([[i]])}_createFromComponent(n,i,a,l,f){const _=d.zs3.create({providers:[{provide:Nk,useValue:l}],parent:n}),y=(0,d.LMc)(a,{environmentInjector:i,elementInjector:_}),I=y.location.nativeElement;return f.scrollable&&I.classList.add("component-host-scrollable"),this._applicationRef.attachView(y.hostView),new Qm([[I]],y.hostView,y)}_setAriaHidden(n){const i=n.parentElement;i&&n!==this._document.body&&(Array.from(i.children).forEach(a=>{a!==n&&"SCRIPT"!==a.nodeName&&(this._ariaHiddenValues.set(a,a.getAttribute("aria-hidden")),a.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((n,i)=>{n?i.setAttribute("aria-hidden",n):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(n){const i=()=>{const a=this._modalRefs.indexOf(n);a>-1&&(this._modalRefs.splice(a,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(n),this._activeInstances.emit(this._modalRefs),n.result.then(i,i)}_registerWindowCmpt(n){this._windowCmpts.push(n),this._activeWindowCmptHasChanged.next(),n.onDestroy(()=>{const i=this._windowCmpts.indexOf(n);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return(t=e).\u0275fac=function(n){return new(n||t)(d.LFG(d.z2F),d.LFG(d.zs3),d.LFG(d.lqb),d.LFG(pe),d.LFG(Ej),d.LFG(d.FYo),d.LFG(d.R0b))},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Cj=(()=>{var t;class e{constructor(n){this._ngbConfig=n,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(n){this._animation=n}}return(t=e).\u0275fac=function(n){return new(n||t)(d.LFG(OT))},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Tj=(()=>{var t;class e{constructor(n,i,a){this._injector=n,this._modalStack=i,this._config=a}open(n,i={}){const a={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._injector,n,a)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(n){this._modalStack.dismissAll(n)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return(t=e).\u0275fac=function(n){return new(n||t)(d.LFG(d.zs3),d.LFG(Ij),d.LFG(Cj))},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Rk=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({providers:[Tj]}),e})(),Fk=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({}),e})(),Gk=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({}),e})(),Wk=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({}),e})(),qk=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({}),e})(),Zk=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({}),e})(),Kk=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({}),e})(),Yk=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({}),e})(),Jk=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({}),e})(),Qk=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({}),e})();new d.OlP("live announcer delay",{providedIn:"root",factory:function Gj(){return 100}});let Xk=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({}),e})(),eF=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({}),e})();const Wj=[nk,rk,ok,ak,Ak,xk,Rk,Fk,eF,Gk,Wk,qk,Zk,Kk,Yk,Jk,Qk,Xk];let qj=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({imports:[Wj,nk,rk,ok,ak,Ak,xk,Rk,Fk,eF,Gk,Wk,qk,Zk,Kk,Yk,Jk,Qk,Xk]}),e})();const Zj={apiKey:"AIzaSyAk-Xu0-cCyq3rR9UBcH4B_9HlK3--3rwQ",authDomain:"sala-de-juegos-a3ec6.firebaseapp.com",projectId:"sala-de-juegos-a3ec6",storageBucket:"sala-de-juegos-a3ec6.appspot.com",messagingSenderId:"755446427513",appId:"1:755446427513:web:984ca860e894c5d0b8c9a8"};let Kj=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=d.oAB({type:t,bootstrap:[IB]}),t.\u0275inj=d.cJS({imports:[ph,EB,qj,wB,oa.hO.initializeApp(Zj)]}),e})();hh().bootstrapModule(Kj).catch(t=>console.error(t))},5619:(bt,Ce,k)=>{k.d(Ce,{X:()=>Q});var d=k(8645);class Q extends d.x{constructor(ee){super(),this._value=ee}get value(){return this.getValue()}_subscribe(ee){const re=super._subscribe(ee);return!re.closed&&ee.next(this._value),re}getValue(){const{hasError:ee,thrownError:re,_value:pe}=this;if(ee)throw re;return this._throwIfClosed(),pe}next(ee){super.next(this._value=ee)}}},5592:(bt,Ce,k)=>{k.d(Ce,{y:()=>Pe});var d=k(305),Q=k(7394),L=k(4850),ee=k(8407),re=k(2653),pe=k(4674),ye=k(1441);let Pe=(()=>{class te{constructor(Oe){Oe&&(this._subscribe=Oe)}lift(Oe){const et=new te;return et.source=this,et.operator=Oe,et}subscribe(Oe,et,Be){const rt=function G(te){return te&&te instanceof d.Lv||function U(te){return te&&(0,pe.m)(te.next)&&(0,pe.m)(te.error)&&(0,pe.m)(te.complete)}(te)&&(0,Q.Nn)(te)}(Oe)?Oe:new d.Hp(Oe,et,Be);return(0,ye.x)(()=>{const{operator:Ne,source:Ct}=this;rt.add(Ne?Ne.call(rt,Ct):Ct?this._subscribe(rt):this._trySubscribe(rt))}),rt}_trySubscribe(Oe){try{return this._subscribe(Oe)}catch(et){Oe.error(et)}}forEach(Oe,et){return new(et=ve(et))((Be,rt)=>{const Ne=new d.Hp({next:Ct=>{try{Oe(Ct)}catch(Dt){rt(Dt),Ne.unsubscribe()}},error:rt,complete:Be});this.subscribe(Ne)})}_subscribe(Oe){var et;return null===(et=this.source)||void 0===et?void 0:et.subscribe(Oe)}[L.L](){return this}pipe(...Oe){return(0,ee.U)(Oe)(this)}toPromise(Oe){return new(Oe=ve(Oe))((et,Be)=>{let rt;this.subscribe(Ne=>rt=Ne,Ne=>Be(Ne),()=>et(rt))})}}return te.create=ke=>new te(ke),te})();function ve(te){var ke;return null!==(ke=te??re.config.Promise)&&void 0!==ke?ke:Promise}},8645:(bt,Ce,k)=>{k.d(Ce,{x:()=>ye});var d=k(5592),Q=k(7394);const ee=(0,k(2306).d)(ve=>function(){ve(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var re=k(9039),pe=k(1441);let ye=(()=>{class ve extends d.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(G){const te=new Pe(this,this);return te.operator=G,te}_throwIfClosed(){if(this.closed)throw new ee}next(G){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const te of this.currentObservers)te.next(G)}})}error(G){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=G;const{observers:te}=this;for(;te.length;)te.shift().error(G)}})}complete(){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:G}=this;for(;G.length;)G.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var G;return(null===(G=this.observers)||void 0===G?void 0:G.length)>0}_trySubscribe(G){return this._throwIfClosed(),super._trySubscribe(G)}_subscribe(G){return this._throwIfClosed(),this._checkFinalizedStatuses(G),this._innerSubscribe(G)}_innerSubscribe(G){const{hasError:te,isStopped:ke,observers:Oe}=this;return te||ke?Q.Lc:(this.currentObservers=null,Oe.push(G),new Q.w0(()=>{this.currentObservers=null,(0,re.P)(Oe,G)}))}_checkFinalizedStatuses(G){const{hasError:te,thrownError:ke,isStopped:Oe}=this;te?G.error(ke):Oe&&G.complete()}asObservable(){const G=new d.y;return G.source=this,G}}return ve.create=(U,G)=>new Pe(U,G),ve})();class Pe extends ye{constructor(U,G){super(),this.destination=U,this.source=G}next(U){var G,te;null===(te=null===(G=this.destination)||void 0===G?void 0:G.next)||void 0===te||te.call(G,U)}error(U){var G,te;null===(te=null===(G=this.destination)||void 0===G?void 0:G.error)||void 0===te||te.call(G,U)}complete(){var U,G;null===(G=null===(U=this.destination)||void 0===U?void 0:U.complete)||void 0===G||G.call(U)}_subscribe(U){var G,te;return null!==(te=null===(G=this.source)||void 0===G?void 0:G.subscribe(U))&&void 0!==te?te:Q.Lc}}},305:(bt,Ce,k)=>{k.d(Ce,{Hp:()=>Be,Lv:()=>te});var d=k(4674),Q=k(7394),L=k(2653),ee=k(3894),re=k(2420);const pe=ve("C",void 0,void 0);function ve(se,Me,ae){return{kind:se,value:Me,error:ae}}var U=k(7599),G=k(1441);class te extends Q.w0{constructor(Me){super(),this.isStopped=!1,Me?(this.destination=Me,(0,Q.Nn)(Me)&&Me.add(this)):this.destination=Dt}static create(Me,ae,Te){return new Be(Me,ae,Te)}next(Me){this.isStopped?Ct(function Pe(se){return ve("N",se,void 0)}(Me),this):this._next(Me)}error(Me){this.isStopped?Ct(function ye(se){return ve("E",void 0,se)}(Me),this):(this.isStopped=!0,this._error(Me))}complete(){this.isStopped?Ct(pe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Me){this.destination.next(Me)}_error(Me){try{this.destination.error(Me)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ke=Function.prototype.bind;function Oe(se,Me){return ke.call(se,Me)}class et{constructor(Me){this.partialObserver=Me}next(Me){const{partialObserver:ae}=this;if(ae.next)try{ae.next(Me)}catch(Te){rt(Te)}}error(Me){const{partialObserver:ae}=this;if(ae.error)try{ae.error(Me)}catch(Te){rt(Te)}else rt(Me)}complete(){const{partialObserver:Me}=this;if(Me.complete)try{Me.complete()}catch(ae){rt(ae)}}}class Be extends te{constructor(Me,ae,Te){let He;if(super(),(0,d.m)(Me)||!Me)He={next:Me??void 0,error:ae??void 0,complete:Te??void 0};else{let oe;this&&L.config.useDeprecatedNextContext?(oe=Object.create(Me),oe.unsubscribe=()=>this.unsubscribe(),He={next:Me.next&&Oe(Me.next,oe),error:Me.error&&Oe(Me.error,oe),complete:Me.complete&&Oe(Me.complete,oe)}):He=Me}this.destination=new et(He)}}function rt(se){L.config.useDeprecatedSynchronousErrorHandling?(0,G.O)(se):(0,ee.h)(se)}function Ct(se,Me){const{onStoppedNotification:ae}=L.config;ae&&U.z.setTimeout(()=>ae(se,Me))}const Dt={closed:!0,next:re.Z,error:function Ne(se){throw se},complete:re.Z}},7394:(bt,Ce,k)=>{k.d(Ce,{Lc:()=>pe,w0:()=>re,Nn:()=>ye});var d=k(4674);const L=(0,k(2306).d)(ve=>function(G){ve(this),this.message=G?`${G.length} errors occurred during unsubscription:\n${G.map((te,ke)=>`${ke+1}) ${te.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=G});var ee=k(9039);class re{constructor(U){this.initialTeardown=U,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let U;if(!this.closed){this.closed=!0;const{_parentage:G}=this;if(G)if(this._parentage=null,Array.isArray(G))for(const Oe of G)Oe.remove(this);else G.remove(this);const{initialTeardown:te}=this;if((0,d.m)(te))try{te()}catch(Oe){U=Oe instanceof L?Oe.errors:[Oe]}const{_finalizers:ke}=this;if(ke){this._finalizers=null;for(const Oe of ke)try{Pe(Oe)}catch(et){U=U??[],et instanceof L?U=[...U,...et.errors]:U.push(et)}}if(U)throw new L(U)}}add(U){var G;if(U&&U!==this)if(this.closed)Pe(U);else{if(U instanceof re){if(U.closed||U._hasParent(this))return;U._addParent(this)}(this._finalizers=null!==(G=this._finalizers)&&void 0!==G?G:[]).push(U)}}_hasParent(U){const{_parentage:G}=this;return G===U||Array.isArray(G)&&G.includes(U)}_addParent(U){const{_parentage:G}=this;this._parentage=Array.isArray(G)?(G.push(U),G):G?[G,U]:U}_removeParent(U){const{_parentage:G}=this;G===U?this._parentage=null:Array.isArray(G)&&(0,ee.P)(G,U)}remove(U){const{_finalizers:G}=this;G&&(0,ee.P)(G,U),U instanceof re&&U._removeParent(this)}}re.EMPTY=(()=>{const ve=new re;return ve.closed=!0,ve})();const pe=re.EMPTY;function ye(ve){return ve instanceof re||ve&&"closed"in ve&&(0,d.m)(ve.remove)&&(0,d.m)(ve.add)&&(0,d.m)(ve.unsubscribe)}function Pe(ve){(0,d.m)(ve)?ve():ve.unsubscribe()}},2653:(bt,Ce,k)=>{k.d(Ce,{config:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(bt,Ce,k)=>{k.d(Ce,{E:()=>Q});const Q=new(k(5592).y)(re=>re.complete())},2459:(bt,Ce,k)=>{k.d(Ce,{D:()=>Me});var d=k(4829),Q=k(3093),L=k(5137),pe=k(5592),Pe=k(4971),ve=k(4674),U=k(7103);function te(ae,Te){if(!ae)throw new Error("Iterable cannot be null");return new pe.y(He=>{(0,U.f)(He,Te,()=>{const oe=ae[Symbol.asyncIterator]();(0,U.f)(He,Te,()=>{oe.next().then($e=>{$e.done?He.complete():He.next($e.value)})},0,!0)})})}var ke=k(8382),Oe=k(4026),et=k(4266),Be=k(3664),rt=k(5726),Ne=k(9853),Ct=k(541);function Me(ae,Te){return Te?function se(ae,Te){if(null!=ae){if((0,ke.c)(ae))return function ee(ae,Te){return(0,d.Xf)(ae).pipe((0,L.R)(Te),(0,Q.Q)(Te))}(ae,Te);if((0,et.z)(ae))return function ye(ae,Te){return new pe.y(He=>{let oe=0;return Te.schedule(function(){oe===ae.length?He.complete():(He.next(ae[oe++]),He.closed||this.schedule())})})}(ae,Te);if((0,Oe.t)(ae))return function re(ae,Te){return(0,d.Xf)(ae).pipe((0,L.R)(Te),(0,Q.Q)(Te))}(ae,Te);if((0,rt.D)(ae))return te(ae,Te);if((0,Be.T)(ae))return function G(ae,Te){return new pe.y(He=>{let oe;return(0,U.f)(He,Te,()=>{oe=ae[Pe.h](),(0,U.f)(He,Te,()=>{let $e,it;try{({value:$e,done:it}=oe.next())}catch(Nt){return void He.error(Nt)}it?He.complete():He.next($e)},0,!0)}),()=>(0,ve.m)(oe?.return)&&oe.return()})}(ae,Te);if((0,Ct.L)(ae))return function Dt(ae,Te){return te((0,Ct.Q)(ae),Te)}(ae,Te)}throw(0,Ne.z)(ae)}(ae,Te):(0,d.Xf)(ae)}},4829:(bt,Ce,k)=>{k.d(Ce,{Xf:()=>ke});var d=k(7582),Q=k(4266),L=k(4026),ee=k(5592),re=k(8382),pe=k(5726),ye=k(9853),Pe=k(3664),ve=k(541),U=k(4674),G=k(3894),te=k(4850);function ke(se){if(se instanceof ee.y)return se;if(null!=se){if((0,re.c)(se))return function Oe(se){return new ee.y(Me=>{const ae=se[te.L]();if((0,U.m)(ae.subscribe))return ae.subscribe(Me);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(se);if((0,Q.z)(se))return function et(se){return new ee.y(Me=>{for(let ae=0;ae<se.length&&!Me.closed;ae++)Me.next(se[ae]);Me.complete()})}(se);if((0,L.t)(se))return function Be(se){return new ee.y(Me=>{se.then(ae=>{Me.closed||(Me.next(ae),Me.complete())},ae=>Me.error(ae)).then(null,G.h)})}(se);if((0,pe.D)(se))return Ne(se);if((0,Pe.T)(se))return function rt(se){return new ee.y(Me=>{for(const ae of se)if(Me.next(ae),Me.closed)return;Me.complete()})}(se);if((0,ve.L)(se))return function Ct(se){return Ne((0,ve.Q)(se))}(se)}throw(0,ye.z)(se)}function Ne(se){return new ee.y(Me=>{(function Dt(se,Me){var ae,Te,He,oe;return(0,d.mG)(this,void 0,void 0,function*(){try{for(ae=(0,d.KL)(se);!(Te=yield ae.next()).done;)if(Me.next(Te.value),Me.closed)return}catch($e){He={error:$e}}finally{try{Te&&!Te.done&&(oe=ae.return)&&(yield oe.call(ae))}finally{if(He)throw He.error}}Me.complete()})})(se,Me).catch(ae=>Me.error(ae))})}},3019:(bt,Ce,k)=>{k.d(Ce,{T:()=>pe});var d=k(7537),Q=k(4829),L=k(6232),ee=k(9940),re=k(2459);function pe(...ye){const Pe=(0,ee.yG)(ye),ve=(0,ee._6)(ye,1/0),U=ye;return U.length?1===U.length?(0,Q.Xf)(U[0]):(0,d.J)(ve)((0,re.D)(U,Pe)):L.E}},2096:(bt,Ce,k)=>{k.d(Ce,{of:()=>L});var d=k(9940),Q=k(2459);function L(...ee){const re=(0,d.yG)(ee);return(0,Q.D)(ee,re)}},8251:(bt,Ce,k)=>{k.d(Ce,{x:()=>Q});var d=k(305);function Q(ee,re,pe,ye,Pe){return new L(ee,re,pe,ye,Pe)}class L extends d.Lv{constructor(re,pe,ye,Pe,ve,U){super(re),this.onFinalize=ve,this.shouldUnsubscribe=U,this._next=pe?function(G){try{pe(G)}catch(te){re.error(te)}}:super._next,this._error=Pe?function(G){try{Pe(G)}catch(te){re.error(te)}finally{this.unsubscribe()}}:super._error,this._complete=ye?function(){try{ye()}catch(G){re.error(G)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var re;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:pe}=this;super.unsubscribe(),!pe&&(null===(re=this.onFinalize)||void 0===re||re.call(this))}}}},3997:(bt,Ce,k)=>{k.d(Ce,{x:()=>ee});var d=k(2737),Q=k(9360),L=k(8251);function ee(pe,ye=d.y){return pe=pe??re,(0,Q.e)((Pe,ve)=>{let U,G=!0;Pe.subscribe((0,L.x)(ve,te=>{const ke=ye(te);(G||!pe(U,ke))&&(G=!1,U=ke,ve.next(te))}))})}function re(pe,ye){return pe===ye}},7398:(bt,Ce,k)=>{k.d(Ce,{U:()=>L});var d=k(9360),Q=k(8251);function L(ee,re){return(0,d.e)((pe,ye)=>{let Pe=0;pe.subscribe((0,Q.x)(ye,ve=>{ye.next(ee.call(re,ve,Pe++))}))})}},7537:(bt,Ce,k)=>{k.d(Ce,{J:()=>L});var d=k(1631),Q=k(2737);function L(ee=1/0){return(0,d.z)(Q.y,ee)}},1631:(bt,Ce,k)=>{k.d(Ce,{z:()=>Pe});var d=k(7398),Q=k(4829),L=k(9360),ee=k(7103),re=k(8251),ye=k(4674);function Pe(ve,U,G=1/0){return(0,ye.m)(U)?Pe((te,ke)=>(0,d.U)((Oe,et)=>U(te,Oe,ke,et))((0,Q.Xf)(ve(te,ke))),G):("number"==typeof U&&(G=U),(0,L.e)((te,ke)=>function pe(ve,U,G,te,ke,Oe,et,Be){const rt=[];let Ne=0,Ct=0,Dt=!1;const se=()=>{Dt&&!rt.length&&!Ne&&U.complete()},Me=Te=>Ne<te?ae(Te):rt.push(Te),ae=Te=>{Oe&&U.next(Te),Ne++;let He=!1;(0,Q.Xf)(G(Te,Ct++)).subscribe((0,re.x)(U,oe=>{ke?.(oe),Oe?Me(oe):U.next(oe)},()=>{He=!0},void 0,()=>{if(He)try{for(Ne--;rt.length&&Ne<te;){const oe=rt.shift();et?(0,ee.f)(U,et,()=>ae(oe)):ae(oe)}se()}catch(oe){U.error(oe)}}))};return ve.subscribe((0,re.x)(U,Me,()=>{Dt=!0,se()})),()=>{Be?.()}}(te,ke,ve,G)))}},3093:(bt,Ce,k)=>{k.d(Ce,{Q:()=>ee});var d=k(7103),Q=k(9360),L=k(8251);function ee(re,pe=0){return(0,Q.e)((ye,Pe)=>{ye.subscribe((0,L.x)(Pe,ve=>(0,d.f)(Pe,re,()=>Pe.next(ve),pe),()=>(0,d.f)(Pe,re,()=>Pe.complete(),pe),ve=>(0,d.f)(Pe,re,()=>Pe.error(ve),pe)))})}},3020:(bt,Ce,k)=>{k.d(Ce,{B:()=>re});var d=k(4829),Q=k(8645),L=k(305),ee=k(9360);function re(ye={}){const{connector:Pe=(()=>new Q.x),resetOnError:ve=!0,resetOnComplete:U=!0,resetOnRefCountZero:G=!0}=ye;return te=>{let ke,Oe,et,Be=0,rt=!1,Ne=!1;const Ct=()=>{Oe?.unsubscribe(),Oe=void 0},Dt=()=>{Ct(),ke=et=void 0,rt=Ne=!1},se=()=>{const Me=ke;Dt(),Me?.unsubscribe()};return(0,ee.e)((Me,ae)=>{Be++,!Ne&&!rt&&Ct();const Te=et=et??Pe();ae.add(()=>{Be--,0===Be&&!Ne&&!rt&&(Oe=pe(se,G))}),Te.subscribe(ae),!ke&&Be>0&&(ke=new L.Hp({next:He=>Te.next(He),error:He=>{Ne=!0,Ct(),Oe=pe(Dt,ve,He),Te.error(He)},complete:()=>{rt=!0,Ct(),Oe=pe(Dt,U),Te.complete()}}),(0,d.Xf)(Me).subscribe(ke))})(te)}}function pe(ye,Pe,...ve){if(!0===Pe)return void ye();if(!1===Pe)return;const U=new L.Hp({next:()=>{U.unsubscribe(),ye()}});return(0,d.Xf)(Pe(...ve)).subscribe(U)}},5137:(bt,Ce,k)=>{k.d(Ce,{R:()=>Q});var d=k(9360);function Q(L,ee=0){return(0,d.e)((re,pe)=>{pe.add(L.schedule(()=>re.subscribe(pe),ee))})}},4664:(bt,Ce,k)=>{k.d(Ce,{w:()=>ee});var d=k(4829),Q=k(9360),L=k(8251);function ee(re,pe){return(0,Q.e)((ye,Pe)=>{let ve=null,U=0,G=!1;const te=()=>G&&!ve&&Pe.complete();ye.subscribe((0,L.x)(Pe,ke=>{ve?.unsubscribe();let Oe=0;const et=U++;(0,d.Xf)(re(ke,et)).subscribe(ve=(0,L.x)(Pe,Be=>Pe.next(pe?pe(ke,Be,et,Oe++):Be),()=>{ve=null,te()}))},()=>{G=!0,te()}))})}},9397:(bt,Ce,k)=>{k.d(Ce,{b:()=>re});var d=k(4674),Q=k(9360),L=k(8251),ee=k(2737);function re(pe,ye,Pe){const ve=(0,d.m)(pe)||ye||Pe?{next:pe,error:ye,complete:Pe}:pe;return ve?(0,Q.e)((U,G)=>{var te;null===(te=ve.subscribe)||void 0===te||te.call(ve);let ke=!0;U.subscribe((0,L.x)(G,Oe=>{var et;null===(et=ve.next)||void 0===et||et.call(ve,Oe),G.next(Oe)},()=>{var Oe;ke=!1,null===(Oe=ve.complete)||void 0===Oe||Oe.call(ve),G.complete()},Oe=>{var et;ke=!1,null===(et=ve.error)||void 0===et||et.call(ve,Oe),G.error(Oe)},()=>{var Oe,et;ke&&(null===(Oe=ve.unsubscribe)||void 0===Oe||Oe.call(ve)),null===(et=ve.finalize)||void 0===et||et.call(ve)}))}):ee.y}},1954:(bt,Ce,k)=>{k.d(Ce,{o:()=>re});var d=k(7394);class Q extends d.w0{constructor(ye,Pe){super()}schedule(ye,Pe=0){return this}}const L={setInterval(pe,ye,...Pe){const{delegate:ve}=L;return ve?.setInterval?ve.setInterval(pe,ye,...Pe):setInterval(pe,ye,...Pe)},clearInterval(pe){const{delegate:ye}=L;return(ye?.clearInterval||clearInterval)(pe)},delegate:void 0};var ee=k(9039);class re extends Q{constructor(ye,Pe){super(ye,Pe),this.scheduler=ye,this.work=Pe,this.pending=!1}schedule(ye,Pe=0){var ve;if(this.closed)return this;this.state=ye;const U=this.id,G=this.scheduler;return null!=U&&(this.id=this.recycleAsyncId(G,U,Pe)),this.pending=!0,this.delay=Pe,this.id=null!==(ve=this.id)&&void 0!==ve?ve:this.requestAsyncId(G,this.id,Pe),this}requestAsyncId(ye,Pe,ve=0){return L.setInterval(ye.flush.bind(ye,this),ve)}recycleAsyncId(ye,Pe,ve=0){if(null!=ve&&this.delay===ve&&!1===this.pending)return Pe;null!=Pe&&L.clearInterval(Pe)}execute(ye,Pe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ve=this._execute(ye,Pe);if(ve)return ve;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ye,Pe){let U,ve=!1;try{this.work(ye)}catch(G){ve=!0,U=G||new Error("Scheduled action threw falsy error")}if(ve)return this.unsubscribe(),U}unsubscribe(){if(!this.closed){const{id:ye,scheduler:Pe}=this,{actions:ve}=Pe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ee.P)(ve,this),null!=ye&&(this.id=this.recycleAsyncId(Pe,ye,null)),this.delay=null,super.unsubscribe()}}}},2631:(bt,Ce,k)=>{k.d(Ce,{v:()=>L});var d=k(4552);class Q{constructor(re,pe=Q.now){this.schedulerActionCtor=re,this.now=pe}schedule(re,pe=0,ye){return new this.schedulerActionCtor(this,re).schedule(ye,pe)}}Q.now=d.l.now;class L extends Q{constructor(re,pe=Q.now){super(re,pe),this.actions=[],this._active=!1}flush(re){const{actions:pe}=this;if(this._active)return void pe.push(re);let ye;this._active=!0;do{if(ye=re.execute(re.state,re.delay))break}while(re=pe.shift());if(this._active=!1,ye){for(;re=pe.shift();)re.unsubscribe();throw ye}}}},6321:(bt,Ce,k)=>{k.d(Ce,{P:()=>ee,z:()=>L});var d=k(1954);const L=new(k(2631).v)(d.o),ee=L},4552:(bt,Ce,k)=>{k.d(Ce,{l:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},7599:(bt,Ce,k)=>{k.d(Ce,{z:()=>d});const d={setTimeout(Q,L,...ee){const{delegate:re}=d;return re?.setTimeout?re.setTimeout(Q,L,...ee):setTimeout(Q,L,...ee)},clearTimeout(Q){const{delegate:L}=d;return(L?.clearTimeout||clearTimeout)(Q)},delegate:void 0}},4971:(bt,Ce,k)=>{k.d(Ce,{h:()=>Q});const Q=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(bt,Ce,k)=>{k.d(Ce,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},9940:(bt,Ce,k)=>{k.d(Ce,{_6:()=>pe,jO:()=>ee,yG:()=>re});var d=k(4674),Q=k(671);function L(ye){return ye[ye.length-1]}function ee(ye){return(0,d.m)(L(ye))?ye.pop():void 0}function re(ye){return(0,Q.K)(L(ye))?ye.pop():void 0}function pe(ye,Pe){return"number"==typeof L(ye)?ye.pop():Pe}},9039:(bt,Ce,k)=>{function d(Q,L){if(Q){const ee=Q.indexOf(L);0<=ee&&Q.splice(ee,1)}}k.d(Ce,{P:()=>d})},2306:(bt,Ce,k)=>{function d(Q){const ee=Q(re=>{Error.call(re),re.stack=(new Error).stack});return ee.prototype=Object.create(Error.prototype),ee.prototype.constructor=ee,ee}k.d(Ce,{d:()=>d})},1441:(bt,Ce,k)=>{k.d(Ce,{O:()=>ee,x:()=>L});var d=k(2653);let Q=null;function L(re){if(d.config.useDeprecatedSynchronousErrorHandling){const pe=!Q;if(pe&&(Q={errorThrown:!1,error:null}),re(),pe){const{errorThrown:ye,error:Pe}=Q;if(Q=null,ye)throw Pe}}else re()}function ee(re){d.config.useDeprecatedSynchronousErrorHandling&&Q&&(Q.errorThrown=!0,Q.error=re)}},7103:(bt,Ce,k)=>{function d(Q,L,ee,re=0,pe=!1){const ye=L.schedule(function(){ee(),pe?Q.add(this.schedule(null,re)):this.unsubscribe()},re);if(Q.add(ye),!pe)return ye}k.d(Ce,{f:()=>d})},2737:(bt,Ce,k)=>{function d(Q){return Q}k.d(Ce,{y:()=>d})},4266:(bt,Ce,k)=>{k.d(Ce,{z:()=>d});const d=Q=>Q&&"number"==typeof Q.length&&"function"!=typeof Q},5726:(bt,Ce,k)=>{k.d(Ce,{D:()=>Q});var d=k(4674);function Q(L){return Symbol.asyncIterator&&(0,d.m)(L?.[Symbol.asyncIterator])}},4674:(bt,Ce,k)=>{function d(Q){return"function"==typeof Q}k.d(Ce,{m:()=>d})},8382:(bt,Ce,k)=>{k.d(Ce,{c:()=>L});var d=k(4850),Q=k(4674);function L(ee){return(0,Q.m)(ee[d.L])}},3664:(bt,Ce,k)=>{k.d(Ce,{T:()=>L});var d=k(4971),Q=k(4674);function L(ee){return(0,Q.m)(ee?.[d.h])}},4026:(bt,Ce,k)=>{k.d(Ce,{t:()=>Q});var d=k(4674);function Q(L){return(0,d.m)(L?.then)}},541:(bt,Ce,k)=>{k.d(Ce,{L:()=>ee,Q:()=>L});var d=k(7582),Q=k(4674);function L(re){return(0,d.FC)(this,arguments,function*(){const ye=re.getReader();try{for(;;){const{value:Pe,done:ve}=yield(0,d.qq)(ye.read());if(ve)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(Pe)}}finally{ye.releaseLock()}})}function ee(re){return(0,Q.m)(re?.getReader)}},671:(bt,Ce,k)=>{k.d(Ce,{K:()=>Q});var d=k(4674);function Q(L){return L&&(0,d.m)(L.schedule)}},9360:(bt,Ce,k)=>{k.d(Ce,{A:()=>Q,e:()=>L});var d=k(4674);function Q(ee){return(0,d.m)(ee?.lift)}function L(ee){return re=>{if(Q(re))return re.lift(function(pe){try{return ee(pe,this)}catch(ye){this.error(ye)}});throw new TypeError("Unable to lift unknown Observable type")}}},2420:(bt,Ce,k)=>{function d(){}k.d(Ce,{Z:()=>d})},8407:(bt,Ce,k)=>{k.d(Ce,{U:()=>L,z:()=>Q});var d=k(2737);function Q(...ee){return L(ee)}function L(ee){return 0===ee.length?d.y:1===ee.length?ee[0]:function(pe){return ee.reduce((ye,Pe)=>Pe(ye),pe)}}},3894:(bt,Ce,k)=>{k.d(Ce,{h:()=>L});var d=k(2653),Q=k(7599);function L(ee){Q.z.setTimeout(()=>{const{onUnhandledError:re}=d.config;if(!re)throw ee;re(ee)})}},9853:(bt,Ce,k)=>{function d(Q){return new TypeError(`You provided ${null!==Q&&"object"==typeof Q?"an invalid object":`'${Q}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(Ce,{z:()=>d})},5879:(bt,Ce,k)=>{k.d(Ce,{$8M:()=>Fl,$WT:()=>fc,$Z:()=>nb,AFp:()=>mS,AaK:()=>te,CHM:()=>ns,CRH:()=>QI,EJc:()=>vC,EpF:()=>xb,F$t:()=>Xg,F4k:()=>Nb,FYo:()=>U0,FiY:()=>Ju,Gf:()=>Bf,GfV:()=>UD,Gpc:()=>et,HDt:()=>K1,Hsn:()=>Lb,Ikx:()=>zs,JOm:()=>rd,KtG:()=>Mp,LFG:()=>zt,LMc:()=>FM,Lbi:()=>O0,Lck:()=>Tf,MAs:()=>CE,MGl:()=>Ev,MMx:()=>w1,NdJ:()=>xo,Ojb:()=>Ax,OlP:()=>Pn,Oqu:()=>kv,P3R:()=>lS,PXZ:()=>MC,Q6J:()=>Mb,QGY:()=>cf,Qsj:()=>H_,R0b:()=>Ai,RDi:()=>hD,Rgc:()=>pi,SBq:()=>Eg,SDv:()=>CI,Sil:()=>yC,Suo:()=>JI,TTD:()=>Ec,TgZ:()=>Ed,Tol:()=>NE,VKq:()=>Wv,VuI:()=>Nm,W1O:()=>Vf,WLB:()=>qv,X6Q:()=>kC,XFs:()=>at,Xpm:()=>bu,Xq5:()=>hE,Xts:()=>hg,Y36:()=>pd,YKP:()=>y1,YNc:()=>vv,Yjl:()=>Eu,Yz7:()=>Ut,Z0I:()=>Y,ZZ4:()=>tp,_Bn:()=>Cf,_UZ:()=>bv,_c5:()=>pw,_uU:()=>Jb,aQg:()=>yy,c2e:()=>_C,cJS:()=>Hn,cg1:()=>je,dDg:()=>ew,dqk:()=>Gt,eFA:()=>Cm,eJc:()=>ou,ekj:()=>Nv,eoX:()=>hy,f3M:()=>Wt,g9A:()=>FD,h0i:()=>qs,hGG:()=>by,hij:()=>sm,iGM:()=>B1,ifc:()=>Ji,ip1:()=>mC,jDz:()=>um,kEZ:()=>C1,kL8:()=>l1,lG2:()=>Jd,lqb:()=>sa,lri:()=>dy,n5z:()=>So,oAB:()=>Du,oxw:()=>kb,q4F:()=>jD,qFp:()=>LM,qLn:()=>Vh,qOj:()=>bb,qZA:()=>sf,rWj:()=>X1,rg0:()=>Il,s9C:()=>uf,sBO:()=>FC,s_b:()=>mm,soG:()=>il,tb:()=>tw,tp0:()=>Lc,uIk:()=>pv,vHH:()=>se,vpe:()=>Ds,wAp:()=>gf,xp6:()=>eb,z2F:()=>Bd,zSh:()=>P_,zW0:()=>Db,zs3:()=>Mo});var d=k(8645),Q=k(7394),L=k(5592),ee=k(3019),re=k(5619),pe=k(2096),ye=k(3020),Pe=k(4664),ve=k(3997);function U(s){for(let o in s)if(s[o]===U)return o;throw Error("Could not find renamed property on target object.")}function G(s,o){for(const c in o)o.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&(s[c]=o[c])}function te(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(te).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const c=o.indexOf("\n");return-1===c?o:o.substring(0,c)}function ke(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const Oe=U({__forward_ref__:U});function et(s){return s.__forward_ref__=et,s.toString=function(){return te(this())},s}function Be(s){return rt(s)?s():s}function rt(s){return"function"==typeof s&&s.hasOwnProperty(Oe)&&s.__forward_ref__===et}function Ne(s){return s&&!!s.\u0275providers}const Dt="https://g.co/ng/security#xss";class se extends Error{constructor(o,c){super(function Me(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,c)),this.code=o}}function ae(s){return"string"==typeof s?s:null==s?"":String(s)}function it(s,o){throw new se(-201,!1)}function tt(s,o,c,u){throw new Error(`ASSERTION ERROR: ${s}`+(null==u?"":` [Expected=> ${c} ${u} ${o} <=Actual]`))}function Ut(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Hn(s){return{providers:s.providers||[],imports:s.imports||[]}}function sn(s){return Z(s,nt)||Z(s,un)}function Y(s){return null!==sn(s)}function Z(s,o){return s.hasOwnProperty(o)?s[o]:null}function xe(s){return s&&(s.hasOwnProperty(ft)||s.hasOwnProperty(gn))?s[ft]:null}const nt=U({\u0275prov:U}),ft=U({\u0275inj:U}),un=U({ngInjectableDef:U}),gn=U({ngInjectorDef:U});var at=function(s){return s[s.Default=0]="Default",s[s.Host=1]="Host",s[s.Self=2]="Self",s[s.SkipSelf=4]="SkipSelf",s[s.Optional=8]="Optional",s}(at||{});let Et;function on(s){const o=Et;return Et=s,o}function tr(s,o,c){const u=sn(s);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:c&at.Optional?null:void 0!==o?o:void it(te(s))}const Gt=globalThis,Xe={},ut="__NG_DI_FLAG__",wt="ngTempTokenPath",z=/\n/gm,J="__source";let Ae;function vt(s){const o=Ae;return Ae=s,o}function Lt(s,o=at.Default){if(void 0===Ae)throw new se(-203,!1);return null===Ae?tr(s,void 0,o):Ae.get(s,o&at.Optional?null:void 0,o)}function zt(s,o=at.Default){return(function jt(){return Et}()||Lt)(Be(s),o)}function Wt(s,o=at.Default){return zt(s,qr(o))}function qr(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function Yt(s){const o=[];for(let c=0;c<s.length;c++){const u=Be(s[c]);if(Array.isArray(u)){if(0===u.length)throw new se(900,!1);let h,p=at.Default;for(let v=0;v<u.length;v++){const w=u[v],D=Js(w);"number"==typeof D?-1===D?h=w.token:p|=D:h=w}o.push(zt(h,p))}else o.push(zt(u))}return o}function Ur(s,o){return s[ut]=o,s.prototype[ut]=o,s}function Js(s){return s[ut]}function Rs(s){return{toString:s}.toString()}var va=function(s){return s[s.OnPush=0]="OnPush",s[s.Default=1]="Default",s}(va||{}),Ji=function(s){return s[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",s}(Ji||{});const Ps={},fn=[],Kn=U({\u0275cmp:U}),Yn=U({\u0275dir:U}),lc=U({\u0275pipe:U}),po=U({\u0275mod:U}),ks=U({\u0275fac:U}),Ke=U({__NG_ELEMENT_ID__:U}),Fi=U({__NG_ENV_ID__:U});function Li(s,o,c){let u=s.length;for(;;){const h=s.indexOf(o,c);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const p=o.length;if(h+p===u||s.charCodeAt(h+p)<=32)return h}c=h+1}}function jo(s,o,c){let u=0;for(;u<c.length;){const h=c[u];if("number"==typeof h){if(0!==h)break;u++;const p=c[u++],v=c[u++],w=c[u++];s.setAttribute(o,v,w,p)}else{const p=h,v=c[++u];gl(p)?s.setProperty(o,p,v):s.setAttribute(o,p,v),u++}}return u}function pl(s){return 3===s||4===s||6===s}function gl(s){return 64===s.charCodeAt(0)}function uc(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let c=-1;for(let u=0;u<o.length;u++){const h=o[u];"number"==typeof h?c=h:0===c||Qs(s,c,h,null,-1===c||2===c?o[++u]:null)}}return s}function Qs(s,o,c,u,h){let p=0,v=s.length;if(-1===o)v=-1;else for(;p<s.length;){const w=s[p++];if("number"==typeof w){if(w===o){v=-1;break}if(w>o){v=p-1;break}}}for(;p<s.length;){const w=s[p];if("number"==typeof w)break;if(w===c){if(null===u)return void(null!==h&&(s[p+1]=h));if(u===s[p+1])return void(s[p+2]=h)}p++,null!==u&&p++,null!==h&&p++}-1!==v&&(s.splice(v,0,o),p=v+1),s.splice(p++,0,c),null!==u&&s.splice(p++,0,u),null!==h&&s.splice(p++,0,h)}const $o="ng-template";function qd(s,o,c){let u=0,h=!0;for(;u<s.length;){let p=s[u++];if("string"==typeof p&&h){const v=s[u++];if(c&&"class"===p&&-1!==Li(v.toLowerCase(),o,0))return!0}else{if(1===p){for(;u<s.length&&"string"==typeof(p=s[u++]);)if(p.toLowerCase()===o)return!0;return!1}"number"==typeof p&&(h=!1)}}return!1}function go(s){return 4===s.type&&s.value!==$o}function n_(s,o,c){return o===(4!==s.type||c?s.value:$o)}function pp(s,o,c){let u=4;const h=s.attrs||[],p=function gp(s){for(let o=0;o<s.length;o++)if(pl(s[o]))return o;return s.length}(h);let v=!1;for(let w=0;w<o.length;w++){const D=o[w];if("number"!=typeof D){if(!v)if(4&u){if(u=2|1&u,""!==D&&!n_(s,D,c)||""===D&&1===o.length){if(pn(u))return!1;v=!0}}else{const A=8&u?D:o[++w];if(8&u&&null!==s.attrs){if(!qd(s.attrs,A,c)){if(pn(u))return!1;v=!0}continue}const V=Ln(8&u?"class":D,h,go(s),c);if(-1===V){if(pn(u))return!1;v=!0;continue}if(""!==A){let W;W=V>p?"":h[V+1].toLowerCase();const X=8&u?W:null;if(X&&-1!==Li(X,A,0)||2&u&&A!==W){if(pn(u))return!1;v=!0}}}}else{if(!v&&!pn(u)&&!pn(D))return!1;if(v&&pn(D))continue;v=!1,u=D|1&u}}return pn(u)||v}function pn(s){return 0==(1&s)}function Ln(s,o,c,u){if(null===o)return-1;let h=0;if(u||!c){let p=!1;for(;h<o.length;){const v=o[h];if(v===s)return h;if(3===v||6===v)p=!0;else{if(1===v||2===v){let w=o[++h];for(;"string"==typeof w;)w=o[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=p?1:2}return-1}return function Zd(s,o){let c=s.indexOf(4);if(c>-1)for(c++;c<s.length;){const u=s[c];if("number"==typeof u)return-1;if(u===o)return c;c++}return-1}(o,s)}function ml(s,o,c=!1){for(let u=0;u<o.length;u++)if(pp(s,o[u],c))return!0;return!1}function dc(s,o){e:for(let c=0;c<o.length;c++){const u=o[c];if(s.length===u.length){for(let h=0;h<s.length;h++)if(s[h]!==u[h])continue e;return!0}}return!1}function yu(s,o){return s?":not("+o.trim()+")":o}function Ho(s){let o=s[0],c=1,u=2,h="",p=!1;for(;c<s.length;){let v=s[c];if("string"==typeof v)if(2&u){const w=s[++c];h+="["+v+(w.length>0?'="'+w+'"':"")+"]"}else 8&u?h+="."+v:4&u&&(h+=" "+v);else""!==h&&!pn(v)&&(o+=yu(p,h),h=""),u=v,p=p||!pn(u);c++}return""!==h&&(o+=yu(p,h)),o}function bu(s){return Rs(()=>{const o=ya(s),c={...o,decls:s.decls,vars:s.vars,template:s.template,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,onPush:s.changeDetection===va.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&s.dependencies||null,getStandaloneInjector:null,signals:s.signals??!1,data:s.data||{},encapsulation:s.encapsulation||Ji.Emulated,styles:s.styles||fn,_:null,schemas:s.schemas||null,tView:null,id:""};eo(c);const u=s.dependencies;return c.directiveDefs=to(u,!1),c.pipeDefs=to(u,!0),c.id=function Qi(s){let o=0;const c=[s.selectors,s.ngContentSelectors,s.hostVars,s.hostAttrs,s.consts,s.vars,s.decls,s.encapsulation,s.standalone,s.signals,s.exportAs,JSON.stringify(s.inputs),JSON.stringify(s.outputs),Object.getOwnPropertyNames(s.type.prototype),!!s.contentQueries,!!s.viewQuery].join("|");for(const h of c)o=Math.imul(31,o)+h.charCodeAt(0)<<0;return o+=2147483648,"c"+o}(c),c})}function wu(s){return tn(s)||jr(s)}function hc(s){return null!==s}function Du(s){return Rs(()=>({type:s.type,bootstrap:s.bootstrap||fn,declarations:s.declarations||fn,imports:s.imports||fn,exports:s.exports||fn,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function Yd(s,o){if(null==s)return Ps;const c={};for(const u in s)if(s.hasOwnProperty(u)){let h=s[u],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),c[h]=u,o&&(o[h]=p)}return c}function Jd(s){return Rs(()=>{const o=ya(s);return eo(o),o})}function Eu(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function tn(s){return s[Kn]||null}function jr(s){return s[Yn]||null}function $r(s){return s[lc]||null}function fc(s){const o=tn(s)||jr(s)||$r(s);return null!==o&&o.standalone}function Bi(s,o){const c=s[po]||null;if(!c&&!0===o)throw new Error(`Type ${te(s)} does not have '\u0275mod' property.`);return c}function ya(s){const o={};return{type:s.type,providersResolver:null,factory:null,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:o,inputTransforms:null,inputConfig:s.inputs||Ps,exportAs:s.exportAs||null,standalone:!0===s.standalone,signals:!0===s.signals,selectors:s.selectors||fn,viewQuery:s.viewQuery||null,features:s.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Yd(s.inputs,o),outputs:Yd(s.outputs)}}function eo(s){s.features?.forEach(o=>o(s))}function to(s,o){if(!s)return null;const c=o?$r:wu;return()=>("function"==typeof s?s():s).map(u=>c(u)).filter(hc)}const lr=0,st=1,Vt=2,xn=3,vi=4,mo=5,Hr=6,ba=7,ir=8,Vi=9,Go=10,$t=11,Fs=12,_l=13,ri=14,vr=15,pc=16,gc=17,ps=18,mc=19,Iu=20,zo=21,Ls=22,_c=23,_o=24,nn=25,Cu=1,Tu=2,ii=7,yi=9,Gr=11;function Kr(s){return Array.isArray(s)&&"object"==typeof s[Cu]}function si(s){return Array.isArray(s)&&!0===s[Cu]}function Su(s){return 0!=(4&s.flags)}function vo(s){return s.componentOffset>-1}function Xi(s){return 1==(1&s.flags)}function es(s){return!!s.template}function vc(s){return 0!=(512&s[Vt])}function bi(s,o){return s.hasOwnProperty(ks)?s[ks]:null}let Yr=null,yc=!1;function ur(s){const o=Yr;return Yr=s,o}const ms={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Ru(s){if(!Ta(s)||s.dirty){if(!s.producerMustRecompute(s)&&!ts(s))return void(s.dirty=!1);s.producerRecomputeValue(s),s.dirty=!1}}function yp(s){s.dirty=!0,function Pu(s){if(void 0===s.liveConsumerNode)return;const o=yc;yc=!0;try{for(const c of s.liveConsumerNode)c.dirty||yp(c)}finally{yc=o}}(s),s.consumerMarkedDirty?.(s)}function bo(s){return s&&(s.nextProducerIndex=0),ur(s)}function Ia(s,o){if(ur(o),s&&void 0!==s.producerNode&&void 0!==s.producerIndexOfThis&&void 0!==s.producerLastReadVersion){if(Ta(s))for(let c=s.nextProducerIndex;c<s.producerNode.length;c++)wi(s.producerNode[c],s.producerIndexOfThis[c]);for(let c=s.nextProducerIndex;c<s.producerNode.length;c++)s.producerNode.pop(),s.producerLastReadVersion.pop(),s.producerIndexOfThis.pop()}}function ts(s){Sa(s);for(let o=0;o<s.producerNode.length;o++){const c=s.producerNode[o],u=s.producerLastReadVersion[o];if(u!==c.version||(Ru(c),u!==c.version))return!0}return!1}function nh(s){if(Sa(s),Ta(s))for(let o=0;o<s.producerNode.length;o++)wi(s.producerNode[o],s.producerIndexOfThis[o]);s.producerNode.length=s.producerLastReadVersion.length=s.producerIndexOfThis.length=0,s.liveConsumerNode&&(s.liveConsumerNode.length=s.liveConsumerIndexOfThis.length=0)}function wi(s,o){if(function bl(s){s.liveConsumerNode??=[],s.liveConsumerIndexOfThis??=[]}(s),Sa(s),1===s.liveConsumerNode.length)for(let u=0;u<s.producerNode.length;u++)wi(s.producerNode[u],s.producerIndexOfThis[u]);const c=s.liveConsumerNode.length-1;if(s.liveConsumerNode[o]=s.liveConsumerNode[c],s.liveConsumerIndexOfThis[o]=s.liveConsumerIndexOfThis[c],s.liveConsumerNode.length--,s.liveConsumerIndexOfThis.length--,o<s.liveConsumerNode.length){const u=s.liveConsumerIndexOfThis[o],h=s.liveConsumerNode[o];Sa(h),h.producerIndexOfThis[u]=o}}function Ta(s){return s.consumerIsAlwaysLive||(s?.liveConsumerNode?.length??0)>0}function Sa(s){s.producerNode??=[],s.producerIndexOfThis??=[],s.producerLastReadVersion??=[]}let Dl=null;function Il(s){const o=ur(null);try{return s()}finally{ur(o)}}const rh=()=>{},ih={...ms,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:s=>{s.schedule(s.ref)},hasRun:!1,cleanupFn:rh};class oh{constructor(o,c,u){this.previousValue=o,this.currentValue=c,this.firstChange=u}isFirstChange(){return this.firstChange}}function Ec(){return Cl}function Cl(s){return s.type.prototype.ngOnChanges&&(s.setInput=Bu),ah}function ah(){const s=Sl(this),o=s?.current;if(o){const c=s.previous;if(c===Ps)s.previous=o;else for(let u in o)c[u]=o[u];s.current=null,this.ngOnChanges(o)}}function Bu(s,o,c,u){const h=this.declaredInputs[c],p=Sl(s)||function Ep(s,o){return s[Tl]=o}(s,{previous:Ps,current:null}),v=p.current||(p.current={}),w=p.previous,D=w[h];v[h]=new oh(D&&D.currentValue,o,w===Ps),s[u]=o}Ec.ngInherit=!0;const Tl="__ngSimpleChanges__";function Sl(s){return s[Tl]||null}const _s=function(s,o,c){};function _n(s){for(;Array.isArray(s);)s=s[lr];return s}function Oa(s,o){return _n(o[s])}function Di(s,o){return _n(o[s.index])}function Al(s,o){return s.data[o]}function Ei(s,o){const c=o[s];return Kr(c)?c:c[lr]}function Zo(s,o){return null==o?null:s[o]}function d_(s){s[gc]=0}function qy(s){1024&s[Vt]||(s[Vt]|=1024,Ky(s,1))}function Zy(s){1024&s[Vt]&&(s[Vt]&=-1025,Ky(s,-1))}function Ky(s,o){let c=s[xn];if(null===c)return;c[mo]+=o;let u=c;for(c=c[xn];null!==c&&(1===o&&1===u[mo]||-1===o&&0===u[mo]);)c[mo]+=o,u=c,c=c[xn]}const Bt={lFrame:Ol(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Na(){return Bt.bindingsEnabled}function Us(){return null!==Bt.skipHydrationRootTNode}function Re(){return Bt.lFrame.lView}function mn(){return Bt.lFrame.tView}function ns(s){return Bt.lFrame.contextLView=s,s[ir]}function Mp(s){return Bt.lFrame.contextLView=null,s}function zn(){let s=Ra();for(;null!==s&&64===s.type;)s=s.parent;return s}function Ra(){return Bt.lFrame.currentTNode}function Jn(){const s=Bt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}function Ui(s,o){const c=Bt.lFrame;c.currentTNode=s,c.isParent=o}function Jr(){return Bt.lFrame.isParent}function dr(){Bt.lFrame.isParent=!1}function Ii(){const s=Bt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function Tc(){return Bt.lFrame.bindingIndex++}function vs(s){const o=Bt.lFrame,c=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,c}function Pa(s){Bt.lFrame.inI18n=s}function Sc(s,o){const c=Bt.lFrame;c.bindingIndex=c.bindingRootIndex=s,Ac(o)}function Ac(s){Bt.lFrame.currentDirectiveIndex=s}function Rp(){return Bt.lFrame.currentQueryIndex}function Gu(s){Bt.lFrame.currentQueryIndex=s}function Pp(s){const o=s[st];return 2===o.type?o.declTNode:1===o.type?s[Hr]:null}function kp(s,o,c){if(c&at.SkipSelf){let h=o,p=s;for(;!(h=h.parent,null!==h||c&at.Host||(h=Pp(p),null===h||(p=p[ri],10&h.type))););if(null===h)return!1;o=h,s=p}const u=Bt.lFrame=Mr();return u.currentTNode=o,u.lView=s,!0}function ai(s){const o=Mr(),c=s[st];Bt.lFrame=o,o.currentTNode=c.firstChild,o.lView=s,o.tView=c,o.contextLView=s,o.bindingIndex=c.bindingStartIndex,o.inI18n=!1}function Mr(){const s=Bt.lFrame,o=null===s?null:s.child;return null===o?Ol(s):o}function Ol(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Qn(){const s=Bt.lFrame;return Bt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Rt=Qn;function ji(){const s=Qn();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function ci(){return Bt.lFrame.selectedIndex}function io(s){Bt.lFrame.selectedIndex=s}function Vn(){const s=Bt.lFrame;return Al(s.tView,s.selectedIndex)}let Oc=!0;function rs(){return Oc}function is(s){Oc=s}function xc(s,o){for(let c=o.directiveStart,u=o.directiveEnd;c<u;c++){const p=s.data[c].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:w,ngAfterViewInit:D,ngAfterViewChecked:A,ngOnDestroy:N}=p;v&&(s.contentHooks??=[]).push(-c,v),w&&((s.contentHooks??=[]).push(c,w),(s.contentCheckHooks??=[]).push(c,w)),D&&(s.viewHooks??=[]).push(-c,D),A&&((s.viewHooks??=[]).push(c,A),(s.viewCheckHooks??=[]).push(c,A)),null!=N&&(s.destroyHooks??=[]).push(c,N)}}function zr(s,o,c){vh(s,o,3,c)}function ka(s,o,c,u){(3&s[Vt])===c&&vh(s,o,c,u)}function zu(s,o){let c=s[Vt];(3&c)===o&&(c&=8191,c+=1,s[Vt]=c)}function vh(s,o,c,u){const p=u??-1,v=o.length-1;let w=0;for(let D=void 0!==u?65535&s[gc]:0;D<v;D++)if("number"==typeof o[D+1]){if(w=o[D],null!=u&&w>=u)break}else o[D]<0&&(s[gc]+=65536),(w<p||-1==p)&&(Rl(s,c,o,D),s[gc]=(4294901760&s[gc])+D+2),D++}function Io(s,o){_s(4,s,o);const c=ur(null);try{o.call(s)}finally{ur(c),_s(5,s,o)}}function Rl(s,o,c,u){const h=c[u]<0,p=c[u+1],w=s[h?-c[u]:c[u]];h?s[Vt]>>13<s[gc]>>16&&(3&s[Vt])===o&&(s[Vt]+=8192,Io(w,p)):Io(w,p)}const js=-1;class li{constructor(o,c,u){this.factory=o,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=u}}function Nc(s){return s!==js}function wn(s){return 32767&s}function Un(s,o){let c=function Or(s){return s>>16}(s),u=o;for(;c>0;)u=u[ri],c--;return u}let Ko=!0;function Wn(s){const o=Ko;return Ko=s,o}const Rc=255,Pl=5;let wh=0;const Nr={};function hr(s,o){const c=kl(s,o);if(-1!==c)return c;const u=o[st];u.firstCreatePass&&(s.injectorIndex=o.length,so(u.data,s),so(o,null),so(u.blueprint,null));const h=oo(s,o),p=s.injectorIndex;if(Nc(h)){const v=wn(h),w=Un(h,o),D=w[st].data;for(let A=0;A<8;A++)o[p+A]=w[v+A]|D[v+A]}return o[p+8]=h,p}function so(s,o){s.push(0,0,0,0,0,0,0,0,o)}function kl(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function oo(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let c=0,u=null,h=o;for(;null!==h;){if(u=Ku(h),null===u)return js;if(c++,h=h[ri],-1!==u.injectorIndex)return u.injectorIndex|c<<16}return js}function Yo(s,o,c){!function Pc(s,o,c){let u;"string"==typeof c?u=c.charCodeAt(0)||0:c.hasOwnProperty(Ke)&&(u=c[Ke]),null==u&&(u=c[Ke]=wh++);const h=u&Rc;o.data[s+(h>>Pl)]|=1<<h}(s,o,c)}function Co(s,o,c){if(c&at.Optional||void 0!==s)return s;it()}function Jo(s,o,c,u){if(c&at.Optional&&void 0===u&&(u=null),!(c&(at.Self|at.Host))){const h=s[Vi],p=on(void 0);try{return h?h.get(o,u,c&at.Optional):tr(o,u,c&at.Optional)}finally{on(p)}}return Co(u,0,c)}function Fa(s,o,c,u=at.Default,h){if(null!==s){if(2048&o[Vt]&&!(u&at.Self)){const v=function Vp(s,o,c,u,h){let p=s,v=o;for(;null!==p&&null!==v&&2048&v[Vt]&&!(512&v[Vt]);){const w=sr(p,v,c,u|at.Self,Nr);if(w!==Nr)return w;let D=p.parent;if(!D){const A=v[Iu];if(A){const N=A.get(c,Nr,u);if(N!==Nr)return N}D=Ku(v),v=v[ri]}p=D}return h}(s,o,c,u,Nr);if(v!==Nr)return v}const p=sr(s,o,c,u,Nr);if(p!==Nr)return p}return Jo(o,c,u,h)}function sr(s,o,c,u,h){const p=function Xo(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(Ke)?s[Ke]:void 0;return"number"==typeof o?o>=0?o&Rc:ao:o}(c);if("function"==typeof p){if(!kp(o,s,u))return u&at.Host?Co(h,0,u):Jo(o,c,u,h);try{let v;if(v=p(u),null!=v||u&at.Optional)return v;it()}finally{Rt()}}else if("number"==typeof p){let v=null,w=kl(s,o),D=js,A=u&at.Host?o[vr][Hr]:null;for((-1===w||u&at.SkipSelf)&&(D=-1===w?oo(s,o):o[w+8],D!==js&&Zu(u,!1)?(v=o[st],w=wn(D),o=Un(D,o)):w=-1);-1!==w;){const N=o[st];if(ea(p,w,N.data)){const V=Jt(w,o,c,v,u,A);if(V!==Nr)return V}D=o[w+8],D!==js&&Zu(u,o[st].data[w+8]===A)&&ea(p,w,o)?(v=N,w=wn(D),o=Un(D,o)):w=-1}}return h}function Jt(s,o,c,u,h,p){const v=o[st],w=v.data[s+8],N=To(w,v,c,null==u?vo(w)&&Ko:u!=v&&0!=(3&w.type),h&at.Host&&p===w);return null!==N?Qo(o,v,N,w):Nr}function To(s,o,c,u,h){const p=s.providerIndexes,v=o.data,w=1048575&p,D=s.directiveStart,N=p>>20,W=h?w+N:s.directiveEnd;for(let X=u?w:w+N;X<W;X++){const Ie=v[X];if(X<D&&c===Ie||X>=D&&Ie.type===c)return X}if(h){const X=v[D];if(X&&es(X)&&X.type===c)return D}return null}function Qo(s,o,c,u){let h=s[c];const p=o.data;if(function bs(s){return s instanceof li}(h)){const v=h;v.resolving&&function He(s,o){const c=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new se(-200,`Circular dependency in DI detected for ${s}${c}`)}(function Te(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():ae(s)}(p[c]));const w=Wn(v.canSeeViewProviders);v.resolving=!0;const A=v.injectImpl?on(v.injectImpl):null;kp(s,u,at.Default);try{h=s[c]=v.factory(void 0,p,s,u),o.firstCreatePass&&c>=u.directiveStart&&function Er(s,o,c){const{ngOnChanges:u,ngOnInit:h,ngDoCheck:p}=o.type.prototype;if(u){const v=Cl(o);(c.preOrderHooks??=[]).push(s,v),(c.preOrderCheckHooks??=[]).push(s,v)}h&&(c.preOrderHooks??=[]).push(0-s,h),p&&((c.preOrderHooks??=[]).push(s,p),(c.preOrderCheckHooks??=[]).push(s,p))}(c,p[c],o)}finally{null!==A&&on(A),Wn(w),v.resolving=!1,Rt()}}return h}function ea(s,o,c){return!!(c[o+(s>>Pl)]&1<<s)}function Zu(s,o){return!(s&at.Self||s&at.Host&&o)}class or{constructor(o,c){this._tNode=o,this._lView=c}get(o,c,u){return Fa(this._tNode,this._lView,o,qr(u),c)}}function ao(){return new or(zn(),Re())}function So(s){return Rs(()=>{const o=s.prototype.constructor,c=o[ks]||La(o),u=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==u;){const p=h[ks]||La(h);if(p&&p!==c)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function La(s){return rt(s)?()=>{const o=La(Be(s));return o&&o()}:bi(s)}function Ku(s){const o=s[st],c=o.type;return 2===c?o.declTNode:1===c?s[Hr]:null}function Fl(s){return function qu(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const c=s.attrs;if(c){const u=c.length;let h=0;for(;h<u;){const p=c[h];if(pl(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<u&&"string"==typeof c[h];)h++;else{if(p===o)return c[h+1];h+=2}}}return null}(zn(),s)}const Va="__parameters__";function R(s,o,c){return Rs(()=>{const u=function O(s){return function(...c){if(s){const u=s(...c);for(const h in u)this[h]=u[h]}}}(o);function h(...p){if(this instanceof h)return u.apply(this,p),this;const v=new h(...p);return w.annotation=v,w;function w(D,A,N){const V=D.hasOwnProperty(Va)?D[Va]:Object.defineProperty(D,Va,{value:[]})[Va];for(;V.length<=N;)V.push(null);return(V[N]=V[N]||[]).push(v),D}}return c&&(h.prototype=Object.create(c.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}function ui(s,o){s.forEach(c=>Array.isArray(c)?ui(c,o):o(c))}function p_(s,o,c){o>=s.length?s.push(c):s.splice(o,0,c)}function Up(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function ta(s,o){const c=[];for(let u=0;u<s;u++)c.push(o);return c}function ws(s,o,c){let u=Ll(s,o);return u>=0?s[1|u]=c:(u=~u,function m_(s,o,c,u){let h=s.length;if(h==o)s.push(c,u);else if(1===h)s.push(u,s[0]),s[0]=c;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=c,s[o+1]=u}}(s,u,o,c)),u}function $p(s,o){const c=Ll(s,o);if(c>=0)return s[1|c]}function Ll(s,o){return function Hp(s,o,c){let u=0,h=s.length>>c;for(;h!==u;){const p=u+(h-u>>1),v=s[p<<c];if(o===v)return p<<c;v>o?h=p:u=p+1}return~(h<<c)}(s,o,1)}const Ju=Ur(R("Optional"),8),Lc=Ur(R("SkipSelf"),4);function Sh(s){return 128==(128&s.flags)}var rd=function(s){return s[s.Important=1]="Important",s[s.DashCase=2]="DashCase",s}(rd||{});const Hl=new Map;let o0=0;const sd="__ngContext__";function Si(s,o){Kr(o)?(s[sd]=o[mc],function tg(s){Hl.set(s[mc],s)}(o)):s[sd]=o}let B;function j(s,o){return B(s,o)}function be(s){const o=s[xn];return si(o)?o[xn]:o}function Tt(s){return Rn(s[Fs])}function en(s){return Rn(s[vi])}function Rn(s){for(;null!==s&&!si(s);)s=s[vi];return s}function Cr(s,o,c,u,h){if(null!=u){let p,v=!1;si(u)?p=u:Kr(u)&&(v=!0,u=u[lr]);const w=_n(u);0===s&&null!==c?null==h?iD(o,c,w):ad(o,c,w,h||null,!0):1===s&&null!==c?ad(o,c,w,h||null,!0):2===s?function A_(s,o,c){const u=S_(s,o);u&&function YT(s,o,c,u){s.removeChild(o,c,u)}(s,u,o,c)}(o,w,v):3===s&&o.destroyNode(w),null!=p&&function QT(s,o,c,u,h){const p=c[ii];p!==_n(c)&&Cr(o,s,u,p,h);for(let w=Gr;w<c.length;w++){const D=c[w];ag(D[st],D,s,o,u,p)}}(o,s,p,c,h)}}function di(s,o){return s.createText(o)}function Gl(s,o,c){return s.createElement(o,c)}function C_(s,o){const c=s[yi],u=c.indexOf(o);Zy(o),c.splice(u,1)}function T_(s,o){if(s.length<=Gr)return;const c=Gr+o,u=s[c];if(u){const h=u[pc];null!==h&&h!==s&&C_(h,u),o>0&&(s[c-1][vi]=u[vi]);const p=Up(s,Gr+o);!function E_(s,o){ag(s,o,o[$t],2,null,null),o[lr]=null,o[Hr]=null}(u[st],u);const v=p[ps];null!==v&&v.detachView(p[st]),u[xn]=null,u[vi]=null,u[Vt]&=-129}return u}function u0(s,o){if(!(256&o[Vt])){const c=o[$t];o[_c]&&nh(o[_c]),o[_o]&&nh(o[_o]),c.destroyNode&&ag(s,o,c,3,null,null),function I_(s){let o=s[Fs];if(!o)return nD(s[st],s);for(;o;){let c=null;if(Kr(o))c=o[Fs];else{const u=o[Gr];u&&(c=u)}if(!c){for(;o&&!o[vi]&&o!==s;)Kr(o)&&nD(o[st],o),o=o[xn];null===o&&(o=s),Kr(o)&&nD(o[st],o),c=o&&o[vi]}o=c}}(o)}}function nD(s,o){if(!(256&o[Vt])){o[Vt]&=-129,o[Vt]|=256,function rD(s,o){let c;if(null!=s&&null!=(c=s.destroyHooks))for(let u=0;u<c.length;u+=2){const h=o[c[u]];if(!(h instanceof li)){const p=c[u+1];if(Array.isArray(p))for(let v=0;v<p.length;v+=2){const w=h[p[v]],D=p[v+1];_s(4,w,D);try{D.call(w)}finally{_s(5,w,D)}}else{_s(4,h,p);try{p.call(h)}finally{_s(5,h,p)}}}}}(s,o),function KT(s,o){const c=s.cleanup,u=o[ba];if(null!==c)for(let p=0;p<c.length-1;p+=2)if("string"==typeof c[p]){const v=c[p+3];v>=0?u[v]():u[-v].unsubscribe(),p+=2}else c[p].call(u[c[p+1]]);null!==u&&(o[ba]=null);const h=o[zo];if(null!==h){o[zo]=null;for(let p=0;p<h.length;p++)(0,h[p])()}}(s,o),1===o[st].type&&o[$t].destroy();const c=o[pc];if(null!==c&&si(o[xn])){c!==o[xn]&&C_(c,o);const u=o[ps];null!==u&&u.detachView(s)}!function Vc(s){Hl.delete(s[mc])}(o)}}function xh(s,o,c){return od(s,o.parent,c)}function od(s,o,c){let u=o;for(;null!==u&&40&u.type;)u=(o=u).parent;if(null===u)return c[lr];{const{componentOffset:h}=u;if(h>-1){const{encapsulation:p}=s.data[u.directiveStart+h];if(p===Ji.None||p===Ji.Emulated)return null}return Di(u,c)}}function ad(s,o,c,u,h){s.insertBefore(o,c,u,h)}function iD(s,o,c){s.appendChild(o,c)}function sD(s,o,c,u,h){null!==u?ad(s,o,c,u,h):iD(s,o,c)}function S_(s,o){return s.parentNode(o)}function oD(s,o,c){return d0(s,o,c)}function aD(s,o,c){return 40&s.type?Di(s,c):null}let h0,M_,dD,O_,d0=aD;function ig(s,o){d0=s,h0=o}function sg(s,o,c,u){const h=xh(s,u,o),p=o[$t],w=oD(u.parent||o[Hr],u,o);if(null!=h)if(Array.isArray(c))for(let D=0;D<c.length;D++)sD(p,h,c[D],w,!1);else sD(p,h,c,w,!1);void 0!==h0&&h0(p,u,o,c,h)}function Wa(s,o){if(null!==o){const c=o.type;if(3&c)return Di(o,s);if(4&c)return p0(-1,s[o.index]);if(8&c){const u=o.child;if(null!==u)return Wa(s,u);{const h=s[o.index];return si(h)?p0(-1,h):_n(h)}}if(32&c)return j(o,s)()||_n(s[o.index]);{const u=f0(s,o);return null!==u?Array.isArray(u)?u[0]:Wa(be(s[vr]),u):Wa(s,o.next)}}return null}function f0(s,o){return null!==o?s[vr][Hr].projection[o.projection]:null}function p0(s,o){const c=Gr+s+1;if(c<o.length){const u=o[c],h=u[st].firstChild;if(null!==h)return Wa(u,h)}return o[ii]}function og(s,o,c,u,h,p,v){for(;null!=c;){const w=u[c.index],D=c.type;if(v&&0===o&&(w&&Si(_n(w),u),c.flags|=2),32!=(32&c.flags))if(8&D)og(s,o,c.child,u,h,p,!1),Cr(o,s,h,w,p);else if(32&D){const A=j(c,u);let N;for(;N=A();)Cr(o,s,h,N,p);Cr(o,s,h,w,p)}else 16&D?m0(s,o,u,c,h,p):Cr(o,s,h,w,p);c=v?c.projectionNext:c.next}}function ag(s,o,c,u,h,p){og(c,u,s.firstChild,o,h,p,!1)}function m0(s,o,c,u,h,p){const v=c[vr],D=v[Hr].projection[u.projection];if(Array.isArray(D))for(let A=0;A<D.length;A++)Cr(o,s,h,D[A],p);else{let A=D;const N=v[xn];Sh(u)&&(A.flags|=128),og(s,o,A,N,h,p,!0)}}function lD(s,o,c){""===c?s.removeAttribute(o,"class"):s.setAttribute(o,"class",c)}function cg(s,o,c){const{mergedAttrs:u,classes:h,styles:p}=c;null!==u&&jo(s,o,u),null!==h&&lD(s,o,h),null!==p&&function eS(s,o,c){s.setAttribute(o,"style",c)}(s,o,p)}function Nh(s){return function _0(){if(void 0===M_&&(M_=null,Gt.trustedTypes))try{M_=Gt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return M_}()?.createHTML(s)||s}function hD(s){dD=s}function cd(){if(void 0!==dD)return dD;if(typeof document<"u")return document;throw new se(210,!1)}function gD(s){return function v0(){if(void 0===O_&&(O_=null,Gt.trustedTypes))try{O_=Gt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return O_}()?.createScriptURL(s)||s}class mD{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Dt})`}}function jc(s){return s instanceof mD?s.changingThisBreaksApplicationSecurity:s}function Wl(s,o){const c=function vD(s){return s instanceof mD&&s.getTypeName()||null}(s);if(null!=c&&c!==o){if("ResourceURL"===c&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${c} (see ${Dt})`)}return c===o}class sS{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const c=(new window.DOMParser).parseFromString(Nh(o),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(o):(c.removeChild(c.firstChild),c)}catch{return null}}}class oS{constructor(o){this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(o){const c=this.inertDocument.createElement("template");return c.innerHTML=Nh(o),c}}const yD=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function w0(s){return(s=String(s)).match(yD)?s:"unsafe:"+s}function $c(s){const o={};for(const c of s.split(","))o[c]=!0;return o}function dg(...s){const o={};for(const c of s)for(const u in c)c.hasOwnProperty(u)&&(o[u]=!0);return o}const bD=$c("area,br,col,hr,img,wbr"),os=$c("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),wD=$c("rp,rt"),E0=dg(bD,dg(os,$c("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),dg(wD,$c("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),dg(wD,os)),x_=$c("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),DD=dg(x_,$c("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),$c("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"));var ld=function(s){return s[s.NONE=0]="NONE",s[s.HTML=1]="HTML",s[s.STYLE=2]="STYLE",s[s.SCRIPT=3]="SCRIPT",s[s.URL=4]="URL",s[s.RESOURCE_URL=5]="RESOURCE_URL",s}(ld||{});function SD(s){const o=R_();return o?o.sanitize(ld.URL,s)||"":Wl(s,"URL")?jc(s):w0(ae(s))}function AD(s){const o=R_();if(o)return gD(o.sanitize(ld.RESOURCE_URL,s)||"");if(Wl(s,"ResourceURL"))return gD(jc(s));throw new se(904,!1)}function lS(s,o,c){return function Dx(s,o){return"src"===o&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===o&&("base"===s||"link"===s)?AD:SD}(o,c)(s)}function R_(){const s=Re();return s&&s[Go].sanitizer}class Pn{constructor(o,c){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=Ut({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const hg=new Pn("ENVIRONMENT_INITIALIZER"),OD=new Pn("INJECTOR",-1),T0=new Pn("INJECTOR_DEF_TYPES");class S0{get(o,c=Xe){if(c===Xe){const u=new Error(`NullInjectorError: No provider for ${te(o)}!`);throw u.name="NullInjectorError",u}return c}}function uS(...s){return{\u0275providers:ND(0,s),\u0275fromNgModule:!0}}function ND(s,...o){const c=[],u=new Set;let h;const p=v=>{c.push(v)};return ui(o,v=>{const w=v;fg(w,p,[],u)&&(h||=[],h.push(w))}),void 0!==h&&RD(h,p),c}function RD(s,o){for(let c=0;c<s.length;c++){const{ngModule:u,providers:h}=s[c];PD(h,p=>{o(p,u)})}}function fg(s,o,c,u){if(!(s=Be(s)))return!1;let h=null,p=xe(s);const v=!p&&tn(s);if(p||v){if(v&&!v.standalone)return!1;h=s}else{const D=s.ngModule;if(p=xe(D),!p)return!1;h=D}const w=u.has(h);if(v){if(w)return!1;if(u.add(h),v.dependencies){const D="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const A of D)fg(A,o,c,u)}}else{if(!p)return!1;{if(null!=p.imports&&!w){let A;u.add(h);try{ui(p.imports,N=>{fg(N,o,c,u)&&(A||=[],A.push(N))})}finally{}void 0!==A&&RD(A,o)}if(!w){const A=bi(h)||(()=>new h);o({provide:h,useFactory:A,deps:fn},h),o({provide:T0,useValue:h,multi:!0},h),o({provide:hg,useValue:()=>zt(h),multi:!0},h)}const D=p.providers;if(null!=D&&!w){const A=s;PD(D,N=>{o(N,A)})}}}return h!==s&&void 0!==s.providers}function PD(s,o){for(let c of s)Ne(c)&&(c=c.\u0275providers),Array.isArray(c)?PD(c,o):o(c)}const Cx=U({provide:String,useValue:U});function kD(s){return null!==s&&"object"==typeof s&&Cx in s}function Ph(s){return"function"==typeof s}const P_=new Pn("Set Injector scope."),ud={},fS={};let A0;function k_(){return void 0===A0&&(A0=new S0),A0}class sa{}class pg extends sa{get destroyed(){return this._destroyed}constructor(o,c,u,h){super(),this.parent=c,this.source=u,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,mg(o,v=>this.processProvider(v)),this.records.set(OD,Hc(void 0,this)),h.has("environment")&&this.records.set(sa,Hc(void 0,this));const p=this.records.get(P_);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(T0.multi,fn,at.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const c of this._ngOnDestroyHooks)c.ngOnDestroy();const o=this._onDestroyHooks;this._onDestroyHooks=[];for(const c of o)c()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(o){return this.assertNotDestroyed(),this._onDestroyHooks.push(o),()=>this.removeOnDestroy(o)}runInContext(o){this.assertNotDestroyed();const c=vt(this),u=on(void 0);try{return o()}finally{vt(c),on(u)}}get(o,c=Xe,u=at.Default){if(this.assertNotDestroyed(),o.hasOwnProperty(Fi))return o[Fi](this);u=qr(u);const p=vt(this),v=on(void 0);try{if(!(u&at.SkipSelf)){let D=this.records.get(o);if(void 0===D){const A=function gS(s){return"function"==typeof s||"object"==typeof s&&s instanceof Pn}(o)&&sn(o);D=A&&this.injectableDefInScope(A)?Hc(gg(o),ud):null,this.records.set(o,D)}if(null!=D)return this.hydrate(o,D)}return(u&at.Self?k_():this.parent).get(o,c=u&at.Optional&&c===Xe?null:c)}catch(w){if("NullInjectorError"===w.name){if((w[wt]=w[wt]||[]).unshift(te(o)),p)throw w;return function vu(s,o,c,u){const h=s[wt];throw o[J]&&h.unshift(o[J]),s.message=function fp(s,o,c,u=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let h=te(o);if(Array.isArray(o))h=o.map(te).join(" -> ");else if("object"==typeof o){let p=[];for(let v in o)if(o.hasOwnProperty(v)){let w=o[v];p.push(v+":"+("string"==typeof w?JSON.stringify(w):te(w)))}h=`{${p.join(", ")}}`}return`${c}${u?"("+u+")":""}[${h}]: ${s.replace(z,"\n  ")}`}("\n"+s.message,h,c,u),s.ngTokenPath=h,s[wt]=null,s}(w,o,"R3InjectorError",this.source)}throw w}finally{on(v),vt(p)}}resolveInjectorInitializers(){const o=vt(this),c=on(void 0);try{const h=this.get(hg.multi,fn,at.Self);for(const p of h)p()}finally{vt(o),on(c)}}toString(){const o=[],c=this.records;for(const u of c.keys())o.push(te(u));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new se(205,!1)}processProvider(o){let c=Ph(o=Be(o))?o:Be(o&&o.provide);const u=function oa(s){return kD(s)?Hc(void 0,s.useValue):Hc(M0(s),ud)}(o);if(Ph(o)||!0!==o.multi)this.records.get(c);else{let h=this.records.get(c);h||(h=Hc(void 0,ud,!0),h.factory=()=>Yt(h.multi),this.records.set(c,h)),c=o,h.multi.push(o)}this.records.set(c,u)}hydrate(o,c){return c.value===ud&&(c.value=fS,c.value=c.factory()),"object"==typeof c.value&&c.value&&function Tx(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(o){if(!o.providedIn)return!1;const c=Be(o.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}removeOnDestroy(o){const c=this._onDestroyHooks.indexOf(o);-1!==c&&this._onDestroyHooks.splice(c,1)}}function gg(s){const o=sn(s),c=null!==o?o.factory:bi(s);if(null!==c)return c;if(s instanceof Pn)throw new se(204,!1);if(s instanceof Function)return function as(s){const o=s.length;if(o>0)throw ta(o,"?"),new se(204,!1);const c=function ge(s){return s&&(s[nt]||s[un])||null}(s);return null!==c?()=>c.factory(s):()=>new s}(s);throw new se(204,!1)}function M0(s,o,c){let u;if(Ph(s)){const h=Be(s);return bi(h)||gg(h)}if(kD(s))u=()=>Be(s.useValue);else if(function hS(s){return!(!s||!s.useFactory)}(s))u=()=>s.useFactory(...Yt(s.deps||[]));else if(function dS(s){return!(!s||!s.useExisting)}(s))u=()=>zt(Be(s.useExisting));else{const h=Be(s&&(s.useClass||s.provide));if(!function pS(s){return!!s.deps}(s))return bi(h)||gg(h);u=()=>new h(...Yt(s.deps))}return u}function Hc(s,o,c=!1){return{factory:s,value:o,multi:c?[]:void 0}}function mg(s,o){for(const c of s)Array.isArray(c)?mg(c,o):c&&Ne(c)?mg(c.\u0275providers,o):o(c)}const mS=new Pn("AppId",{providedIn:"root",factory:()=>Sx}),Sx="ng",FD=new Pn("Platform Initializer"),O0=new Pn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ax=new Pn("CSP nonce",{providedIn:"root",factory:()=>cd().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let R0=(s,o,c)=>null;function P0(s,o,c=!1){return R0(s,o,c)}class U_{}class j_{}class DS{resolveComponentFactory(o){throw function B0(s){const o=Error(`No component factory found for ${te(s)}.`);return o.ngComponent=s,o}(o)}}let $_=(()=>{class o{}return o.NULL=new DS,o})();function BD(){return Bh(zn(),Re())}function Bh(s,o){return new Eg(Di(s,o))}let Eg=(()=>{class o{constructor(u){this.nativeElement=u}}return o.__NG_ELEMENT_ID__=BD,o})();function Ig(s){return s instanceof Eg?s.nativeElement:s}class U0{}let H_=(()=>{class o{constructor(){this.destroyNode=null}}return o.__NG_ELEMENT_ID__=()=>function VD(){const s=Re(),c=Ei(zn().index,s);return(Kr(c)?c:s)[$t]}(),o})(),ES=(()=>{var s;class o{}return(s=o).\u0275prov=Ut({token:s,providedIn:"root",factory:()=>null}),o})();class UD{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const jD=new UD("16.2.4"),j0={};function $D(s,o=null,c=null,u){const h=Tg(s,o,c,u);return h.resolveInjectorInitializers(),h}function Tg(s,o=null,c=null,u,h=new Set){const p=[c||fn,uS(s)];return u=u||("object"==typeof s?void 0:te(s)),new pg(p,o||k_(),u||null,h)}let Mo=(()=>{var s;class o{static create(u,h){if(Array.isArray(u))return $D({name:""},h,u,"");{const p=u.name??"";return $D({name:p},u.parent,u.providers,p)}}}return(s=o).THROW_IF_NOT_FOUND=Xe,s.NULL=new S0,s.\u0275prov=Ut({token:s,providedIn:"any",factory:()=>zt(OD)}),s.__NG_ELEMENT_ID__=-1,o})();function q_(s){return o=>{setTimeout(s,void 0,o)}}const Ds=class MS extends d.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,c,u){let h=o,p=c||(()=>null),v=u;if(o&&"object"==typeof o){const D=o;h=D.next?.bind(D),p=D.error?.bind(D),v=D.complete?.bind(D)}this.__isAsync&&(p=q_(p),h&&(h=q_(h)),v&&(v=q_(v)));const w=super.subscribe({next:h,error:p,complete:v});return o instanceof Q.w0&&o.add(w),w}};function z0(...s){}class Ai{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ds(!1),this.onMicrotaskEmpty=new Ds(!1),this.onStable=new Ds(!1),this.onError=new Ds(!1),typeof Zone>"u")throw new se(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!u&&c,h.shouldCoalesceRunChangeDetection=u,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function OS(){const s="function"==typeof Gt.requestAnimationFrame;let o=Gt[s?"requestAnimationFrame":"setTimeout"],c=Gt[s?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&o&&c){const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u);const h=c[Zone.__symbol__("OriginalDelegate")];h&&(c=h)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:c}}().nativeRequestAnimationFrame,function RS(s){const o=()=>{!function NS(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Gt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,q0(s),s.isCheckStableRunning=!0,W0(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),q0(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,u,h,p,v,w)=>{if(function PS(s){return!(!Array.isArray(s)||1!==s.length)&&!0===s[0].data?.__ignore_ng_zone__}(w))return c.invokeTask(h,p,v,w);try{return HD(s),c.invokeTask(h,p,v,w)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&o(),Ag(s)}},onInvoke:(c,u,h,p,v,w,D)=>{try{return HD(s),c.invoke(h,p,v,w,D)}finally{s.shouldCoalesceRunChangeDetection&&o(),Ag(s)}},onHasTask:(c,u,h,p)=>{c.hasTask(h,p),u===h&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,q0(s),W0(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(c,u,h,p)=>(c.handleError(h,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ai.isInAngularZone())throw new se(909,!1)}static assertNotInAngularZone(){if(Ai.isInAngularZone())throw new se(909,!1)}run(o,c,u){return this._inner.run(o,c,u)}runTask(o,c,u,h){const p=this._inner,v=p.scheduleEventTask("NgZoneEvent: "+h,o,xS,z0,z0);try{return p.runTask(v,c,u)}finally{p.cancelTask(v)}}runGuarded(o,c,u){return this._inner.runGuarded(o,c,u)}runOutsideAngular(o){return this._outer.run(o)}}const xS={};function W0(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function q0(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function HD(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function Ag(s){s._nesting--,W0(s)}class GD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ds,this.onMicrotaskEmpty=new Ds,this.onStable=new Ds,this.onError=new Ds}run(o,c,u){return o.apply(c,u)}runGuarded(o,c,u){return o.apply(c,u)}runOutsideAngular(o){return o()}runTask(o,c,u,h){return o.apply(c,u)}}const Z0=new Pn("",{providedIn:"root",factory:zD});function zD(){const s=Wt(Ai);let o=!0;const c=new L.y(h=>{o=s.isStable&&!s.hasPendingMacrotasks&&!s.hasPendingMicrotasks,s.runOutsideAngular(()=>{h.next(o),h.complete()})}),u=new L.y(h=>{let p;s.runOutsideAngular(()=>{p=s.onStable.subscribe(()=>{Ai.assertNotInAngularZone(),queueMicrotask(()=>{!o&&!s.hasPendingMacrotasks&&!s.hasPendingMicrotasks&&(o=!0,h.next(!0))})})});const v=s.onUnstable.subscribe(()=>{Ai.assertInAngularZone(),o&&(o=!1,s.runOutsideAngular(()=>{h.next(!1)}))});return()=>{p.unsubscribe(),v.unsubscribe()}});return(0,ee.T)(c,u.pipe((0,ye.B)()))}function Ka(s){return s instanceof Function?s():s}let qD=(()=>{var s;class o{constructor(){this.callbacks=new Set,this.deferredCallbacks=new Set,this.renderDepth=0,this.runningCallbacks=!1}begin(){if(this.runningCallbacks)throw new se(102,!1);this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth)try{this.runningCallbacks=!0;for(const u of this.callbacks)u.invoke()}finally{this.runningCallbacks=!1;for(const u of this.deferredCallbacks)this.callbacks.add(u);this.deferredCallbacks.clear()}}register(u){(this.runningCallbacks?this.deferredCallbacks:this.callbacks).add(u)}unregister(u){this.callbacks.delete(u),this.deferredCallbacks.delete(u)}ngOnDestroy(){this.callbacks.clear(),this.deferredCallbacks.clear()}}return(s=o).\u0275prov=Ut({token:s,providedIn:"root",factory:()=>new s}),o})();function Z_(s){for(;s;){s[Vt]|=64;const o=be(s);if(vc(s)&&!o)return s;s=o}return null}function K_(s){return s.ngOriginalError}class Vh{constructor(){this._console=console}handleError(o){const c=this._findOriginalError(o);this._console.error("ERROR",o),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(o){let c=o&&K_(o);for(;c&&K_(c);)c=K_(c);return c||null}}const J_=new Pn("",{providedIn:"root",factory:()=>!1});let J0=null;function HS(s,o){return s[o]??X0()}function GS(s,o){const c=X0();c.producerNode?.length&&(s[o]=J0,c.lView=s,J0=Q0())}const zS={...ms,consumerIsAlwaysLive:!0,consumerMarkedDirty:s=>{Z_(s.lView)},lView:null};function Q0(){return Object.create(zS)}function X0(){return J0??=Q0(),J0}const Qt={};function eb(s){tb(mn(),Re(),ci()+s,!1)}function tb(s,o,c,u){if(!u)if(3==(3&o[Vt])){const p=s.preOrderCheckHooks;null!==p&&zr(o,p,c)}else{const p=s.preOrderHooks;null!==p&&ka(o,p,0,c)}io(c)}function pd(s,o=at.Default){const c=Re();return null===c?zt(s,o):Fa(zn(),c,Be(s),o)}function nb(){throw new Error("invalid")}function rb(s,o,c,u,h,p,v,w,D,A,N){const V=o.blueprint.slice();return V[lr]=h,V[Vt]=140|u,(null!==A||s&&2048&s[Vt])&&(V[Vt]|=2048),d_(V),V[xn]=V[ri]=s,V[ir]=c,V[Go]=v||s&&s[Go],V[$t]=w||s&&s[$t],V[Vi]=D||s&&s[Vi]||null,V[Hr]=p,V[mc]=function Mh(){return o0++}(),V[Ls]=N,V[Iu]=A,V[vr]=2==o.type?s[vr]:V,V}function ql(s,o,c,u,h){let p=s.data[o];if(null===p)p=Og(s,o,c,u,h),function Np(){return Bt.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=c,p.value=u,p.attrs=h;const v=Jn();p.injectorIndex=null===v?-1:v.injectorIndex}return Ui(p,!0),p}function Og(s,o,c,u,h){const p=Ra(),v=Jr(),D=s.data[o]=function KS(s,o,c,u,h,p){let v=o?o.injectorIndex:-1,w=0;return Us()&&(w|=128),{type:c,index:u,insertBeforeIndex:null,injectorIndex:v,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:w,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?p:p&&p.parent,c,o,u,h);return null===s.firstChild&&(s.firstChild=D),null!==p&&(v?null==p.child&&null!==D.parent&&(p.child=D):null===p.next&&(p.next=D,D.prev=p)),D}function Uh(s,o,c,u){if(0===c)return-1;const h=o.length;for(let p=0;p<c;p++)o.push(u),s.blueprint.push(u),s.data.push(null);return h}function WS(s,o,c,u,h){const p=HS(o,_c),v=ci(),w=2&u;try{io(-1),w&&o.length>nn&&tb(s,o,nn,!1),_s(w?2:0,h);const A=w?p:null,N=bo(A);try{null!==A&&(A.dirty=!1),c(u,h)}finally{Ia(A,N)}}finally{w&&null===o[_c]&&GS(o,_c),io(v),_s(w?3:1,h)}}function ib(s,o,c){if(Su(o)){const u=ur(null);try{const p=o.directiveEnd;for(let v=o.directiveStart;v<p;v++){const w=s.data[v];w.contentQueries&&w.contentQueries(1,c[v],v)}}finally{ur(u)}}}function jh(s,o,c){Na()&&(function nv(s,o,c,u){const h=c.directiveStart,p=c.directiveEnd;vo(c)&&function XS(s,o,c){const u=Di(o,s),h=Oo(c);let v=16;c.signals?v=4096:c.onPush&&(v=64);const w=sv(s,rb(s,h,null,v,u,o,null,s[Go].rendererFactory.createRenderer(u,c),null,null,null));s[o.index]=w}(o,c,s.data[h+c.componentOffset]),s.firstCreatePass||hr(c,o),Si(u,o);const v=c.initialInputs;for(let w=h;w<p;w++){const D=s.data[w],A=Qo(o,s,w,c);Si(A,o),null!==v&&db(0,w-h,A,D,0,v),es(D)&&(Ei(c.index,o)[ir]=Qo(o,s,w,c))}}(s,o,c,Di(c,o)),64==(64&c.flags)&&aa(s,o,c))}function sb(s,o,c=Di){const u=o.localNames;if(null!==u){let h=o.index+1;for(let p=0;p<u.length;p+=2){const v=u[p+1],w=-1===v?c(o,s):s[v];s[h++]=w}}}function Oo(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=gt(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts,s.id):o}function gt(s,o,c,u,h,p,v,w,D,A,N){const V=nn+u,W=V+h,X=function ob(s,o){const c=[];for(let u=0;u<o;u++)c.push(u<s?null:Qt);return c}(V,W),Ie="function"==typeof A?A():A;return X[st]={type:s,blueprint:X,template:c,queries:null,viewQuery:w,declTNode:o,data:X.slice().fill(null,V),bindingStartIndex:V,expandoStartIndex:W,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:D,consts:Ie,incompleteFirstPass:!1,ssrId:N}}let $h=s=>null;function KD(s,o,c,u){for(let h in s)if(s.hasOwnProperty(h)){c=null===c?{}:c;const p=s[h];null===u?Gi(c,o,h,p):u.hasOwnProperty(h)&&Gi(c,o,u[h],p)}return c}function Gi(s,o,c,u){s.hasOwnProperty(c)?s[c].push(o,u):s[c]=[o,u]}function ei(s,o,c,u,h,p,v,w){const D=Di(o,c);let N,A=o.inputs;!w&&null!=A&&(N=A[u])?(Pg(s,c,N,u,h),vo(o)&&function YS(s,o){const c=Ei(o,s);16&c[Vt]||(c[Vt]|=64)}(c,o.index)):3&o.type&&(u=function Mi(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(u),h=null!=v?v(h,o.value||"",u):h,p.setProperty(D,u,h))}function tv(s,o,c,u){if(Na()){const h=null===u?null:{"":-1},p=function QS(s,o){const c=s.directiveRegistry;let u=null,h=null;if(c)for(let p=0;p<c.length;p++){const v=c[p];if(ml(o,v.selectors,!1))if(u||(u=[]),es(v))if(null!==v.findHostDirectiveDefs){const w=[];h=h||new Map,v.findHostDirectiveDefs(v,w,h),u.unshift(...w,v),lb(s,o,w.length)}else u.unshift(v),lb(s,o,0);else h=h||new Map,v.findHostDirectiveDefs?.(v,u,h),u.push(v)}return null===u?null:[u,h]}(s,c);let v,w;null===p?v=w=null:[v,w]=p,null!==v&&zi(s,o,c,v,h,w),h&&function Hh(s,o,c){if(o){const u=s.localNames=[];for(let h=0;h<o.length;h+=2){const p=c[o[h+1]];if(null==p)throw new se(-301,!1);u.push(o[h],p)}}}(c,u,h)}c.mergedAttrs=uc(c.mergedAttrs,c.attrs)}function zi(s,o,c,u,h,p){for(let A=0;A<u.length;A++)Yo(hr(c,o),s,u[A].type);!function ub(s,o,c){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+c,s.providerIndexes=o}(c,s.data.length,u.length);for(let A=0;A<u.length;A++){const N=u[A];N.providersResolver&&N.providersResolver(N)}let v=!1,w=!1,D=Uh(s,o,u.length,null);for(let A=0;A<u.length;A++){const N=u[A];c.mergedAttrs=uc(c.mergedAttrs,N.hostAttrs),XD(s,c,o,D,N),QD(D,N,h),null!==N.contentQueries&&(c.flags|=4),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(c.flags|=64);const V=N.type.prototype;!v&&(V.ngOnChanges||V.ngOnInit||V.ngDoCheck)&&((s.preOrderHooks??=[]).push(c.index),v=!0),!w&&(V.ngOnChanges||V.ngDoCheck)&&((s.preOrderCheckHooks??=[]).push(c.index),w=!0),D++}!function ev(s,o,c){const h=o.directiveEnd,p=s.data,v=o.attrs,w=[];let D=null,A=null;for(let N=o.directiveStart;N<h;N++){const V=p[N],W=c?c.get(V):null,Ie=W?W.outputs:null;D=KD(V.inputs,N,D,W?W.inputs:null),A=KD(V.outputs,N,A,Ie);const We=null===D||null===v||go(o)?null:hb(D,N,v);w.push(We)}null!==D&&(D.hasOwnProperty("class")&&(o.flags|=8),D.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=w,o.inputs=D,o.outputs=A}(s,c,p)}function aa(s,o,c){const u=c.directiveStart,h=c.directiveEnd,p=c.index,v=function h_(){return Bt.lFrame.currentDirectiveIndex}();try{io(p);for(let w=u;w<h;w++){const D=s.data[w],A=o[w];Ac(w),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&cb(D,A)}}finally{io(-1),Ac(v)}}function cb(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function lb(s,o,c){o.componentOffset=c,(s.components??=[]).push(o.index)}function QD(s,o,c){if(c){if(o.exportAs)for(let u=0;u<o.exportAs.length;u++)c[o.exportAs[u]]=s;es(o)&&(c[""]=s)}}function XD(s,o,c,u,h){s.data[u]=h;const p=h.factory||(h.factory=bi(h.type)),v=new li(p,es(h),pd);s.blueprint[u]=v,c[u]=v,function JS(s,o,c,u,h){const p=h.hostBindings;if(p){let v=s.hostBindingOpCodes;null===v&&(v=s.hostBindingOpCodes=[]);const w=~o.index;(function xg(s){let o=s.length;for(;o>0;){const c=s[--o];if("number"==typeof c&&c<0)return c}return 0})(v)!=w&&v.push(w),v.push(c,u,p)}}(s,o,u,Uh(s,c,h.hostVars,Qt),h)}function ca(s,o,c,u,h,p){const v=Di(s,o);!function Ng(s,o,c,u,h,p,v){if(null==p)s.removeAttribute(o,h,c);else{const w=null==v?ae(p):v(p,u||"",h);s.setAttribute(o,h,w,c)}}(o[$t],v,p,s.value,c,u,h)}function db(s,o,c,u,h,p){const v=p[o];if(null!==v)for(let w=0;w<v.length;)rv(u,c,v[w++],v[w++],v[w++])}function rv(s,o,c,u,h){const p=ur(null);try{const v=s.inputTransforms;null!==v&&v.hasOwnProperty(u)&&(h=v[u].call(o,h)),null!==s.setInput?s.setInput(o,h,c,u):o[u]=h}finally{ur(p)}}function hb(s,o,c){let u=null,h=0;for(;h<c.length;){const p=c[h];if(0!==p)if(5!==p){if("number"==typeof p)break;if(s.hasOwnProperty(p)){null===u&&(u=[]);const v=s[p];for(let w=0;w<v.length;w+=2)if(v[w]===o){u.push(p,v[w+1],c[h+1]);break}}h+=2}else h+=2;else h+=4}return u}function iv(s,o,c,u){return[s,!0,!1,o,null,0,u,c,null,null,null]}function fb(s,o){const c=s.contentQueries;if(null!==c)for(let u=0;u<c.length;u+=2){const p=c[u+1];if(-1!==p){const v=s.data[p];Gu(c[u]),v.contentQueries(2,o[p],p)}}}function sv(s,o){return s[Fs]?s[_l][vi]=o:s[Fs]=o,s[_l]=o,o}function gd(s,o,c){Gu(0);const u=ur(null);try{o(s,c)}finally{ur(u)}}function Gh(s){return s[ba]||(s[ba]=[])}function eE(s){return s.cleanup||(s.cleanup=[])}function Rg(s,o){const c=s[Vi],u=c?c.get(Vh,null):null;u&&u.handleError(o)}function Pg(s,o,c,u,h){for(let p=0;p<c.length;){const v=c[p++],w=c[p++];rv(s.data[v],o[v],u,w,h)}}function nE(s,o){const c=Ei(o,s),u=c[st];!function rE(s,o){for(let c=o.length;c<s.blueprint.length;c++)o.push(s.blueprint[c])}(u,c);const h=c[lr];null!==h&&null===c[Ls]&&(c[Ls]=P0(h,c[Vi])),ov(u,c,c[ir])}function ov(s,o,c){ai(o);try{const u=s.viewQuery;null!==u&&gd(1,u,c);const h=s.template;null!==h&&WS(s,o,h,1,c),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&fb(s,o),s.staticViewQueries&&gd(2,s.viewQuery,c);const p=s.components;null!==p&&function av(s,o){for(let c=0;c<o.length;c++)nE(s,o[c])}(o,p)}catch(u){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),u}finally{o[Vt]&=-5,ji()}}let cv=(()=>{var s;class o{constructor(){this.all=new Set,this.queue=new Map}create(u,h,p){const v=typeof Zone>"u"?null:Zone.current,w=function Lu(s,o,c){const u=Object.create(ih);c&&(u.consumerAllowSignalWrites=!0),u.fn=s,u.schedule=o;const h=v=>{u.cleanupFn=v};return u.ref={notify:()=>yp(u),run:()=>{if(u.dirty=!1,u.hasRun&&!ts(u))return;u.hasRun=!0;const v=bo(u);try{u.cleanupFn(),u.cleanupFn=rh,u.fn(h)}finally{Ia(u,v)}},cleanup:()=>u.cleanupFn()},u.ref}(u,N=>{this.all.has(N)&&this.queue.set(N,v)},p);let D;this.all.add(w),w.notify();const A=()=>{w.cleanup(),D?.(),this.all.delete(w),this.queue.delete(w)};return D=h?.onDestroy(A),{destroy:A}}flush(){if(0!==this.queue.size)for(const[u,h]of this.queue)this.queue.delete(u),h?h.run(()=>u.run()):u.run()}get isQueueEmpty(){return 0===this.queue.size}}return(s=o).\u0275prov=Ut({token:s,providedIn:"root",factory:()=>new s}),o})();function zh(s,o,c){let u=c?s.styles:null,h=c?s.classes:null,p=0;if(null!==o)for(let v=0;v<o.length;v++){const w=o[v];"number"==typeof w?p=w:1==p?h=ke(h,w):2==p&&(u=ke(u,w+": "+o[++v]+";"))}c?s.styles=u:s.stylesWithoutHost=u,c?s.classes=h:s.classesWithoutHost=h}function md(s,o,c,u,h=!1){for(;null!==c;){const p=o[c.index];null!==p&&u.push(_n(p)),si(p)&&gb(p,u);const v=c.type;if(8&v)md(s,o,c.child,u);else if(32&v){const w=j(c,o);let D;for(;D=w();)u.push(D)}else if(16&v){const w=f0(o,c);if(Array.isArray(w))u.push(...w);else{const D=be(o[vr]);md(D[st],D,w,u,!0)}}c=h?c.projectionNext:c.next}return u}function gb(s,o){for(let c=Gr;c<s.length;c++){const u=s[c],h=u[st].firstChild;null!==h&&md(u[st],u,h,o)}s[ii]!==s[lr]&&o.push(s[ii])}function kg(s,o,c,u=!0){const h=o[Go],p=h.rendererFactory,v=h.afterRenderEventManager;p.begin?.(),v?.begin();try{mb(s,o,s.template,c)}catch(D){throw u&&Rg(o,D),D}finally{p.end?.(),h.effectManager?.flush(),v?.end()}}function mb(s,o,c,u){const h=o[Vt];if(256!=(256&h)){o[Go].effectManager?.flush(),ai(o);try{d_(o),function _h(s){return Bt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==c&&WS(s,o,c,2,u);const v=3==(3&h);if(v){const A=s.preOrderCheckHooks;null!==A&&zr(o,A,null)}else{const A=s.preOrderHooks;null!==A&&ka(o,A,0,null),zu(o,0)}if(function sE(s){for(let o=Tt(s);null!==o;o=en(o)){if(!o[Tu])continue;const c=o[yi];for(let u=0;u<c.length;u++){qy(c[u])}}}(o),lv(o,2),null!==s.contentQueries&&fb(s,o),v){const A=s.contentCheckHooks;null!==A&&zr(o,A)}else{const A=s.contentHooks;null!==A&&ka(o,A,1),zu(o,1)}!function Q_(s,o){const c=s.hostBindingOpCodes;if(null===c)return;const u=HS(o,_o);try{for(let h=0;h<c.length;h++){const p=c[h];if(p<0)io(~p);else{const v=p,w=c[++h],D=c[++h];Sc(w,v),u.dirty=!1;const A=bo(u);try{D(2,o[v])}finally{Ia(u,A)}}}}finally{null===o[_o]&&GS(o,_o),io(-1)}}(s,o);const w=s.components;null!==w&&dv(o,w,0);const D=s.viewQuery;if(null!==D&&gd(2,D,u),v){const A=s.viewCheckHooks;null!==A&&zr(o,A)}else{const A=s.viewHooks;null!==A&&ka(o,A,2),zu(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[Vt]&=-73,Zy(o)}finally{ji()}}}function lv(s,o){for(let c=Tt(s);null!==c;c=en(c))for(let u=Gr;u<c.length;u++)uv(c[u],o)}function eA(s,o,c){uv(Ei(o,s),c)}function uv(s,o){if(!function lh(s){return 128==(128&s[Vt])}(s))return;const c=s[st],u=s[Vt];if(80&u&&0===o||1024&u||2===o)mb(c,s,c.template,s[ir]);else if(s[mo]>0){lv(s,1);const h=c.components;null!==h&&dv(s,h,1)}}function dv(s,o,c){for(let u=0;u<o.length;u++)eA(s,o[u],c)}class _d{get rootNodes(){const o=this._lView,c=o[st];return md(c,o,c.firstChild,[])}constructor(o,c){this._lView=o,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ir]}set context(o){this._lView[ir]=o}get destroyed(){return 256==(256&this._lView[Vt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[xn];if(si(o)){const c=o[8],u=c?c.indexOf(this):-1;u>-1&&(T_(o,u),Up(c,u))}this._attachedToViewContainer=!1}u0(this._lView[st],this._lView)}onDestroy(o){!function Vs(s,o){if(256==(256&s[Vt]))throw new se(911,!1);null===s[zo]&&(s[zo]=[]),s[zo].push(o)}(this._lView,o)}markForCheck(){Z_(this._cdRefInjectingView||this._lView)}detach(){this._lView[Vt]&=-129}reattach(){this._lView[Vt]|=128}detectChanges(){kg(this._lView[st],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new se(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Uc(s,o){ag(s,o,o[$t],2,null,null)}(this._lView[st],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new se(902,!1);this._appRef=o}}class Oi extends _d{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;kg(o[st],o,o[ir],!1)}checkNoChanges(){}get context(){return null}}class xi extends $_{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const c=tn(o);return new Lg(c,this.ngModule)}}function Fg(s){const o=[];for(let c in s)s.hasOwnProperty(c)&&o.push({propName:s[c],templateName:c});return o}class tA{constructor(o,c){this.injector=o,this.parentInjector=c}get(o,c,u){u=qr(u);const h=this.injector.get(o,j0,u);return h!==j0||c===j0?h:this.parentInjector.get(o,c,u)}}class Lg extends j_{get inputs(){const o=this.componentDef,c=o.inputTransforms,u=Fg(o.inputs);if(null!==c)for(const h of u)c.hasOwnProperty(h.propName)&&(h.transform=c[h.propName]);return u}get outputs(){return Fg(this.componentDef.outputs)}constructor(o,c){super(),this.componentDef=o,this.ngModule=c,this.componentType=o.type,this.selector=function mp(s){return s.map(Ho).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!c}create(o,c,u,h){let p=(h=h||this.ngModule)instanceof sa?h:h?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const v=p?new tA(o,p):o,w=v.get(U0,null);if(null===w)throw new se(407,!1);const V={rendererFactory:w,sanitizer:v.get(ES,null),effectManager:v.get(cv,null),afterRenderEventManager:v.get(qD,null)},W=w.createRenderer(null,this.componentDef),X=this.componentDef.selectors[0][0]||"div",Ie=u?function Xt(s,o,c,u){const p=u.get(J_,!1)||c===Ji.ShadowDom,v=s.selectRootElement(o,p);return function X_(s){$h(s)}(v),v}(W,u,this.componentDef.encapsulation,v):Gl(W,X,function _b(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(X)),xt=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Le=null;null!==Ie&&(Le=P0(Ie,v,!0));const Kt=gt(0,null,null,1,0,null,null,null,null,null,null),dn=rb(null,Kt,null,xt,null,null,V,W,v,null,Le);let Fn,hs;ai(dn);try{const ll=this.componentDef;let rp,Pm=null;ll.findHostDirectiveDefs?(rp=[],Pm=new Map,ll.findHostDirectiveDefs(ll,rp,Pm),rp.push(ll)):rp=[ll];const bw=function oE(s,o){const c=s[st],u=nn;return s[u]=o,ql(c,u,2,"#host",null)}(dn,Ie),BM=function rA(s,o,c,u,h,p,v){const w=h[st];!function iA(s,o,c,u){for(const h of s)o.mergedAttrs=uc(o.mergedAttrs,h.hostAttrs);null!==o.mergedAttrs&&(zh(o,o.mergedAttrs,!0),null!==c&&cg(u,c,o))}(u,s,o,v);let D=null;null!==o&&(D=P0(o,h[Vi]));const A=p.rendererFactory.createRenderer(o,c);let N=16;c.signals?N=4096:c.onPush&&(N=64);const V=rb(h,Oo(c),null,N,h[s.index],s,p,A,null,null,D);return w.firstCreatePass&&lb(w,s,u.length-1),sv(h,V),h[s.index]=V}(bw,Ie,ll,rp,dn,V,W);hs=Al(Kt,nn),Ie&&function Bg(s,o,c,u){if(u)jo(s,c,["ng-version",jD.full]);else{const{attrs:h,classes:p}=function Zr(s){const o=[],c=[];let u=1,h=2;for(;u<s.length;){let p=s[u];if("string"==typeof p)2===h?""!==p&&o.push(p,s[++u]):8===h&&c.push(p);else{if(!pn(h))break;h=p}u++}return{attrs:o,classes:c}}(o.selectors[0]);h&&jo(s,c,h),p&&p.length>0&&lD(s,c,p.join(" "))}}(W,ll,Ie,u),void 0!==c&&function Vg(s,o,c){const u=s.projection=[];for(let h=0;h<o.length;h++){const p=c[h];u.push(null!=p?Array.from(p):null)}}(hs,this.ngContentSelectors,c),Fn=function sA(s,o,c,u,h,p){const v=zn(),w=h[st],D=Di(v,h);zi(w,h,v,c,null,u);for(let N=0;N<c.length;N++)Si(Qo(h,w,v.directiveStart+N,v),h);aa(w,h,v),D&&Si(D,h);const A=Qo(h,w,v.directiveStart+v.componentOffset,v);if(s[ir]=h[ir]=A,null!==p)for(const N of p)N(A,o);return ib(w,v,s),A}(BM,ll,rp,Pm,dn,[vb]),ov(Kt,dn,null)}finally{ji()}return new nA(this.componentType,Fn,Bh(hs,dn),dn,hs)}}class nA extends U_{constructor(o,c,u,h,p){super(),this.location=u,this._rootLView=h,this._tNode=p,this.previousInputValues=null,this.instance=c,this.hostView=this.changeDetectorRef=new Oi(h),this.componentType=o}setInput(o,c){const u=this._tNode.inputs;let h;if(null!==u&&(h=u[o])){if(this.previousInputValues??=new Map,this.previousInputValues.has(o)&&Object.is(this.previousInputValues.get(o),c))return;const p=this._rootLView;Pg(p[st],p,h,o,c),this.previousInputValues.set(o,c),Z_(Ei(this._tNode.index,p))}}get injector(){return new or(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function vb(){const s=zn();xc(Re()[st],s)}function bb(s){let o=function yb(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),c=!0;const u=[s];for(;o;){let h;if(es(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new se(903,!1);h=o.\u0275dir}if(h){if(c){u.push(h);const v=s;v.inputs=Wh(s.inputs),v.inputTransforms=Wh(s.inputTransforms),v.declaredInputs=Wh(s.declaredInputs),v.outputs=Wh(s.outputs);const w=h.hostBindings;w&&oA(s,w);const D=h.viewQuery,A=h.contentQueries;if(D&&wb(s,D),A&&aE(s,A),G(s.inputs,h.inputs),G(s.declaredInputs,h.declaredInputs),G(s.outputs,h.outputs),null!==h.inputTransforms&&(null===v.inputTransforms&&(v.inputTransforms={}),G(v.inputTransforms,h.inputTransforms)),es(h)&&h.data.animation){const N=s.data;N.animation=(N.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let v=0;v<p.length;v++){const w=p[v];w&&w.ngInherit&&w(s),w===bb&&(c=!1)}}o=Object.getPrototypeOf(o)}!function hv(s){let o=0,c=null;for(let u=s.length-1;u>=0;u--){const h=s[u];h.hostVars=o+=h.hostVars,h.hostAttrs=uc(h.hostAttrs,c=uc(c,h.hostAttrs))}}(u)}function Wh(s){return s===Ps?{}:s===fn?[]:s}function wb(s,o){const c=s.viewQuery;s.viewQuery=c?(u,h)=>{o(u,h),c(u,h)}:o}function aE(s,o){const c=s.contentQueries;s.contentQueries=c?(u,h,p)=>{o(u,h,p),c(u,h,p)}:o}function oA(s,o){const c=s.hostBindings;s.hostBindings=c?(u,h)=>{o(u,h),c(u,h)}:o}function Db(s){return o=>{o.findHostDirectiveDefs=jg,o.hostDirectives=(Array.isArray(s)?s:s()).map(c=>"function"==typeof c?{directive:Be(c),inputs:Ps,outputs:Ps}:{directive:Be(c.directive),inputs:uE(c.inputs),outputs:uE(c.outputs)})}}function jg(s,o,c){if(null!==s.hostDirectives)for(const u of s.hostDirectives){const h=jr(u.directive);aA(h.declaredInputs,u.inputs),jg(h,o,c),c.set(h,u),o.push(h)}}function uE(s){if(void 0===s||0===s.length)return Ps;const o={};for(let c=0;c<s.length;c+=2)o[s[c]]=s[c+1];return o}function aA(s,o){for(const c in o)o.hasOwnProperty(c)&&(s[o[c]]=s[c])}function hE(s){const o=s.inputConfig,c={};for(const u in o)if(o.hasOwnProperty(u)){const h=o[u];Array.isArray(h)&&h[2]&&(c[u]=h[2])}s.inputTransforms=c}function Hg(s){return!!vd(s)&&(Array.isArray(s)||!(s instanceof Map)&&Symbol.iterator in s)}function vd(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function wr(s,o,c){return s[o]=c}function ti(s,o,c){return!Object.is(s[o],c)&&(s[o]=c,!0)}function Ya(s,o,c,u){const h=ti(s,o,c);return ti(s,o+1,u)||h}function pv(s,o,c,u){const h=Re();return ti(h,Tc(),o)&&(mn(),ca(Vn(),h,s,o,c,u)),pv}function Ja(s,o,c,u){return ti(s,Tc(),c)?o+ae(c)+u:Qt}function vv(s,o,c,u,h,p,v,w){const D=Re(),A=mn(),N=s+nn,V=A.firstCreatePass?function EE(s,o,c,u,h,p,v,w,D){const A=o.consts,N=ql(o,s,4,v||null,Zo(A,w));tv(o,c,N,Zo(A,D)),xc(o,N);const V=N.tView=gt(2,N,u,h,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,A,null);return null!==o.queries&&(o.queries.template(o,N),V.queries=o.queries.embeddedTView(N)),N}(N,A,D,o,c,u,h,p,v):A.data[N];Ui(V,!1);const W=yv(A,D,V,s);rs()&&sg(A,D,W,V),Si(W,D),sv(D,D[N]=iv(W,D,W,V)),Xi(V)&&jh(A,D,V),null!=v&&sb(D,V,w)}let yv=function Ab(s,o,c,u){return is(!0),o[$t].createComment("")};function CE(s){return function xa(s,o){return s[o]}(function mh(){return Bt.lFrame.contextLView}(),nn+s)}function Mb(s,o,c){const u=Re();return ti(u,Tc(),o)&&ei(mn(),Vn(),u,s,o,u[$t],c,!1),Mb}function rf(s,o,c,u,h){const v=h?"class":"style";Pg(s,c,o.inputs[v],v,u)}function Ed(s,o,c,u){const h=Re(),p=mn(),v=nn+s,w=h[$t],D=p.firstCreatePass?function Jg(s,o,c,u,h,p){const v=o.consts,D=ql(o,s,2,u,Zo(v,h));return tv(o,c,D,Zo(v,p)),null!==D.attrs&&zh(D,D.attrs,!1),null!==D.mergedAttrs&&zh(D,D.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,D),D}(v,p,h,o,c,u):p.data[v],A=af(p,h,D,w,o,s);h[v]=A;const N=Xi(D);return Ui(D,!0),cg(w,A,D),32!=(32&D.flags)&&rs()&&sg(p,h,A,D),0===function dh(){return Bt.lFrame.elementDepthCount}()&&Si(A,h),function hh(){Bt.lFrame.elementDepthCount++}(),N&&(jh(p,h,D),ib(p,D,h)),null!==u&&sb(h,D),Ed}function sf(){let s=zn();Jr()?dr():(s=s.parent,Ui(s,!1));const o=s;(function ph(s){return Bt.skipHydrationRootTNode===s})(o)&&function gh(){Bt.skipHydrationRootTNode=null}(),function fh(){Bt.lFrame.elementDepthCount--}();const c=mn();return c.firstCreatePass&&(xc(c,s),Su(s)&&c.queries.elementEnd(s)),null!=o.classesWithoutHost&&function $s(s){return 0!=(8&s.flags)}(o)&&rf(c,o,Re(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function bh(s){return 0!=(16&s.flags)}(o)&&rf(c,o,Re(),o.stylesWithoutHost,!1),sf}function bv(s,o,c,u){return Ed(s,o,c,u),sf(),bv}let af=(s,o,c,u,h,p)=>(is(!0),Gl(u,h,function ys(){return Bt.lFrame.currentNamespace}()));function xb(){return Re()}function cf(s){return!!s&&"function"==typeof s.then}function Nb(s){return!!s&&"function"==typeof s.subscribe}function xo(s,o,c,u){const h=Re(),p=mn(),v=zn();return function Pb(s,o,c,u,h,p,v){const w=Xi(u),A=s.firstCreatePass&&eE(s),N=o[ir],V=Gh(o);let W=!0;if(3&u.type||v){const We=Di(u,o),lt=v?v(We):We,xt=V.length,Le=v?dn=>v(_n(dn[u.index])):u.index;let Kt=null;if(!v&&w&&(Kt=function yA(s,o,c,u){const h=s.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const v=h[p];if(v===c&&h[p+1]===u){const w=o[ba],D=h[p+2];return w.length>D?w[D]:null}"string"==typeof v&&(p+=2)}return null}(s,o,h,u.index)),null!==Kt)(Kt.__ngLastListenerFn__||Kt).__ngNextListenerFn__=p,Kt.__ngLastListenerFn__=p,W=!1;else{p=lf(u,o,N,p,!1);const dn=c.listen(lt,h,p);V.push(p,dn),A&&A.push(h,Le,xt,xt+1)}}else p=lf(u,o,N,p,!1);const X=u.outputs;let Ie;if(W&&null!==X&&(Ie=X[h])){const We=Ie.length;if(We)for(let lt=0;lt<We;lt+=2){const Fn=o[Ie[lt]][Ie[lt+1]].subscribe(p),hs=V.length;V.push(p,Fn),A&&A.push(h,u.index,hs,-(hs+1))}}}(p,h,h[$t],v,s,o,u),xo}function Dv(s,o,c,u){try{return _s(6,o,c),!1!==c(u)}catch(h){return Rg(s,h),!1}finally{_s(7,o,c)}}function lf(s,o,c,u,h){return function p(v){if(v===Function)return u;Z_(s.componentOffset>-1?Ei(s.index,o):o);let D=Dv(o,c,u,v),A=p.__ngNextListenerFn__;for(;A;)D=Dv(o,c,A,v)&&D,A=A.__ngNextListenerFn__;return h&&!1===D&&v.preventDefault(),D}}function kb(s=1){return function Fp(s){return(Bt.lFrame.contextLView=function xl(s,o){for(;s>0;)o=o[ri],s--;return o}(s,Bt.lFrame.contextLView))[ir]}(s)}function Fb(s,o){let c=null;const u=function Xs(s){const o=s.attrs;if(null!=o){const c=o.indexOf(5);if(!(1&c))return o[c+1]}return null}(s);for(let h=0;h<o.length;h++){const p=o[h];if("*"!==p){if(null===u?ml(s,p,!0):dc(u,p))return h}else c=h}return c}function Xg(s){const o=Re()[vr][Hr];if(!o.projection){const u=o.projection=ta(s?s.length:1,null),h=u.slice();let p=o.child;for(;null!==p;){const v=s?Fb(p,s):0;null!==v&&(h[v]?h[v].projectionNext=p:u[v]=p,h[v]=p),p=p.next}}}function Lb(s,o=0,c){const u=Re(),h=mn(),p=ql(h,nn+s,16,null,c||null);null===p.projection&&(p.projection=o),dr(),(!u[Ls]||Us())&&32!=(32&p.flags)&&function g0(s,o,c){m0(o[$t],0,o,c,xh(s,c,o),oD(c.parent||o[Hr],c,o))}(h,u,p)}function uf(s,o,c){return Ev(s,"",o,"",c),uf}function Ev(s,o,c,u,h){const p=Re(),v=Ja(p,o,c,u);return v!==Qt&&ei(mn(),Vn(),p,s,v,p[$t],h,!1),Ev}function tm(s,o){return s<<17|o<<2}function Zc(s){return s>>17&32767}function Tv(s){return 2|s}function Jl(s){return(131068&s)>>2}function Sv(s,o){return-131069&s|o<<2}function Es(s){return 1|s}function No(s,o,c,u,h){const p=s[c+1],v=null===o;let w=u?Zc(p):Jl(p),D=!1;for(;0!==w&&(!1===D||v);){const N=s[w+1];$b(s[w],o)&&(D=!0,s[w+1]=u?Es(N):Tv(N)),w=u?Zc(N):Jl(N)}D&&(s[c+1]=u?Tv(p):Es(p))}function $b(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Ll(s,o)>=0}const Zt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function xE(s){return s.substring(Zt.key,Zt.keyEnd)}function Gb(s,o){const c=Zt.textEnd;return c===o?-1:(o=Zt.keyEnd=function Kc(s,o,c){for(;o<c&&s.charCodeAt(o)>32;)o++;return o}(s,Zt.key=o,c),Td(s,o,c))}function Td(s,o,c){for(;o<c&&s.charCodeAt(o)<=32;)o++;return o}function Nv(s,o){return function la(s,o,c,u){const h=Re(),p=mn(),v=vs(2);p.firstUpdatePass&&RE(p,s,v,u),o!==Qt&&ti(h,v,o)&&Zb(p,p.data[ci()],h,h[$t],s,h[v+1]=function LE(s,o){return null==s||""===s||("string"==typeof o?s+=o:"object"==typeof s&&(s=te(jc(s)))),s}(o,c),u,v)}(s,o,null,!0),Nv}function NE(s){!function ua(s,o,c,u){const h=mn(),p=vs(2);h.firstUpdatePass&&RE(h,null,p,u);const v=Re();if(c!==Qt&&ti(v,p,c)){const w=h.data[ci()];if(Yb(w,u)&&!Wb(h,p)){let D=u?w.classesWithoutHost:w.stylesWithoutHost;null!==D&&(c=ke(D,c||"")),rf(h,w,v,c,u)}else!function FE(s,o,c,u,h,p,v,w){h===Qt&&(h=fn);let D=0,A=0,N=0<h.length?h[0]:null,V=0<p.length?p[0]:null;for(;null!==N||null!==V;){const W=D<h.length?h[D+1]:void 0,X=A<p.length?p[A+1]:void 0;let We,Ie=null;N===V?(D+=2,A+=2,W!==X&&(Ie=V,We=X)):null===V||null!==N&&N<V?(D+=2,Ie=N):(A+=2,Ie=V,We=X),null!==Ie&&Zb(s,o,c,u,Ie,We,v,w),N=D<h.length?h[D]:null,V=A<p.length?p[A]:null}}(h,w,v,v[$t],v[p+1],v[p+1]=function PE(s,o,c){if(null==c||""===c)return fn;const u=[],h=jc(c);if(Array.isArray(h))for(let p=0;p<h.length;p++)s(u,h[p],!0);else if("object"==typeof h)for(const p in h)h.hasOwnProperty(p)&&s(u,p,h[p]);else"string"==typeof h&&o(u,h);return u}(s,o,c),u,p)}}(kE,Po,s,!0)}function Po(s,o){for(let c=function ec(s){return function Mv(s){Zt.key=0,Zt.keyEnd=0,Zt.value=0,Zt.valueEnd=0,Zt.textEnd=s.length}(s),Gb(s,Td(s,0,Zt.textEnd))}(o);c>=0;c=Gb(o,c))ws(s,xE(o),!0)}function Wb(s,o){return o>=s.expandoStartIndex}function RE(s,o,c,u){const h=s.data;if(null===h[c+1]){const p=h[ci()],v=Wb(s,c);Yb(p,u)&&null===o&&!v&&(o=!1),o=function Rv(s,o,c,u){const h=function Hu(s){const o=Bt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let p=u?o.residualClasses:o.residualStyles;if(null===h)0===(u?o.classBindings:o.styleBindings)&&(c=pf(c=Pv(null,s,o,c,u),o.attrs,u),p=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==h)if(c=Pv(h,s,o,c,u),null===p){let D=function IA(s,o,c){const u=c?o.classBindings:o.styleBindings;if(0!==Jl(u))return s[Zc(u)]}(s,o,u);void 0!==D&&Array.isArray(D)&&(D=Pv(null,s,o,D[1],u),D=pf(D,o.attrs,u),function CA(s,o,c,u){s[Zc(c?o.classBindings:o.styleBindings)]=u}(s,o,u,D))}else p=function ff(s,o,c){let u;const h=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<h;p++)u=pf(u,s[p].hostAttrs,c);return pf(u,o.attrs,c)}(s,o,u)}return void 0!==p&&(u?o.residualClasses=p:o.residualStyles=p),c}(h,p,o,u),function hf(s,o,c,u,h,p){let v=p?o.classBindings:o.styleBindings,w=Zc(v),D=Jl(v);s[u]=c;let N,A=!1;if(Array.isArray(c)?(N=c[1],(null===N||Ll(c,N)>0)&&(A=!0)):N=c,h)if(0!==D){const W=Zc(s[w+1]);s[u+1]=tm(W,w),0!==W&&(s[W+1]=Sv(s[W+1],u)),s[w+1]=function OE(s,o){return 131071&s|o<<17}(s[w+1],u)}else s[u+1]=tm(w,0),0!==w&&(s[w+1]=Sv(s[w+1],u)),w=u;else s[u+1]=tm(D,0),0===w?w=u:s[D+1]=Sv(s[D+1],u),D=u;A&&(s[u+1]=Tv(s[u+1])),No(s,N,u,!0),No(s,N,u,!1),function DA(s,o,c,u,h){const p=h?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof o&&Ll(p,o)>=0&&(c[u+1]=Es(c[u+1]))}(o,N,s,u,p),v=tm(w,D),p?o.classBindings=v:o.styleBindings=v}(h,p,o,c,v,u)}}function Pv(s,o,c,u,h){let p=null;const v=c.directiveEnd;let w=c.directiveStylingLast;for(-1===w?w=c.directiveStart:w++;w<v&&(p=o[w],u=pf(u,p.hostAttrs,h),p!==s);)w++;return null!==s&&(c.directiveStylingLast=w),u}function pf(s,o,c){const u=c?1:2;let h=-1;if(null!==o)for(let p=0;p<o.length;p++){const v=o[p];"number"==typeof v?h=v:h===u&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),ws(s,v,!!c||o[++p]))}return void 0===s?null:s}function kE(s,o,c){const u=String(o);""!==u&&!u.includes(" ")&&ws(s,u,c)}function Zb(s,o,c,u,h,p,v,w){if(!(3&o.type))return;const D=s.data,A=D[w+1],N=function Av(s){return 1==(1&s)}(A)?Kb(D,o,c,h,Jl(A),v):void 0;im(N)||(im(p)||function Id(s){return 2==(2&s)}(A)&&(p=Kb(D,null,c,h,w,v)),function XT(s,o,c,u,h){if(o)h?s.addClass(c,u):s.removeClass(c,u);else{let p=-1===u.indexOf("-")?void 0:rd.DashCase;null==h?s.removeStyle(c,u,p):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),p|=rd.Important),s.setStyle(c,u,h,p))}}(u,v,Oa(ci(),c),h,p))}function Kb(s,o,c,u,h,p){const v=null===o;let w;for(;h>0;){const D=s[h],A=Array.isArray(D),N=A?D[1]:D,V=null===N;let W=c[h+1];W===Qt&&(W=V?fn:void 0);let X=V?$p(W,u):N===u?W:void 0;if(A&&!im(X)&&(X=$p(D,u)),im(X)&&(w=X,v))return w;const Ie=s[h+1];h=v?Zc(Ie):Jl(Ie)}if(null!==o){let D=p?o.residualClasses:o.residualStyles;null!=D&&(w=$p(D,u))}return w}function im(s){return void 0!==s}function Yb(s,o){return 0!=(s.flags&(o?8:16))}function Jb(s,o=""){const c=Re(),u=mn(),h=s+nn,p=u.firstCreatePass?ql(u,h,1,o,null):u.data[h],v=Qb(u,c,p,o,s);c[h]=v,rs()&&sg(u,c,v,p),Ui(p,!1)}let Qb=(s,o,c,u,h)=>(is(!0),di(o[$t],u));function kv(s){return sm("",s,""),kv}function sm(s,o,c){const u=Re(),h=Ja(u,s,o,c);return h!==Qt&&function Gc(s,o,c){const u=Oa(o,s);!function Hs(s,o,c){s.setValue(o,c)}(s[$t],u,c)}(u,ci(),h),sm}function zs(s,o,c){const u=Re();return ti(u,Tc(),o)&&ei(mn(),Vn(),u,s,o,u[$t],c,!0),zs}const _t=void 0;var TA=["en",[["a","p"],["AM","PM"],_t],[["AM","PM"],_t,_t],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],_t,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],_t,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",_t,"{1} 'at' {0}",_t],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Ot(s){const c=Math.floor(Math.abs(s)),u=s.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===u?1:5}];let ct={};function je(s){const o=function SA(s){return s.toLowerCase().replace(/_/g,"-")}(s);let c=sI(o);if(c)return c;const u=o.split("-")[0];if(c=sI(u),c)return c;if("en"===u)return TA;throw new se(701,!1)}function l1(s){return je(s)[gf.PluralCase]}function sI(s){return s in ct||(ct[s]=Gt.ng&&Gt.ng.common&&Gt.ng.common.locales&&Gt.ng.common.locales[s]),ct[s]}var gf=function(s){return s[s.LocaleId=0]="LocaleId",s[s.DayPeriodsFormat=1]="DayPeriodsFormat",s[s.DayPeriodsStandalone=2]="DayPeriodsStandalone",s[s.DaysFormat=3]="DaysFormat",s[s.DaysStandalone=4]="DaysStandalone",s[s.MonthsFormat=5]="MonthsFormat",s[s.MonthsStandalone=6]="MonthsStandalone",s[s.Eras=7]="Eras",s[s.FirstDayOfWeek=8]="FirstDayOfWeek",s[s.WeekendRange=9]="WeekendRange",s[s.DateFormat=10]="DateFormat",s[s.TimeFormat=11]="TimeFormat",s[s.DateTimeFormat=12]="DateTimeFormat",s[s.NumberSymbols=13]="NumberSymbols",s[s.NumberFormats=14]="NumberFormats",s[s.CurrencyCode=15]="CurrencyCode",s[s.CurrencySymbol=16]="CurrencySymbol",s[s.CurrencyName=17]="CurrencyName",s[s.Currencies=18]="Currencies",s[s.Directionality=19]="Directionality",s[s.PluralCase=20]="PluralCase",s[s.ExtraData=21]="ExtraData",s}(gf||{});const mf="en-US",Bv={marker:"element"},om={marker:"ICU"};var Pt=function(s){return s[s.SHIFT=2]="SHIFT",s[s.APPEND_EAGERLY=1]="APPEND_EAGERLY",s[s.COMMENT=2]="COMMENT",s}(Pt||{});let u1=mf;function fr(s){(function mt(s,o){null==s&&tt(o,s,null,"!=")})(s,"Expected localeId to be defined"),"string"==typeof s&&(u1=s.toLowerCase().replace(/_/g,"-"))}function _f(s,o,c){const u=o.insertBeforeIndex,h=Array.isArray(u)?u[0]:u;return null===h?aD(s,0,c):_n(c[h])}function In(s,o,c,u,h){const p=o.insertBeforeIndex;if(Array.isArray(p)){let v=u,w=null;if(3&o.type||(w=v,v=h),null!==v&&-1===o.componentOffset)for(let D=1;D<p.length;D++)ad(s,v,c[p[D]],w,!1)}}function aI(s,o){if(s.push(o),s.length>1)for(let c=s.length-2;c>=0;c--){const u=s[c];Tr(u)||ht(u,o)&&null===Vv(u)&&d1(u,o.index)}}function Tr(s){return!(64&s.type)}function ht(s,o){return Tr(o)||s.index>o.index}function Vv(s){const o=s.insertBeforeIndex;return Array.isArray(o)?o[0]:o}function d1(s,o){const c=s.insertBeforeIndex;Array.isArray(c)?c[0]=o:(ig(_f,In),s.insertBeforeIndex=o)}function OA(s,o,c){const u=Og(s,c,64,null,null);return aI(o,u),u}function uI(){const s=[];let c,u,o=-1;function p(w,D){o=0;const A=function Ql(s,o){const c=o[s.currentCaseLViewIndex];return null===c?c:c<0?~c:c}(w,D);u=null!==A?w.remove[A]:fn}function v(){if(o<u.length){const w=u[o++];return w>0?c[w]:(s.push(o,u),p(c[st].data[~w],c),v())}return 0===s.length?null:(u=s.pop(),o=s.pop(),v())}return function h(w,D){for(c=D;s.length;)s.pop();return p(w.value,D),v}}const tu=/\ufffd(\d+):?\d*\ufffd/gi,cs=/\ufffd(\d+)\ufffd/,fI=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Df="\ufffd",tc=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,pI=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,$v=/\uE500/g;function mI(s,o,c,u,h,p,v){const w=Uh(s,u,1,null);let D=w<<Pt.SHIFT,A=Jn();o===A&&(A=null),null===A&&(D|=Pt.APPEND_EAGERLY),v&&(D|=Pt.COMMENT,function ie(s){void 0===B&&(B=s())}(uI)),h.push(D,null===p?"":p);const N=Og(s,w,v?32:1,null===p?"":p,null);aI(c,N);const V=N.index;return Ui(N,!1),null!==A&&o!==A&&function Uv(s,o){let c=s.insertBeforeIndex;null===c?(ig(_f,In),c=s.insertBeforeIndex=[null,o]):(function $n(s,o,c){s!=o&&tt(c,s,o,"==")}(Array.isArray(c),!0,"Expecting array here"),c.push(o))}(A,V),N}function NA(s,o,c,u,h,p,v){const w=v.match(tu),D=mI(s,o,c,p,u,w?null:v,!1);w&&cm(h,v,D.index,null,0,null)}function cm(s,o,c,u,h,p){const v=s.length,w=v+1;s.push(null,null);const D=v+2,A=o.split(tu);let N=0;for(let V=0;V<A.length;V++){const W=A[V];if(1&V){const X=h+parseInt(W,10);s.push(-1-X),N|=_I(X)}else""!==W&&s.push(W)}return s.push(c<<2|(u?1:0)),u&&s.push(u,p),s[v]=N,s[w]=s.length-D,N}function _I(s){return 1<<Math.min(s,31)}function vI(s){let o,p,c="",u=0,h=!1;for(;null!==(o=tc.exec(s));)h?o[0]===`${Df}/*${p}${Df}`&&(u=o.index,h=!1):(c+=s.substring(u,o.index+o[0].length),p=o[1],h=!0);return c+=s.slice(u),c}function yI(s,o,c,u,h,p){let v=0;const w={type:h.type,currentCaseLViewIndex:Uh(s,o,1,null),anchorIdx:p,cases:[],create:[],remove:[],update:[]};(function DI(s,o,c){s.push(_I(o.mainBinding),2,-1-o.mainBinding,c<<2|2)})(c,h,p),function MA(s,o,c){const u=s.data[o];null===u?s.data[o]=c:u.value=c}(s,p,w);const D=h.values;for(let A=0;A<D.length;A++){const N=D[A],V=[];for(let W=0;W<N.length;W++){const X=N[W];if("string"!=typeof X){const Ie=V.push(X)-1;N[W]=`\x3c!--\ufffd${Ie}\ufffd--\x3e`}}v=BA(s,w,o,c,u,h.cases[A],N.join(""),V)|v}v&&function VA(s,o,c){s.push(o,1,c<<2|3)}(c,v,p)}function LA(s){const o=[],c=[];let u=1,h=0;const p=g1(s=s.replace(fI,function(v,w,D){return u="select"===D?0:1,h=parseInt(w.slice(1),10),""}));for(let v=0;v<p.length;){let w=p[v++].trim();1===u&&(w=w.replace(/\s*(?:=)?(\w+)\s*/,"$1")),w.length&&o.push(w);const D=g1(p[v++]);o.length>c.length&&c.push(D)}return{type:u,mainBinding:h,cases:o,values:c}}function g1(s){if(!s)return[];let o=0;const c=[],u=[],h=/[{}]/g;let p;for(h.lastIndex=0;p=h.exec(s);){const w=p.index;if("}"==p[0]){if(c.pop(),0==c.length){const D=s.substring(o,w);fI.test(D)?u.push(LA(D)):u.push(D),o=w+1}}else{if(0==c.length){const D=s.substring(o,w);u.push(D),o=w+1}c.push("{")}}const v=s.substring(o);return u.push(v),u}function BA(s,o,c,u,h,p,v,w){const D=[],A=[],N=[];o.cases.push(p),o.create.push(D),o.remove.push(A),o.update.push(N);const W=function lg(s){const o=new oS(s);return function ug(){try{return!!(new window.DOMParser).parseFromString(Nh(""),"text/html")}catch{return!1}}()?new sS(o):o}(cd()).getInertBodyElement(v),X=function CD(s){return"content"in s&&function bx(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}(W)||W;return X?m1(s,o,c,u,D,A,N,X,h,w,0):0}function m1(s,o,c,u,h,p,v,w,D,A,N){let V=0,W=w.firstChild;for(;W;){const X=Uh(s,c,1,null);switch(W.nodeType){case Node.ELEMENT_NODE:const Ie=W,We=Ie.tagName.toLowerCase();if(E0.hasOwnProperty(We)){lm(h,Bv,We,D,X),s.data[X]=We;const Kt=Ie.attributes;for(let dn=0;dn<Kt.length;dn++){const Fn=Kt.item(dn),hs=Fn.name.toLowerCase();Fn.value.match(tu)?DD.hasOwnProperty(hs)&&cm(v,Fn.value,X,Fn.name,0,x_[hs]?w0:null):Pi(h,X,Fn)}V=m1(s,o,c,u,h,p,v,W,X,A,N+1)|V,bI(p,X,N)}break;case Node.TEXT_NODE:const lt=W.textContent||"",xt=lt.match(tu);lm(h,null,xt?"":lt,D,X),bI(p,X,N),xt&&(V=cm(v,lt,X,null,0,null)|V);break;case Node.COMMENT_NODE:const Le=cs.exec(W.textContent||"");if(Le){const dn=A[parseInt(Le[1],10)];lm(h,om,"",D,X),yI(s,c,u,D,dn,X),wI(p,X,N)}}W=W.nextSibling}return V}function bI(s,o,c){0===c&&s.push(o)}function wI(s,o,c){0===c&&(s.push(~o),s.push(o))}function lm(s,o,c,u,h){null!==o&&s.push(o),s.push(c,h,function p1(s,o,c){return s|o<<17|c<<1}(0,u,h))}function Pi(s,o,c){s.push(o<<1|1,c.name,c.value)}function Cs(s,o,c=-1){const u=mn(),h=Re(),p=nn+s,v=Zo(u.consts,o),w=Jn();u.firstCreatePass&&function xA(s,o,c,u,h,p){const v=Jn(),w=[],D=[],A=[[]];h=function FA(s,o){if(function kA(s){return-1===s}(o))return vI(s);{const c=s.indexOf(`:${o}${Df}`)+2+o.toString().length,u=s.search(new RegExp(`${Df}\\/\\*\\d+:${o}${Df}`));return vI(s.substring(c,u))}}(h,p);const N=function gI(s){return s.replace($v," ")}(h).split(pI);for(let V=0;V<N.length;V++){let W=N[V];if(1&V){const X=47===W.charCodeAt(0),We=(W.charCodeAt(X?1:0),nn+Number.parseInt(W.substring(X?2:1)));if(X)A.shift(),Ui(Jn(),!1);else{const lt=OA(s,A[0],We);A.unshift([]),Ui(lt,!0)}}else{const X=g1(W);for(let Ie=0;Ie<X.length;Ie++){let We=X[Ie];if(1&Ie){const lt=We;if("object"!=typeof lt)throw new Error(`Unable to parse ICU expression in "${h}" message.`);yI(s,c,D,o,lt,mI(s,v,A[0],c,w,"",!0).index)}else""!==We&&NA(s,v,A[0],w,D,c,We)}}}s.data[u]={create:w,update:D}}(u,null===w?0:w.index,h,p,v,c),2===u.type?h[vr][Vt]|=32:h[Vt]|=32;const D=u.data[p],N=od(u,w===h[Hr]?null:w,h);(function jv(s,o,c,u){const h=s[$t];for(let p=0;p<o.length;p++){const v=o[p++],w=o[p],A=(v&Pt.APPEND_EAGERLY)===Pt.APPEND_EAGERLY,N=v>>>Pt.SHIFT;let V=s[N];null===V&&(V=s[N]=(v&Pt.COMMENT)===Pt.COMMENT?h.createComment(w):di(h,w)),A&&null!==c&&ad(h,c,V,u,!1)}})(h,D.create,N,w&&8&w.type?h[w.index]:null),Pa(!0)}function CI(s,o,c){Cs(s,o,c),function v1(){Pa(!1)}()}function If(s,o,c,u,h){if(s=Be(s),Array.isArray(s))for(let p=0;p<s.length;p++)If(s[p],o,c,u,h);else{const p=mn(),v=Re(),w=zn();let D=Ph(s)?s:Be(s.provide);const A=M0(s),N=1048575&w.providerIndexes,V=w.directiveStart,W=w.providerIndexes>>20;if(Ph(s)||!s.multi){const X=new li(A,h,pd),Ie=nc(D,o,h?N:N+W,V);-1===Ie?(Yo(hr(w,v),p,D),Md(p,s,o.length),o.push(D),w.directiveStart++,w.directiveEnd++,h&&(w.providerIndexes+=1048576),c.push(X),v.push(X)):(c[Ie]=X,v[Ie]=X)}else{const X=nc(D,o,N+W,V),Ie=nc(D,o,N,N+W),lt=Ie>=0&&c[Ie];if(h&&!lt||!h&&!(X>=0&&c[X])){Yo(hr(w,v),p,D);const xt=function ic(s,o,c,u,h){const p=new li(s,c,pd);return p.multi=[],p.index=o,p.componentProviders=0,SI(p,h,u&&!c),p}(h?zv:iu,c.length,h,u,A);!h&&lt&&(c[Ie].providerFactory=xt),Md(p,s,o.length,0),o.push(D),w.directiveStart++,w.directiveEnd++,h&&(w.providerIndexes+=1048576),c.push(xt),v.push(xt)}else Md(p,s,X>-1?X:Ie,SI(c[h?Ie:X],A,!h&&u));!h&&u&&lt&&c[Ie].componentProviders++}}}function Md(s,o,c,u){const h=Ph(o),p=function Se(s){return!!s.useClass}(o);if(h||p){const D=(p?Be(o.useClass):o).prototype.ngOnDestroy;if(D){const A=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const N=A.indexOf(c);-1===N?A.push(c,[u,D]):A[N+1].push(u,D)}else A.push(c,D)}}}function SI(s,o,c){return c&&s.componentProviders++,s.multi.push(o)-1}function nc(s,o,c,u){for(let h=c;h<u;h++)if(o[h]===s)return h;return-1}function iu(s,o,c,u){return rc(this.multi,[])}function zv(s,o,c,u){const h=this.multi;let p;if(this.providerFactory){const v=this.providerFactory.componentProviders,w=Qo(c,c[st],this.providerFactory.index,u);p=w.slice(0,v),rc(h,p);for(let D=v;D<w.length;D++)p.push(w[D])}else p=[],rc(h,p);return p}function rc(s,o){for(let c=0;c<s.length;c++)o.push((0,s[c])());return o}function Cf(s,o=[]){return c=>{c.providersResolver=(u,h)=>function Gv(s,o,c){const u=mn();if(u.firstCreatePass){const h=es(s);If(c,u.data,u.blueprint,h,!0),If(o,u.data,u.blueprint,h,!1)}}(u,h?h(s):s,o)}}class qs{}class y1{}function Tf(s,o){return new Sf(s,o??null,[])}class Sf extends qs{constructor(o,c,u){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new xi(this);const h=Bi(o);this._bootstrapComponents=Ka(h.bootstrap),this._r3Injector=Tg(o,c,[{provide:qs,useValue:this},{provide:$_,useValue:this.componentFactoryResolver},...u],te(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Qc extends y1{constructor(o){super(),this.moduleType=o}create(o){return new Sf(this.moduleType,o,[])}}class Af extends qs{constructor(o){super(),this.componentFactoryResolver=new xi(this),this.instance=null;const c=new pg([...o.providers,{provide:qs,useValue:this},{provide:$_,useValue:this.componentFactoryResolver}],o.parent||k_(),o.debugName,new Set(["environment"]));this.injector=c,o.runEnvironmentInitializers&&c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function w1(s,o,c=null){return new Af({providers:s,parent:o,debugName:c,runEnvironmentInitializers:!0}).injector}let MI=(()=>{var s;class o{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u)){const h=ND(0,u.type),p=h.length>0?w1([h],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u,p)}return this.cachedInjectors.get(u)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return(s=o).\u0275prov=Ut({token:s,providedIn:"environment",factory:()=>new s(zt(sa))}),o})();function um(s){s.getStandaloneInjector=o=>o.get(MI).getOrCreateStandaloneInjector(s)}function Wv(s,o,c,u){return function S1(s,o,c,u,h,p){const v=o+c;return ti(s,v,h)?wr(s,v+1,p?u.call(p,h):u(h)):dm(s,v+1)}(Re(),Ii(),s,o,c,u)}function qv(s,o,c,u,h){return function LI(s,o,c,u,h,p,v){const w=o+c;return Ya(s,w,h,p)?wr(s,w+2,v?u.call(v,h,p):u(h,p)):dm(s,w+2)}(Re(),Ii(),s,o,c,u,h)}function C1(s,o,c,u,h,p){return function A1(s,o,c,u,h,p,v,w){const D=o+c;return function Gg(s,o,c,u,h){const p=Ya(s,o,c,u);return ti(s,o+2,h)||p}(s,D,h,p,v)?wr(s,D+3,w?u.call(w,h,p,v):u(h,p,v)):dm(s,D+3)}(Re(),Ii(),s,o,c,u,h,p)}function dm(s,o){const c=s[o];return c===Qt?void 0:c}function Rf(){return this._results[Symbol.iterator]()}class Jv{get changes(){return this._changes||(this._changes=new Ds)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=Jv.prototype;c[Symbol.iterator]||(c[Symbol.iterator]=Rf)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,c){return this._results.reduce(o,c)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,c){const u=this;u.dirty=!1;const h=function Ir(s){return s.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function $i(s,o,c){if(s.length!==o.length)return!1;for(let u=0;u<s.length;u++){let h=s[u],p=o[u];if(c&&(h=c(h),p=c(p)),p!==h)return!1}return!0}(u._results,h,c))&&(u._results=h,u.length=h.length,u.last=h[this.length-1],u.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function N1(s,o,c,u=!0){const h=o[st];if(function l0(s,o,c,u){const h=Gr+u,p=c.length;u>0&&(c[h-1][vi]=o),u<p-Gr?(o[vi]=c[h],p_(c,Gr+u,o)):(c.push(o),o[vi]=null),o[xn]=c;const v=o[pc];null!==v&&c!==v&&function rg(s,o){const c=s[yi];o[vr]!==o[xn][xn][vr]&&(s[Tu]=!0),null===c?s[yi]=[o]:c.push(o)}(v,o);const w=o[ps];null!==w&&w.insertView(s),o[Vt]|=128}(h,o,s,c),u){const p=p0(c,s),v=o[$t],w=S_(v,s[ii]);null!==w&&function zl(s,o,c,u,h,p){u[lr]=h,u[Hr]=o,ag(s,u,c,1,h,p)}(h,s[Hr],v,o,w,p)}}let pi=(()=>{class o{}return o.__NG_ELEMENT_ID__=hm,o})();const R1=pi,Qv=class extends R1{constructor(o,c,u){super(),this._declarationLView=o,this._declarationTContainer=c,this.elementRef=u}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(o,c){return this.createEmbeddedViewImpl(o,c)}createEmbeddedViewImpl(o,c,u){const h=function O1(s,o,c,u){const h=o.tView,w=rb(s,h,c,4096&s[Vt]?4096:16,null,o,null,null,null,u?.injector??null,u?.hydrationInfo??null);w[pc]=s[o.index];const A=s[ps];return null!==A&&(w[ps]=A.createEmbeddedView(h)),ov(h,w,c),w}(this._declarationLView,this._declarationTContainer,o,{injector:c,hydrationInfo:u});return new _d(h)}};function hm(){return fm(zn(),Re())}function fm(s,o){return 4&s.type?new Qv(o,s,Bh(s,o)):null}let mm=(()=>{class o{}return o.__NG_ELEMENT_ID__=sc,o})();function sc(){return rn(zn(),Re())}const GI=mm,Ff=class extends GI{constructor(o,c,u){super(),this._lContainer=o,this._hostTNode=c,this._hostLView=u}get element(){return Bh(this._hostTNode,this._hostLView)}get injector(){return new or(this._hostTNode,this._hostLView)}get parentInjector(){const o=oo(this._hostTNode,this._hostLView);if(Nc(o)){const c=Un(o,this._hostLView),u=wn(o);return new or(c[st].data[u+8],c)}return new or(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const c=zI(this._lContainer);return null!==c&&c[o]||null}get length(){return this._lContainer.length-Gr}createEmbeddedView(o,c,u){let h,p;"number"==typeof u?h=u:null!=u&&(h=u.index,p=u.injector);const w=o.createEmbeddedViewImpl(c||{},p,null);return this.insertImpl(w,h,false),w}createComponent(o,c,u,h,p){const v=o&&!function Ft(s){return"function"==typeof s}(o);let w;if(v)w=c;else{const We=c||{};w=We.index,u=We.injector,h=We.projectableNodes,p=We.environmentInjector||We.ngModuleRef}const D=v?o:new Lg(tn(o)),A=u||this.parentInjector;if(!p&&null==D.ngModule){const lt=(v?A:this.parentInjector).get(sa,null);lt&&(p=lt)}tn(D.componentType??{});const X=D.create(A,h,null,p);return this.insertImpl(X.hostView,w,false),X}insert(o,c){return this.insertImpl(o,c,!1)}insertImpl(o,c,u){const h=o._lView;if(function uh(s){return si(s[xn])}(h)){const D=this.indexOf(o);if(-1!==D)this.detach(D);else{const A=h[xn],N=new Ff(A,A[Hr],A[xn]);N.detach(N.indexOf(o))}}const v=this._adjustIndex(c),w=this._lContainer;return N1(w,h,v,!u),o.attachToViewContainerRef(),p_(k1(w),v,o),o}move(o,c){return this.insert(o,c)}indexOf(o){const c=zI(this._lContainer);return null!==c?c.indexOf(o):-1}remove(o){const c=this._adjustIndex(o,-1),u=T_(this._lContainer,c);u&&(Up(k1(this._lContainer),c),u0(u[st],u))}detach(o){const c=this._adjustIndex(o,-1),u=T_(this._lContainer,c);return u&&null!=Up(k1(this._lContainer),c)?new _d(u):null}_adjustIndex(o,c=0){return o??this.length+c}};function zI(s){return s[8]}function k1(s){return s[8]||(s[8]=[])}function rn(s,o){let c;const u=o[s.index];return si(u)?c=u:(c=iv(u,o,null,s),o[s.index]=c,sv(o,c)),ey(c,o,s,u),new Ff(c,s,o)}let ey=function F1(s,o,c,u){if(s[ii])return;let h;h=8&c.type?_n(u):function qA(s,o){const c=s[$t],u=c.createComment(""),h=Di(o,s);return ad(c,S_(c,h),u,function JT(s,o){return s.nextSibling(o)}(c,h),!1),u}(o,c),s[ii]=h};class Lf{constructor(o){this.queryList=o,this.matches=null}clone(){return new Lf(this.queryList)}setDirty(){this.queryList.setDirty()}}class L1{constructor(o=[]){this.queries=o}createEmbeddedView(o){const c=o.queries;if(null!==c){const u=null!==o.contentQueries?o.contentQueries[0]:c.length,h=[];for(let p=0;p<u;p++){const v=c.getByIndex(p);h.push(this.queries[v.indexInDeclarationView].clone())}return new L1(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let c=0;c<this.queries.length;c++)null!==eC(o,c).matches&&this.queries[c].setDirty()}}class ZI{constructor(o,c,u=null){this.predicate=o,this.flags=c,this.read=u}}class ty{constructor(o=[]){this.queries=o}elementStart(o,c){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(o,c)}elementEnd(o){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(o)}embeddedTView(o){let c=null;for(let u=0;u<this.length;u++){const h=null!==c?c.length:0,p=this.getByIndex(u).embeddedTView(o,h);p&&(p.indexInDeclarationView=u,null!==c?c.push(p):c=[p])}return null!==c?new ty(c):null}template(o,c){for(let u=0;u<this.queries.length;u++)this.queries[u].template(o,c)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class su{constructor(o,c=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(o,c){this.isApplyingToNode(c)&&this.matchTNode(o,c)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,c){this.elementStart(o,c)}embeddedTView(o,c){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,c),new su(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let u=o.parent;for(;null!==u&&8&u.type&&u.index!==c;)u=u.parent;return c===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(o,c){const u=this.metadata.predicate;if(Array.isArray(u))for(let h=0;h<u.length;h++){const p=u[h];this.matchTNodeWithReadOption(o,c,xd(c,p)),this.matchTNodeWithReadOption(o,c,To(c,o,p,!1,!1))}else u===pi?4&c.type&&this.matchTNodeWithReadOption(o,c,-1):this.matchTNodeWithReadOption(o,c,To(c,o,u,!1,!1))}matchTNodeWithReadOption(o,c,u){if(null!==u){const h=this.metadata.read;if(null!==h)if(h===Eg||h===mm||h===pi&&4&c.type)this.addMatch(c.index,-2);else{const p=To(c,o,h,!1,!1);null!==p&&this.addMatch(c.index,p)}else this.addMatch(c.index,u)}}addMatch(o,c){null===this.matches?this.matches=[o,c]:this.matches.push(o,c)}}function xd(s,o){const c=s.localNames;if(null!==c)for(let u=0;u<c.length;u+=2)if(c[u]===o)return c[u+1];return null}function Nd(s,o,c,u){return-1===c?function KI(s,o){return 11&s.type?Bh(s,o):4&s.type?fm(s,o):null}(o,s):-2===c?function YI(s,o,c){return c===Eg?Bh(o,s):c===pi?fm(o,s):c===mm?rn(o,s):void 0}(s,o,u):Qo(s,s[st],c,o)}function Rd(s,o,c,u){const h=o[ps].queries[u];if(null===h.matches){const p=s.data,v=c.matches,w=[];for(let D=0;D<v.length;D+=2){const A=v[D];w.push(A<0?null:Nd(o,p[A],v[D+1],c.metadata.read))}h.matches=w}return h.matches}function ny(s,o,c,u){const h=s.queries.getByIndex(c),p=h.matches;if(null!==p){const v=Rd(s,o,h,c);for(let w=0;w<p.length;w+=2){const D=p[w];if(D>0)u.push(v[w/2]);else{const A=p[w+1],N=o[-D];for(let V=Gr;V<N.length;V++){const W=N[V];W[pc]===W[xn]&&ny(W[st],W,A,u)}if(null!==N[yi]){const V=N[yi];for(let W=0;W<V.length;W++){const X=V[W];ny(X[st],X,A,u)}}}}}return u}function B1(s){const o=Re(),c=mn(),u=Rp();Gu(u+1);const h=eC(c,u);if(s.dirty&&function Tp(s){return 4==(4&s[Vt])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const p=h.crossesNgTemplate?ny(c,o,u,[]):Rd(c,o,h,u);s.reset(p,Ig),s.notifyOnChanges()}return!0}return!1}function Bf(s,o,c){const u=mn();u.firstCreatePass&&(vm(u,new ZI(s,o,c),-1),2==(2&o)&&(u.staticViewQueries=!0)),_m(u,Re(),o)}function JI(s,o,c,u){const h=mn();if(h.firstCreatePass){const p=zn();vm(h,new ZI(o,c,u),p.index),function XI(s,o){const c=s.contentQueries||(s.contentQueries=[]);o!==(c.length?c[c.length-1]:-1)&&c.push(s.queries.length-1,o)}(h,s),2==(2&c)&&(h.staticContentQueries=!0)}_m(h,Re(),c)}function QI(){return function Dr(s,o){return s[ps].queries[o].queryList}(Re(),Rp())}function _m(s,o,c){const u=new Jv(4==(4&c));(function ZS(s,o,c,u){const h=Gh(o);h.push(c),s.firstCreatePass&&eE(s).push(u,h.length-1)})(s,o,u,u.destroy),null===o[ps]&&(o[ps]=new L1),o[ps].queries.push(new Lf(u))}function vm(s,o,c){null===s.queries&&(s.queries=new ty),s.queries.track(new su(o,c))}function eC(s,o){return s.queries.getByIndex(o)}function Vf(s,o){return fm(s,o)}function ou(s){return!!Bi(s)}const mC=new Pn("Application Initializer");let Z1=(()=>{var s;class o{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,h)=>{this.resolve=u,this.reject=h}),this.appInits=Wt(mC,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const u=[];for(const p of this.appInits){const v=p();if(cf(v))u.push(v);else if(Nb(v)){const w=new Promise((D,A)=>{v.subscribe({complete:D,error:A})});u.push(w)}}const h=()=>{this.done=!0,this.resolve()};Promise.all(u).then(()=>{h()}).catch(p=>{this.reject(p)}),0===u.length&&h(),this.initialized=!0}}return(s=o).\u0275fac=function(u){return new(u||s)},s.\u0275prov=Ut({token:s,factory:s.\u0275fac,providedIn:"root"}),o})(),_C=(()=>{var s;class o{log(u){console.log(u)}warn(u){console.warn(u)}}return(s=o).\u0275fac=function(u){return new(u||s)},s.\u0275prov=Ut({token:s,factory:s.\u0275fac,providedIn:"platform"}),o})();const il=new Pn("LocaleId",{providedIn:"root",factory:()=>Wt(il,at.Optional|at.SkipSelf)||function au(){return typeof $localize<"u"&&$localize.locale||mf}()}),vC=new Pn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let K1=(()=>{var s;class o{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new re.X(!1)}add(){this.hasPendingTasks.next(!0);const u=this.taskId++;return this.pendingTasks.add(u),u}remove(u){this.pendingTasks.delete(u),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(s=o).\u0275fac=function(u){return new(u||s)},s.\u0275prov=Ut({token:s,factory:s.\u0275fac,providedIn:"root"}),o})();class aM{constructor(o,c){this.ngModuleFactory=o,this.componentFactories=c}}let yC=(()=>{var s;class o{compileModuleSync(u){return new Qc(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const h=this.compileModuleSync(u),v=Ka(Bi(u).declarations).reduce((w,D)=>{const A=tn(D);return A&&w.push(new Lg(A)),w},[]);return new aM(h,v)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return(s=o).\u0275fac=function(u){return new(u||s)},s.\u0275prov=Ut({token:s,factory:s.\u0275fac,providedIn:"root"}),o})();const dy=new Pn(""),X1=new Pn("");let Zf,ew=(()=>{var s;class o{constructor(u,h,p){this._ngZone=u,this.registry=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Zf||(function SC(s){Zf=s}(p),p.addToWindow(h)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ai.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(u)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,h,p){let v=-1;h&&h>0&&(v=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==v),u(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:u,timeoutId:v,updateCb:p})}whenStable(u,h,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,h,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,h,p){return[]}}return(s=o).\u0275fac=function(u){return new(u||s)(zt(Ai),zt(hy),zt(X1))},s.\u0275prov=Ut({token:s,factory:s.\u0275fac}),o})(),hy=(()=>{var s;class o{constructor(){this._applications=new Map}registerApplication(u,h){this._applications.set(u,h)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,h=!0){return Zf?.findTestabilityInTree(this,u,h)??null}}return(s=o).\u0275fac=function(u){return new(u||s)},s.\u0275prov=Ut({token:s,factory:s.\u0275fac,providedIn:"platform"}),o})(),uu=null;const fy=new Pn("AllowMultipleToken"),Kf=new Pn("PlatformDestroyListeners"),tw=new Pn("appBootstrapListener");class MC{constructor(o,c){this.name=o,this.token=c}}function Cm(s,o,c=[]){const u=`Platform: ${o}`,h=new Pn(u);return(p=[])=>{let v=gy();if(!v||v.injector.get(fy,!1)){const w=[...c,...p,{provide:h,useValue:!0}];s?s(w):function OC(s){if(uu&&!uu.get(fy,!1))throw new se(400,!1);(function Em(){!function ku(s){Dl=s}(()=>{throw new se(600,!1)})})(),uu=s;const o=s.get(du);(function nw(s){s.get(FD,null)?.forEach(c=>c())})(s)}(function al(s=[],o){return Mo.create({name:o,providers:[{provide:P_,useValue:"platform"},{provide:Kf,useValue:new Set([()=>uu=null])},...s]})}(w,u))}return function xC(s){const o=gy();if(!o)throw new se(401,!1);return o}()}}function gy(){return uu?.get(du)??null}let du=(()=>{var s;class o{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,h){const p=function Yf(s="zone.js",o){return"noop"===s?new GD:"zone.js"===s?new Ai(o):s}(h?.ngZone,function NC(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:s?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:s?.runCoalescing??!1}}({eventCoalescing:h?.ngZoneEventCoalescing,runCoalescing:h?.ngZoneRunCoalescing}));return p.run(()=>{const v=function b1(s,o,c){return new Sf(s,o,c)}(u.moduleType,this.injector,function aw(s){return[{provide:Ai,useFactory:s},{provide:hg,multi:!0,useFactory:()=>{const o=Wt(fM,{optional:!0});return()=>o.initialize()}},{provide:RC,useFactory:PC},{provide:Z0,useFactory:zD}]}(()=>p)),w=v.injector.get(Vh,null);return p.runOutsideAngular(()=>{const D=p.onError.subscribe({next:A=>{w.handleError(A)}});v.onDestroy(()=>{my(this._modules,v),D.unsubscribe()})}),function iw(s,o,c){try{const u=c();return cf(u)?u.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):u}catch(u){throw o.runOutsideAngular(()=>s.handleError(u)),u}}(w,p,()=>{const D=v.injector.get(Z1);return D.runInitializers(),D.donePromise.then(()=>(fr(v.injector.get(il,mf)||mf),this._moduleDoBootstrap(v),v))})})}bootstrapModule(u,h=[]){const p=cl({},h);return function AC(s,o,c){const u=new Qc(c);return Promise.resolve(u)}(0,0,u).then(v=>this.bootstrapModuleFactory(v,p))}_moduleDoBootstrap(u){const h=u.injector.get(Bd);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(p=>h.bootstrap(p));else{if(!u.instance.ngDoBootstrap)throw new se(-403,!1);u.instance.ngDoBootstrap(h)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new se(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const u=this._injector.get(Kf,null);u&&(u.forEach(h=>h()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(s=o).\u0275fac=function(u){return new(u||s)(zt(Mo))},s.\u0275prov=Ut({token:s,factory:s.\u0275fac,providedIn:"platform"}),o})();function cl(s,o){return Array.isArray(o)?o.reduce(cl,s):{...s,...o}}let Bd=(()=>{var s;class o{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Wt(RC),this.zoneIsStable=Wt(Z0),this.componentTypes=[],this.components=[],this.isStable=Wt(K1).hasPendingTasks.pipe((0,Pe.w)(u=>u?(0,pe.of)(!1):this.zoneIsStable),(0,ve.x)(),(0,ye.B)()),this._injector=Wt(sa)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,h){const p=u instanceof j_;if(!this._injector.get(Z1).done)throw!p&&fc(u),new se(405,!1);let w;w=p?u:this._injector.get($_).resolveComponentFactory(u),this.componentTypes.push(w.componentType);const D=function Im(s){return s.isBoundToModule}(w)?void 0:this._injector.get(qs),N=w.create(Mo.NULL,[],h||w.selector,D),V=N.location.nativeElement,W=N.injector.get(dy,null);return W?.registerApplication(V),N.onDestroy(()=>{this.detachView(N.hostView),my(this.components,N),W?.unregisterApplication(V)}),this._loadComponent(N),N}tick(){if(this._runningTick)throw new se(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this.internalErrorHandler(u)}finally{this._runningTick=!1}}attachView(u){const h=u;this._views.push(h),h.attachToAppRef(this)}detachView(u){const h=u;my(this._views,h),h.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u);const h=this._injector.get(tw,[]);h.push(...this._bootstrapListeners),h.forEach(p=>p(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>my(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new se(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(s=o).\u0275fac=function(u){return new(u||s)},s.\u0275prov=Ut({token:s,factory:s.\u0275fac,providedIn:"root"}),o})();function my(s,o){const c=s.indexOf(o);c>-1&&s.splice(c,1)}const RC=new Pn("",{providedIn:"root",factory:()=>Wt(Vh).handleError.bind(void 0)});function PC(){const s=Wt(Ai),o=Wt(Vh);return c=>s.runOutsideAngular(()=>o.handleError(c))}let fM=(()=>{var s;class o{constructor(){this.zone=Wt(Ai),this.applicationRef=Wt(Bd)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(s=o).\u0275fac=function(u){return new(u||s)},s.\u0275prov=Ut({token:s,factory:s.\u0275fac,providedIn:"root"}),o})();function kC(){return!1}let FC=(()=>{class o{}return o.__NG_ELEMENT_ID__=LC,o})();function LC(s){return function mM(s,o,c){if(vo(s)&&!c){const u=Ei(s.index,o);return new _d(u,u)}return 47&s.type?new _d(o[vr],o):null}(zn(),Re(),16==(16&s))}class uw{constructor(){}supports(o){return Hg(o)}create(o){return new $C(o)}}const wM=(s,o)=>o;class $C{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||wM}forEachItem(o){let c;for(c=this._itHead;null!==c;c=c._next)o(c)}forEachOperation(o){let c=this._itHead,u=this._removalsHead,h=0,p=null;for(;c||u;){const v=!u||c&&c.currentIndex<GC(u,h,p)?c:u,w=GC(v,h,p),D=v.currentIndex;if(v===u)h--,u=u._nextRemoved;else if(c=c._next,null==v.previousIndex)h++;else{p||(p=[]);const A=w-h,N=D-h;if(A!=N){for(let W=0;W<A;W++){const X=W<p.length?p[W]:p[W]=0,Ie=X+W;N<=Ie&&Ie<A&&(p[W]=X+1)}p[v.previousIndex]=N-A}}w!==D&&o(v,w,D)}}forEachPreviousItem(o){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)o(c)}forEachAddedItem(o){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)o(c)}forEachMovedItem(o){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)o(c)}forEachRemovedItem(o){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)o(c)}forEachIdentityChange(o){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)o(c)}diff(o){if(null==o&&(o=[]),!Hg(o))throw new se(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,p,v,c=this._itHead,u=!1;if(Array.isArray(o)){this.length=o.length;for(let w=0;w<this.length;w++)p=o[w],v=this._trackByFn(w,p),null!==c&&Object.is(c.trackById,v)?(u&&(c=this._verifyReinsertion(c,p,v,w)),Object.is(c.item,p)||this._addIdentityChange(c,p)):(c=this._mismatch(c,p,v,w),u=!0),c=c._next}else h=0,function fE(s,o){if(Array.isArray(s))for(let c=0;c<s.length;c++)o(s[c]);else{const c=s[Symbol.iterator]();let u;for(;!(u=c.next()).done;)o(u.value)}}(o,w=>{v=this._trackByFn(h,w),null!==c&&Object.is(c.trackById,v)?(u&&(c=this._verifyReinsertion(c,w,v,h)),Object.is(c.item,w)||this._addIdentityChange(c,w)):(c=this._mismatch(c,w,v,h),u=!0),c=c._next,h++}),this.length=h;return this._truncate(c),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,c,u,h){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(o.item,c)||this._addIdentityChange(o,c),this._reinsertAfter(o,p,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(u,h))?(Object.is(o.item,c)||this._addIdentityChange(o,c),this._moveAfter(o,p,h)):o=this._addAfter(new HC(c,u),p,h),o}_verifyReinsertion(o,c,u,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==p?o=this._reinsertAfter(p,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const c=o._next;this._addToRemovals(this._unlink(o)),o=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,c,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,p=o._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(o,c,u),this._addToMoves(o,u),o}_moveAfter(o,c,u){return this._unlink(o),this._insertAfter(o,c,u),this._addToMoves(o,u),o}_addAfter(o,c,u){return this._insertAfter(o,c,u),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,c,u){const h=null===c?this._itHead:c._next;return o._next=h,o._prev=c,null===h?this._itTail=o:h._prev=o,null===c?this._itHead=o:c._next=o,null===this._linkedRecords&&(this._linkedRecords=new dw),this._linkedRecords.put(o),o.currentIndex=u,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const c=o._prev,u=o._next;return null===c?this._itHead=u:c._next=u,null===u?this._itTail=c:u._prev=c,o}_addToMoves(o,c){return o.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new dw),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,c){return o.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class HC{constructor(o,c){this.item=o,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class DM{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,c){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===c||c<=u.currentIndex)&&Object.is(u.trackById,o))return u;return null}remove(o){const c=o._prevDup,u=o._nextDup;return null===c?this._head=u:c._nextDup=u,null===u?this._tail=c:u._prevDup=c,null===this._head}}class dw{constructor(){this.map=new Map}put(o){const c=o.trackById;let u=this.map.get(c);u||(u=new DM,this.map.set(c,u)),u.add(o)}get(o,c){const h=this.map.get(o);return h?h.get(o,c):null}remove(o){const c=o.trackById;return this.map.get(c).remove(o)&&this.map.delete(c),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function GC(s,o,c){const u=s.previousIndex;if(null===u)return u;let h=0;return c&&u<c.length&&(h=c[u]),u+o+h}class hw{constructor(){}supports(o){return o instanceof Map||vd(o)}create(){return new EM}}class EM{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let c;for(c=this._mapHead;null!==c;c=c._next)o(c)}forEachPreviousItem(o){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)o(c)}forEachChangedItem(o){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)o(c)}forEachAddedItem(o){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)o(c)}forEachRemovedItem(o){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)o(c)}diff(o){if(o){if(!(o instanceof Map||vd(o)))throw new se(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(o,(u,h)=>{if(c&&c.key===h)this._maybeAddToChanges(c,u),this._appendAfter=c,c=c._next;else{const p=this._getOrCreateRecordForKey(h,u);c=this._insertBeforeOrAppend(c,p)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let u=c;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,c){if(o){const u=o._prev;return c._next=o,c._prev=u,o._prev=c,u&&(u._next=c),o===this._mapHead&&(this._mapHead=c),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(o,c){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,c);const p=h._prev,v=h._next;return p&&(p._next=v),v&&(v._prev=p),h._next=null,h._prev=null,h}const u=new ep(o);return this._records.set(o,u),u.currentValue=c,this._addToAdditions(u),u}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,c){Object.is(c,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=c,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,c){o instanceof Map?o.forEach(c):Object.keys(o).forEach(u=>c(o[u],u))}}class ep{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ud(){return new tp([new uw])}let tp=(()=>{var s;class o{constructor(u){this.factories=u}static create(u,h){if(null!=h){const p=h.factories.slice();u=u.concat(p)}return new o(u)}static extend(u){return{provide:o,useFactory:h=>o.create(u,h||Ud()),deps:[[o,new Lc,new Ju]]}}find(u){const h=this.factories.find(p=>p.supports(u));if(null!=h)return h;throw new se(901,!1)}}return(s=o).\u0275prov=Ut({token:s,providedIn:"root",factory:Ud}),o})();function fw(){return new yy([new hw])}let yy=(()=>{var s;class o{constructor(u){this.factories=u}static create(u,h){if(h){const p=h.factories.slice();u=u.concat(p)}return new o(u)}static extend(u){return{provide:o,useFactory:h=>o.create(u,h||fw()),deps:[[o,new Lc,new Ju]]}}find(u){const h=this.factories.find(p=>p.supports(u));if(h)return h;throw new se(901,!1)}}return(s=o).\u0275prov=Ut({token:s,providedIn:"root",factory:fw}),o})();const pw=Cm(null,"core",[]);let by=(()=>{var s;class o{constructor(u){}}return(s=o).\u0275fac=function(u){return new(u||s)(zt(Bd))},s.\u0275mod=Du({type:s}),s.\u0275inj=Hn({}),o})();function Nm(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}function FM(s,o){const c=tn(s),u=o.elementInjector||k_();return new Lg(c).create(u,o.projectableNodes,o.hostElement,o.environmentInjector)}function LM(s){const o=tn(s);if(!o)return null;const c=new Lg(o);return{get selector(){return c.selector},get type(){return c.componentType},get inputs(){return c.inputs},get outputs(){return c.outputs},get ngContentSelectors(){return c.ngContentSelectors},get isStandalone(){return o.standalone},get isSignal(){return o.signals}}}},3399:(bt,Ce,k)=>{k.d(Ce,{Z:()=>et});var d=k(9058),Q=k(4537),L=k(7592),ee=k(7879);class re{constructor(rt,Ne){this._delegate=rt,this.firebase=Ne,(0,L._addComponent)(rt,new Q.wA("app-compat",()=>this,"PUBLIC")),this.container=rt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(rt){this._delegate.automaticDataCollectionEnabled=rt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(rt=>{this._delegate.checkDestroyed(),rt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,L.deleteApp)(this._delegate)))}_getService(rt,Ne=L._DEFAULT_ENTRY_NAME){var Ct;this._delegate.checkDestroyed();const Dt=this._delegate.container.getProvider(rt);return!Dt.isInitialized()&&"EXPLICIT"===(null===(Ct=Dt.getComponent())||void 0===Ct?void 0:Ct.instantiationMode)&&Dt.initialize(),Dt.getImmediate({identifier:Ne})}_removeServiceInstance(rt,Ne=L._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(rt).clearInstance(Ne)}_addComponent(rt){(0,L._addComponent)(this._delegate,rt)}_addOrOverwriteComponent(rt){(0,L._addOrOverwriteComponent)(this._delegate,rt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ye=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),U=function ve(){const Be=function Pe(Be){const rt={},Ne={__esModule:!0,initializeApp:function se(He,oe={}){const $e=L.initializeApp(He,oe);if((0,d.r3)(rt,$e.name))return rt[$e.name];const it=new Be($e,Ne);return rt[$e.name]=it,it},app:Dt,registerVersion:L.registerVersion,setLogLevel:L.setLogLevel,onLog:L.onLog,apps:null,SDK_VERSION:L.SDK_VERSION,INTERNAL:{registerComponent:function ae(He){const oe=He.name,$e=oe.replace("-compat","");if(L._registerComponent(He)&&"PUBLIC"===He.type){const it=(Nt=Dt())=>{if("function"!=typeof Nt[$e])throw ye.create("invalid-app-argument",{appName:oe});return Nt[$e]()};void 0!==He.serviceProps&&(0,d.ZB)(it,He.serviceProps),Ne[$e]=it,Be.prototype[$e]=function(...Nt){return this._getService.bind(this,oe).apply(this,He.multipleInstances?Nt:[])}}return"PUBLIC"===He.type?Ne[$e]:null},removeApp:function Ct(He){delete rt[He]},useAsService:function Te(He,oe){return"serverAuth"===oe?null:oe},modularAPIs:L}};function Dt(He){if(!(0,d.r3)(rt,He=He||L._DEFAULT_ENTRY_NAME))throw ye.create("no-app",{appName:He});return rt[He]}return Ne.default=Ne,Object.defineProperty(Ne,"apps",{get:function Me(){return Object.keys(rt).map(He=>rt[He])}}),Dt.App=Be,Ne}(re);return Be.INTERNAL=Object.assign(Object.assign({},Be.INTERNAL),{createFirebaseNamespace:ve,extendNamespace:function rt(Ne){(0,d.ZB)(Be,Ne)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),Be}(),G=new ee.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){G.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Be=self.firebase.SDK_VERSION;Be&&Be.indexOf("LITE")>=0&&G.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const et=U;!function Oe(Be){(0,L.registerVersion)("@firebase/app-compat","0.2.13",Be)}()},7592:(bt,Ce,k)=>{k.r(Ce),k.d(Ce,{FirebaseError:()=>ee.ZR,SDK_VERSION:()=>Z,_DEFAULT_ENTRY_NAME:()=>we,_addComponent:()=>tt,_addOrOverwriteComponent:()=>Zn,_apps:()=>Ve,_clearComponents:()=>Sn,_components:()=>mt,_getProvider:()=>ln,_registerComponent:()=>Mt,_removeServiceInstance:()=>Ut,deleteApp:()=>ft,getApp:()=>xe,getApps:()=>nt,initializeApp:()=>ge,onLog:()=>gn,registerVersion:()=>un,setLogLevel:()=>at});var pe,ye,Pe,d=k(5861),Q=k(4537),L=k(7879),ee=k(9058),re=k(1878);class ve{constructor(q){this.container=q}getPlatformInfoString(){return this.container.getProviders().map(Ee=>{if(function U(Ue){const q=Ue.getComponent();return"VERSION"===q?.type}(Ee)){const Xe=Ee.getImmediate();return`${Xe.library}/${Xe.version}`}return null}).filter(Ee=>Ee).join(" ")}}const G="@firebase/app",ke=new L.Yd("@firebase/app"),we="[DEFAULT]",ze={[G]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ve=new Map,mt=new Map;function tt(Ue,q){try{Ue.container.addComponent(q)}catch(Ee){ke.debug(`Component ${q.name} failed to register with FirebaseApp ${Ue.name}`,Ee)}}function Zn(Ue,q){Ue.container.addOrOverwriteComponent(q)}function Mt(Ue){const q=Ue.name;if(mt.has(q))return ke.debug(`There were multiple attempts to register component ${q}.`),!1;mt.set(q,Ue);for(const Ee of Ve.values())tt(Ee,Ue);return!0}function ln(Ue,q){const Ee=Ue.container.getProvider("heartbeat").getImmediate({optional:!0});return Ee&&Ee.triggerHeartbeat(),Ue.container.getProvider(q)}function Ut(Ue,q,Ee=we){ln(Ue,q).clearInstance(Ee)}function Sn(){mt.clear()}const sn=new ee.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Y{constructor(q,Ee,Xe){this._isDeleted=!1,this._options=Object.assign({},q),this._config=Object.assign({},Ee),this._name=Ee.name,this._automaticDataCollectionEnabled=Ee.automaticDataCollectionEnabled,this._container=Xe,this.container.addComponent(new Q.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(q){this.checkDestroyed(),this._automaticDataCollectionEnabled=q}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(q){this._isDeleted=q}checkDestroyed(){if(this.isDeleted)throw sn.create("app-deleted",{appName:this._name})}}const Z="9.23.0";function ge(Ue,q={}){let Ee=Ue;"object"!=typeof q&&(q={name:q});const Xe=Object.assign({name:we,automaticDataCollectionEnabled:!1},q),ut=Xe.name;if("string"!=typeof ut||!ut)throw sn.create("bad-app-name",{appName:String(ut)});if(Ee||(Ee=(0,ee.aH)()),!Ee)throw sn.create("no-options");const wt=Ve.get(ut);if(wt){if((0,ee.vZ)(Ee,wt.options)&&(0,ee.vZ)(Xe,wt.config))return wt;throw sn.create("duplicate-app",{appName:ut})}const On=new Q.H0(ut);for(const H of mt.values())On.addComponent(H);const z=new Y(Ee,Xe,On);return Ve.set(ut,z),z}function xe(Ue=we){const q=Ve.get(Ue);if(!q&&Ue===we&&(0,ee.aH)())return ge();if(!q)throw sn.create("no-app",{appName:Ue});return q}function nt(){return Array.from(Ve.values())}function ft(Ue){return(pe=pe||(0,d.Z)(function*(q){const Ee=q.name;Ve.has(Ee)&&(Ve.delete(Ee),yield Promise.all(q.container.getProviders().map(Xe=>Xe.delete())),q.isDeleted=!0)})).apply(this,arguments)}function un(Ue,q,Ee){var Xe;let ut=null!==(Xe=ze[Ue])&&void 0!==Xe?Xe:Ue;Ee&&(ut+=`-${Ee}`);const wt=ut.match(/\s|\//),On=q.match(/\s|\//);if(wt||On){const z=[`Unable to register library "${ut}" with version "${q}":`];return wt&&z.push(`library name "${ut}" contains illegal characters (whitespace or "/")`),wt&&On&&z.push("and"),On&&z.push(`version name "${q}" contains illegal characters (whitespace or "/")`),void ke.warn(z.join(" "))}Mt(new Q.wA(`${ut}-version`,()=>({library:ut,version:q}),"VERSION"))}function gn(Ue,q){if(null!==Ue&&"function"!=typeof Ue)throw sn.create("invalid-log-argument");(0,L.Am)(Ue,q)}function at(Ue){(0,L.Ub)(Ue)}const Et="firebase-heartbeat-database",jt=1,on="firebase-heartbeat-store";let tr=null;function nr(){return tr||(tr=(0,re.X3)(Et,jt,{upgrade:(Ue,q)=>{0===q&&Ue.createObjectStore(on)}}).catch(Ue=>{throw sn.create("idb-open",{originalErrorMessage:Ue.message})})),tr}function kn(Ue,q){return(Pe=Pe||(0,d.Z)(function*(Ee,Xe){try{const wt=(yield nr()).transaction(on,"readwrite");yield wt.objectStore(on).put(Xe,Mn(Ee)),yield wt.done}catch(ut){if(ut instanceof ee.ZR)ke.warn(ut.message);else{const wt=sn.create("idb-set",{originalErrorMessage:ut?.message});ke.warn(wt.message)}}})).apply(this,arguments)}function Mn(Ue){return`${Ue.name}!${Ue.options.appId}`}class hn{constructor(q){this.container=q,this._heartbeatsCache=null;const Ee=this.container.getProvider("app").getImmediate();this._storage=new Ys(Ee),this._heartbeatsCachePromise=this._storage.read().then(Xe=>(this._heartbeatsCache=Xe,Xe))}triggerHeartbeat(){var q=this;return(0,d.Z)(function*(){const Xe=q.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ut=_i();if(null===q._heartbeatsCache&&(q._heartbeatsCache=yield q._heartbeatsCachePromise),q._heartbeatsCache.lastSentHeartbeatDate!==ut&&!q._heartbeatsCache.heartbeats.some(wt=>wt.date===ut))return q._heartbeatsCache.heartbeats.push({date:ut,agent:Xe}),q._heartbeatsCache.heartbeats=q._heartbeatsCache.heartbeats.filter(wt=>{const On=new Date(wt.date).valueOf();return Date.now()-On<=2592e6}),q._storage.overwrite(q._heartbeatsCache)})()}getHeartbeatsHeader(){var q=this;return(0,d.Z)(function*(){if(null===q._heartbeatsCache&&(yield q._heartbeatsCachePromise),null===q._heartbeatsCache||0===q._heartbeatsCache.heartbeats.length)return"";const Ee=_i(),{heartbeatsToSend:Xe,unsentEntries:ut}=function Ns(Ue,q=1024){const Ee=[];let Xe=Ue.slice();for(const ut of Ue){const wt=Ee.find(On=>On.agent===ut.agent);if(wt){if(wt.dates.push(ut.date),ki(Ee)>q){wt.dates.pop();break}}else if(Ee.push({agent:ut.agent,dates:[ut.date]}),ki(Ee)>q){Ee.pop();break}Xe=Xe.slice(1)}return{heartbeatsToSend:Ee,unsentEntries:Xe}}(q._heartbeatsCache.heartbeats),wt=(0,ee.L)(JSON.stringify({version:2,heartbeats:Xe}));return q._heartbeatsCache.lastSentHeartbeatDate=Ee,ut.length>0?(q._heartbeatsCache.heartbeats=ut,yield q._storage.overwrite(q._heartbeatsCache)):(q._heartbeatsCache.heartbeats=[],q._storage.overwrite(q._heartbeatsCache)),wt})()}}function _i(){return(new Date).toISOString().substring(0,10)}class Ys{constructor(q){this.app=q,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,ee.hl)()&&(0,ee.eu)().then(()=>!0).catch(()=>!1)})()}read(){var q=this;return(0,d.Z)(function*(){return(yield q._canUseIndexedDBPromise)&&(yield function Gt(Ue){return(ye=ye||(0,d.Z)(function*(q){try{return yield(yield nr()).transaction(on).objectStore(on).get(Mn(q))}catch(Ee){if(Ee instanceof ee.ZR)ke.warn(Ee.message);else{const Xe=sn.create("idb-get",{originalErrorMessage:Ee?.message});ke.warn(Xe.message)}}})).apply(this,arguments)}(q.app))||{heartbeats:[]}})()}overwrite(q){var Ee=this;return(0,d.Z)(function*(){var Xe;if(yield Ee._canUseIndexedDBPromise){const wt=yield Ee.read();return kn(Ee.app,{lastSentHeartbeatDate:null!==(Xe=q.lastSentHeartbeatDate)&&void 0!==Xe?Xe:wt.lastSentHeartbeatDate,heartbeats:q.heartbeats})}})()}add(q){var Ee=this;return(0,d.Z)(function*(){var Xe;if(yield Ee._canUseIndexedDBPromise){const wt=yield Ee.read();return kn(Ee.app,{lastSentHeartbeatDate:null!==(Xe=q.lastSentHeartbeatDate)&&void 0!==Xe?Xe:wt.lastSentHeartbeatDate,heartbeats:[...wt.heartbeats,...q.heartbeats]})}})()}}function ki(Ue){return(0,ee.L)(JSON.stringify({version:2,heartbeats:Ue})).length}!function Uo(Ue){Mt(new Q.wA("platform-logger",q=>new ve(q),"PRIVATE")),Mt(new Q.wA("heartbeat",q=>new hn(q),"PRIVATE")),un(G,"0.9.13",Ue),un(G,"0.9.13","esm2017"),un("fire-js","")}("")},4097:(bt,Ce,k)=>{k.d(Ce,{C6:()=>d.getApps,Mq:()=>d.getApp});var d=k(7592);(0,d.registerVersion)("firebase","9.23.0","app")},120:(bt,Ce,k)=>{k.d(Ce,{Z:()=>d.Z});var d=k(3399);d.Z.registerVersion("firebase","9.23.0","app-compat")},8977:(bt,Ce,k)=>{k.r(Ce);var Pe,ve,U,G,te,ke,Oe,et,Be,rt,Ne,Ct,Dt,se,Me,ae,Te,He,oe,$e,it,Nt,En,Nn,Tn,$n,qn,Vr,de,fe,De,we,ze,Ve,mt,tt,Zn,Mt,ln,Ut,Sn,Hn,sn,Y,Z,ge,xe,nt,ft,un,gn,at,Et,jt,on,tr,nr,kn,Mn,an,fs,hn,_i,Ns,Ys,ki,Uo,Ue,q,Ee,Xe,ut,wt,On,z,H,J,Ae,he,vt,Lt,d=k(5861),Q=k(3399),L=k(9058),ee=k(7592),re=k(7582),pe=k(7879),ye=k(4537);const _r={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const vu=function Ur(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},fp=function Js(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Rs=new L.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ji=new pe.Yd("@firebase/auth");function fn(E,...g){Ji.logLevel<=pe.in.ERROR&&Ji.error(`Auth (${ee.SDK_VERSION}): ${E}`,...g)}function Kn(E,...g){throw ks(E,...g)}function Yn(E,...g){return ks(E,...g)}function lc(E,g,m){const b=Object.assign(Object.assign({},fp()),{[g]:m});return new L.LL("auth","Firebase",b).create(g,{appName:E.name})}function po(E,g,m){if(!(g instanceof m))throw m.name!==g.constructor.name&&Kn(E,"argument-error"),lc(E,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ks(E,...g){if("string"!=typeof E){const m=g[0],b=[...g.slice(1)];return b[0]&&(b[0].appName=E.name),E._errorFactory.create(m,...b)}return Rs.create(E,...g)}function Ke(E,g,...m){if(!E)throw ks(g,...m)}function Fi(E){const g="INTERNAL ASSERTION FAILED: "+E;throw fn(g),new Error(g)}function Li(E,g){E||Fi(g)}function jo(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.href)||""}function pl(){return"http:"===gl()||"https:"===gl()}function gl(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.protocol)||null}class $o{constructor(g,m){this.shortDelay=g,this.longDelay=m,Li(m>g,"Short delay should be less than long delay!"),this.isMobile=(0,L.uI)()||(0,L.b$)()}get(){return function uc(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(pl()||(0,L.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function qd(E,g){Li(E.emulator,"Emulator should always be set here");const{url:m}=E.emulator;return g?`${m}${g.startsWith("/")?g.slice(1):g}`:m}class go{static initialize(g,m,b){this.fetchImpl=g,m&&(this.headersImpl=m),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Fi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Fi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Fi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const n_={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},pp=new $o(3e4,6e4);function pn(E,g){return E.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:E.tenantId}):g}function Ln(E,g,m,b){return(Pe=Pe||(0,d.Z)(function*(S,x,B,j,ie={}){return ml(S,ie,(0,d.Z)(function*(){let be={},yt={};j&&("GET"===x?yt=j:be={body:JSON.stringify(j)});const dt=(0,L.xO)(Object.assign({key:S.config.apiKey},yt)).slice(1),Tt=yield S._getAdditionalHeaders();return Tt["Content-Type"]="application/json",S.languageCode&&(Tt["X-Firebase-Locale"]=S.languageCode),go.fetch()(gp(S,S.config.apiHost,B,dt),Object.assign({method:x,headers:Tt,referrerPolicy:"no-referrer"},be))}))})).apply(this,arguments)}function ml(E,g,m){return(ve=ve||(0,d.Z)(function*(b,S,x){b._canInitEmulator=!1;const B=Object.assign(Object.assign({},n_),S);try{const j=new Zd(b),ie=yield Promise.race([x(),j.promise]);j.clearNetworkTimeout();const be=yield ie.json();if("needConfirmation"in be)throw dc(b,"account-exists-with-different-credential",be);if(ie.ok&&!("errorMessage"in be))return be;{const yt=ie.ok?be.errorMessage:be.error.message,[dt,Tt]=yt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===dt)throw dc(b,"credential-already-in-use",be);if("EMAIL_EXISTS"===dt)throw dc(b,"email-already-in-use",be);if("USER_DISABLED"===dt)throw dc(b,"user-disabled",be);const en=B[dt]||dt.toLowerCase().replace(/[_\s]+/g,"-");if(Tt)throw lc(b,en,Tt);Kn(b,en)}}catch(j){if(j instanceof L.ZR)throw j;Kn(b,"network-request-failed",{message:String(j)})}})).apply(this,arguments)}function Xs(E,g,m,b){return(U=U||(0,d.Z)(function*(S,x,B,j,ie={}){const be=yield Ln(S,x,B,j,ie);return"mfaPendingCredential"in be&&Kn(S,"multi-factor-auth-required",{_serverResponse:be}),be})).apply(this,arguments)}function gp(E,g,m,b){const S=`${g}${m}?${b}`;return E.config.emulator?qd(E.config,S):`${E.config.apiScheme}://${S}`}class Zd{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((m,b)=>{this.timer=setTimeout(()=>b(Yn(this.auth,"network-request-failed")),pp.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function dc(E,g,m){const b={appName:E.name};m.email&&(b.email=m.email),m.phoneNumber&&(b.phoneNumber=m.phoneNumber);const S=Yn(E,g,b);return S.customData._tokenResponse=m,S}function Zr(E){if(E)try{const g=new Date(Number(E));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function wu(E){return 1e3*Number(E)}function hc(E){const[g,m,b]=E.split(".");if(void 0===g||void 0===m||void 0===b)return fn("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,L.tV)(m);return S?JSON.parse(S):(fn("Failed to decode base64 JWT payload"),null)}catch(S){return fn("Caught error parsing JWT payload as JSON",S?.toString()),null}}function rr(E,g){return(et=et||(0,d.Z)(function*(m,b,S=!1){if(S)return b;try{return yield b}catch(x){throw x instanceof L.ZR&&function Yd({code:E}){return"auth/user-disabled"===E||"auth/user-token-expired"===E}(x)&&m.auth.currentUser===m&&(yield m.auth.signOut()),x}})).apply(this,arguments)}class Jd{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var m;if(g){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const S=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(g=!1){var m=this;if(!this.isRunning)return;const b=this.getInterval(g);this.timerId=setTimeout((0,d.Z)(function*(){yield m.iteration()}),b)}iteration(){var g=this;return(0,d.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&g.schedule(!0))}g.schedule()})()}}class Eu{constructor(g,m){this.createdAt=g,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zr(this.lastLoginAt),this.creationTime=Zr(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function tn(E){return(Be=Be||(0,d.Z)(function*(g){var m;const b=g.auth,S=yield g.getIdToken(),x=yield rr(g,function mp(E,g){return(ke=ke||(0,d.Z)(function*(m,b){return Ln(m,"POST","/v1/accounts:lookup",b)})).apply(this,arguments)}(b,{idToken:S}));Ke(x?.users.length,b,"internal-error");const B=x.users[0];g._notifyReloadListener(B);const j=null!==(m=B.providerUserInfo)&&void 0!==m&&m.length?function fc(E){return E.map(g=>{var{providerId:m}=g,b=(0,re._T)(g,["providerId"]);return{providerId:m,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}(B.providerUserInfo):[],ie=function $r(E,g){return[...E.filter(b=>!g.some(S=>S.providerId===b.providerId)),...g]}(g.providerData,j),dt=!!g.isAnonymous&&!(g.email&&B.passwordHash||ie?.length),Tt={uid:B.localId,displayName:B.displayName||null,photoURL:B.photoUrl||null,email:B.email||null,emailVerified:B.emailVerified||!1,phoneNumber:B.phoneNumber||null,tenantId:B.tenantId||null,providerData:ie,metadata:new Eu(B.createdAt,B.lastLoginAt),isAnonymous:dt};Object.assign(g,Tt)})).apply(this,arguments)}class ya{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){Ke(g.idToken,"internal-error"),Ke(typeof g.idToken<"u","internal-error"),Ke(typeof g.refreshToken<"u","internal-error");const m="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function Du(E){const g=hc(E);return Ke(g,"internal-error"),Ke(typeof g.exp<"u","internal-error"),Ke(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,m)}getToken(g,m=!1){var b=this;return(0,d.Z)(function*(){return Ke(!b.accessToken||b.refreshToken,g,"user-token-expired"),m||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(g,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,m){var b=this;return(0,d.Z)(function*(){const{accessToken:S,refreshToken:x,expiresIn:B}=yield function Bi(E,g){return(Ne=Ne||(0,d.Z)(function*(m,b){const S=yield ml(m,{},(0,d.Z)(function*(){const x=(0,L.xO)({grant_type:"refresh_token",refresh_token:b}).slice(1),{tokenApiHost:B,apiKey:j}=m.config,ie=gp(m,B,"/v1/token",`key=${j}`),be=yield m._getAdditionalHeaders();return be["Content-Type"]="application/x-www-form-urlencoded",go.fetch()(ie,{method:"POST",headers:be,body:x})}));return{accessToken:S.access_token,expiresIn:S.expires_in,refreshToken:S.refresh_token}})).apply(this,arguments)}(g,m);b.updateTokensAndExpiration(S,x,Number(B))})()}updateTokensAndExpiration(g,m,b){this.refreshToken=m||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(g,m){const{refreshToken:b,accessToken:S,expirationTime:x}=m,B=new ya;return b&&(Ke("string"==typeof b,"internal-error",{appName:g}),B.refreshToken=b),S&&(Ke("string"==typeof S,"internal-error",{appName:g}),B.accessToken=S),x&&(Ke("number"==typeof x,"internal-error",{appName:g}),B.expirationTime=x),B}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new ya,this.toJSON())}_performRefresh(){return Fi("not implemented")}}function eo(E,g){Ke("string"==typeof E||typeof E>"u","internal-error",{appName:g})}class to{constructor(g){var{uid:m,auth:b,stsTokenManager:S}=g,x=(0,re._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Jd(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=b,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=x.displayName||null,this.email=x.email||null,this.emailVerified=x.emailVerified||!1,this.phoneNumber=x.phoneNumber||null,this.photoURL=x.photoURL||null,this.isAnonymous=x.isAnonymous||!1,this.tenantId=x.tenantId||null,this.providerData=x.providerData?[...x.providerData]:[],this.metadata=new Eu(x.createdAt||void 0,x.lastLoginAt||void 0)}getIdToken(g){var m=this;return(0,d.Z)(function*(){const b=yield rr(m,m.stsTokenManager.getToken(m.auth,g));return Ke(b,m.auth,"internal-error"),m.accessToken!==b&&(m.accessToken=b,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),b})()}getIdTokenResult(g){return function Kd(E){return(Oe=Oe||(0,d.Z)(function*(g,m=!1){const b=(0,L.m9)(g),S=yield b.getIdToken(m),x=hc(S);Ke(x&&x.exp&&x.auth_time&&x.iat,b.auth,"internal-error");const B="object"==typeof x.firebase?x.firebase:void 0,j=B?.sign_in_provider;return{claims:x,token:S,authTime:Zr(wu(x.auth_time)),issuedAtTime:Zr(wu(x.iat)),expirationTime:Zr(wu(x.exp)),signInProvider:j||null,signInSecondFactor:B?.sign_in_second_factor||null}})).apply(this,arguments)}(this,g)}reload(){return function jr(E){return(rt=rt||(0,d.Z)(function*(g){const m=(0,L.m9)(g);yield tn(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}(this)}_assign(g){this!==g&&(Ke(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(m=>Object.assign({},m)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){const m=new to(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(g){Ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,m=!1){var b=this;return(0,d.Z)(function*(){let S=!1;g.idToken&&g.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(g),S=!0),m&&(yield tn(b)),yield b.auth._persistUserIfCurrent(b),S&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var g=this;return(0,d.Z)(function*(){const m=yield g.getIdToken();return yield rr(g,function yu(E,g){return(G=G||(0,d.Z)(function*(m,b){return Ln(m,"POST","/v1/accounts:delete",b)})).apply(this,arguments)}(g.auth,{idToken:m})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,m){var b,S,x,B,j,ie,be,yt;const dt=null!==(b=m.displayName)&&void 0!==b?b:void 0,Tt=null!==(S=m.email)&&void 0!==S?S:void 0,en=null!==(x=m.phoneNumber)&&void 0!==x?x:void 0,Rn=null!==(B=m.photoURL)&&void 0!==B?B:void 0,Cr=null!==(j=m.tenantId)&&void 0!==j?j:void 0,di=null!==(ie=m._redirectEventId)&&void 0!==ie?ie:void 0,Hs=null!==(be=m.createdAt)&&void 0!==be?be:void 0,za=null!==(yt=m.lastLoginAt)&&void 0!==yt?yt:void 0,{uid:Gl,emailVerified:E_,isAnonymous:zl,providerData:Uc,stsTokenManager:I_}=m;Ke(Gl&&I_,g,"internal-error");const l0=ya.fromJSON(this.name,I_);Ke("string"==typeof Gl,g,"internal-error"),eo(dt,g.name),eo(Tt,g.name),Ke("boolean"==typeof E_,g,"internal-error"),Ke("boolean"==typeof zl,g,"internal-error"),eo(en,g.name),eo(Rn,g.name),eo(Cr,g.name),eo(di,g.name),eo(Hs,g.name),eo(za,g.name);const rg=new to({uid:Gl,auth:g,email:Tt,emailVerified:E_,displayName:dt,isAnonymous:zl,photoURL:Rn,phoneNumber:en,tenantId:Cr,stsTokenManager:l0,createdAt:Hs,lastLoginAt:za});return Uc&&Array.isArray(Uc)&&(rg.providerData=Uc.map(C_=>Object.assign({},C_))),di&&(rg._redirectEventId=di),rg}static _fromIdTokenResponse(g,m,b=!1){return(0,d.Z)(function*(){const S=new ya;S.updateFromServerResponse(m);const x=new to({uid:m.localId,auth:g,stsTokenManager:S,isAnonymous:b});return yield tn(x),x})()}}const _p=new Map;function Qi(E){Li(E instanceof Function,"Expected a class definition");let g=_p.get(E);return g?(Li(g instanceof E,"Instance stored in cache mismatched with class"),g):(g=new E,_p.set(E,g),g)}const st=(()=>{class E{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(m,b){var S=this;return(0,d.Z)(function*(){S.storage[m]=b})()}_get(m){var b=this;return(0,d.Z)(function*(){const S=b.storage[m];return void 0===S?null:S})()}_remove(m){var b=this;return(0,d.Z)(function*(){delete b.storage[m]})()}_addListener(m,b){}_removeListener(m,b){}}return E.type="NONE",E})();function Vt(E,g,m){return`firebase:${E}:${g}:${m}`}class xn{constructor(g,m,b){this.persistence=g,this.auth=m,this.userKey=b;const{config:S,name:x}=this.auth;this.fullUserKey=Vt(this.userKey,S.apiKey,x),this.fullPersistenceKey=Vt("persistence",S.apiKey,x),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,d.Z)(function*(){const m=yield g.persistence._get(g.fullUserKey);return m?to._fromJSON(g.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var m=this;return(0,d.Z)(function*(){if(m.persistence===g)return;const b=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=g,b?m.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,m,b="authUser"){return(0,d.Z)(function*(){var S,x;if(!m.length)return new xn(Qi(st),g,b);const B=(yield Promise.all(m.map(function(dt){return(S=S||(0,d.Z)(function*(Tt){if(yield Tt._isAvailable())return Tt})).apply(this,arguments)}))).filter(dt=>dt);let j=B[0]||Qi(st);const ie=Vt(b,g.config.apiKey,g.name);let be=null;for(const dt of m)try{const Tt=yield dt._get(ie);if(Tt){const en=to._fromJSON(g,Tt);dt!==j&&(be=en),j=dt;break}}catch{}const yt=B.filter(dt=>dt._shouldAllowMigration);return j._shouldAllowMigration&&yt.length?(j=yt[0],be&&(yield j._set(ie,be.toJSON())),yield Promise.all(m.map(function(dt){return(x=x||(0,d.Z)(function*(Tt){if(Tt!==j)try{yield Tt._remove(ie)}catch{}})).apply(this,arguments)})),new xn(j,g,b)):new xn(j,g,b)})()}}function vi(E){const g=E.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(ir(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(mo(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(Go(g))return"Blackberry";if($t(g))return"Webos";if(Hr(g))return"Safari";if((g.includes("chrome/")||ba(g))&&!g.includes("edge/"))return"Chrome";if(Vi(g))return"Android";{const b=E.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===b?.length)return b[1]}return"Other"}function mo(E=(0,L.z$)()){return/firefox\//i.test(E)}function Hr(E=(0,L.z$)()){const g=E.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function ba(E=(0,L.z$)()){return/crios\//i.test(E)}function ir(E=(0,L.z$)()){return/iemobile/i.test(E)}function Vi(E=(0,L.z$)()){return/android/i.test(E)}function Go(E=(0,L.z$)()){return/blackberry/i.test(E)}function $t(E=(0,L.z$)()){return/webos/i.test(E)}function Fs(E=(0,L.z$)()){return/iphone|ipad|ipod/i.test(E)||/macintosh/i.test(E)&&/mobile/i.test(E)}function pc(E=(0,L.z$)()){return Fs(E)||Vi(E)||$t(E)||Go(E)||/windows phone/i.test(E)||ir(E)}function ps(E,g=[]){let m;switch(E){case"Browser":m=vi((0,L.z$)());break;case"Worker":m=`${vi((0,L.z$)())}-${E}`;break;default:m=E}const b=g.length?g.join(","):"FirebaseCore-web";return`${m}/JsCore/${ee.SDK_VERSION}/${b}`}function Iu(E,g){return(Dt=Dt||(0,d.Z)(function*(m,b){return Ln(m,"GET","/v2/recaptchaConfig",pn(m,b))})).apply(this,arguments)}function zo(E){return void 0!==E&&void 0!==E.getResponse}function Ls(E){return void 0!==E&&void 0!==E.enterprise}class _c{constructor(g){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===g.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=g.recaptchaKey.split("/")[3],this.emailPasswordEnabled=g.recaptchaEnforcementState.some(m=>"EMAIL_PASSWORD_PROVIDER"===m.provider&&"OFF"!==m.enforcementState)}}function nn(E){return new Promise((g,m)=>{const b=document.createElement("script");b.setAttribute("src",E),b.onload=g,b.onerror=S=>{const x=Yn("internal-error");x.customData=S,m(x)},b.type="text/javascript",b.charset="UTF-8",function _o(){var E,g;return null!==(g=null===(E=document.getElementsByTagName("head"))||void 0===E?void 0:E[0])&&void 0!==g?g:document}().appendChild(b)})}function vp(E){return`__${E}${Math.floor(1e6*Math.random())}`}class wa{constructor(g){this.type="recaptcha-enterprise",this.auth=yr(g)}verify(g="verify",m=!1){var b=this;return(0,d.Z)(function*(){var S;function B(j,ie,be){const yt=window.grecaptcha;Ls(yt)?yt.enterprise.ready(()=>{yt.enterprise.execute(j,{action:g}).then(dt=>{ie(dt)}).catch(()=>{ie("NO_RECAPTCHA")})}):be(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((j,ie)=>{(function x(j){return(S=S||(0,d.Z)(function*(ie){var be;if(!m){if(null==ie.tenantId&&null!=ie._agentRecaptchaConfig)return ie._agentRecaptchaConfig.siteKey;if(null!=ie.tenantId&&void 0!==ie._tenantRecaptchaConfigs[ie.tenantId])return ie._tenantRecaptchaConfigs[ie.tenantId].siteKey}return new Promise(function(yt,dt){return(be=be||(0,d.Z)(function*(Tt,en){Iu(ie,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Rn=>{if(void 0!==Rn.recaptchaKey){const Cr=new _c(Rn);return null==ie.tenantId?ie._agentRecaptchaConfig=Cr:ie._tenantRecaptchaConfigs[ie.tenantId]=Cr,Tt(Cr.siteKey)}en(new Error("recaptcha Enterprise site key undefined"))}).catch(Rn=>{en(Rn)})})).apply(this,arguments)})})).apply(this,arguments)})(b.auth).then(be=>{if(!m&&Ls(window.grecaptcha))B(be,j,ie);else{if(typeof window>"u")return void ie(new Error("RecaptchaVerifier is only supported in browser"));nn("https://www.google.com/recaptcha/enterprise.js?render="+be).then(()=>{B(be,j,ie)}).catch(yt=>{ie(yt)})}}).catch(be=>{ie(be)})})})()}}function yi(E,g,m){return(se=se||(0,d.Z)(function*(b,S,x,B=!1){const j=new wa(b);let ie;try{ie=yield j.verify(x)}catch{ie=yield j.verify(x,!0)}const be=Object.assign({},S);return Object.assign(be,B?{captchaResp:ie}:{captchaResponse:ie}),Object.assign(be,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(be,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),be})).apply(this,arguments)}class Wo{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,m){const b=x=>new Promise((B,j)=>{try{B(g(x))}catch(ie){j(ie)}});b.onAbort=m,this.queue.push(b);const S=this.queue.length-1;return()=>{this.queue[S]=()=>Promise.resolve()}}runMiddleware(g){var m=this;return(0,d.Z)(function*(){if(m.auth.currentUser===g)return;const b=[];try{for(const S of m.queue)yield S(g),S.onAbort&&b.push(S.onAbort)}catch(S){b.reverse();for(const x of b)try{x()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:S?.message})}})()}}class Gr{constructor(g,m,b,S){this.app=g,this.heartbeatServiceProvider=m,this.appCheckServiceProvider=b,this.config=S,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Kr(this),this.idTokenSubscription=new Kr(this),this.beforeStateQueue=new Wo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Rs,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=S.sdkClientVersion}_initializeWithPersistence(g,m){var b=this;return m&&(this._popupRedirectResolver=Qi(m)),this._initializationPromise=this.queue((0,d.Z)(function*(){var S,x;if(!b._deleted&&(b.persistenceManager=yield xn.create(b,g),!b._deleted)){if(null!==(S=b._popupRedirectResolver)&&void 0!==S&&S._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch{}yield b.initializeCurrentUser(m),b.lastNotifiedUid=(null===(x=b.currentUser)||void 0===x?void 0:x.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,d.Z)(function*(){if(g._deleted)return;const m=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||m){if(g.currentUser&&m&&g.currentUser.uid===m.uid)return g._currentUser._assign(m),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(m,!0)}})()}initializeCurrentUser(g){var m=this;return(0,d.Z)(function*(){var b;const S=yield m.assertedPersistence.getCurrentUser();let x=S,B=!1;if(g&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const j=null===(b=m.redirectUser)||void 0===b?void 0:b._redirectEventId,ie=x?._redirectEventId,be=yield m.tryRedirectSignIn(g);(!j||j===ie)&&be?.user&&(x=be.user,B=!0)}if(!x)return m.directlySetCurrentUser(null);if(!x._redirectEventId){if(B)try{yield m.beforeStateQueue.runMiddleware(x)}catch(j){x=S,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(j))}return x?m.reloadAndSetCurrentUserOrClear(x):m.directlySetCurrentUser(null)}return Ke(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===x._redirectEventId?m.directlySetCurrentUser(x):m.reloadAndSetCurrentUserOrClear(x)})()}tryRedirectSignIn(g){var m=this;return(0,d.Z)(function*(){let b=null;try{b=yield m._popupRedirectResolver._completeRedirectFn(m,g,!0)}catch{yield m._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(g){var m=this;return(0,d.Z)(function*(){try{yield tn(g)}catch(b){if("auth/network-request-failed"!==b?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function Qs(){if(typeof navigator>"u")return null;const E=navigator;return E.languages&&E.languages[0]||E.language||null}()}_delete(){var g=this;return(0,d.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var m=this;return(0,d.Z)(function*(){const b=g?(0,L.m9)(g):null;return b&&Ke(b.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(b&&b._clone(m))})()}_updateCurrentUser(g,m=!1){var b=this;return(0,d.Z)(function*(){if(!b._deleted)return g&&Ke(b.tenantId===g.tenantId,b,"tenant-id-mismatch"),m||(yield b.beforeStateQueue.runMiddleware(g)),b.queue((0,d.Z)(function*(){yield b.directlySetCurrentUser(g),b.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,d.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var m=this;return this.queue((0,d.Z)(function*(){yield m.assertedPersistence.setPersistence(Qi(g))}))}initializeRecaptchaConfig(){var g=this;return(0,d.Z)(function*(){const m=yield Iu(g,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),b=new _c(m);null==g.tenantId?g._agentRecaptchaConfig=b:g._tenantRecaptchaConfigs[g.tenantId]=b,b.emailPasswordEnabled&&new wa(g).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new L.LL("auth","Firebase",g())}onAuthStateChanged(g,m,b){return this.registerStateListener(this.authStateSubscription,g,m,b)}beforeAuthStateChanged(g,m){return this.beforeStateQueue.pushCallback(g,m)}onIdTokenChanged(g,m,b){return this.registerStateListener(this.idTokenSubscription,g,m,b)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,m){var b=this;return(0,d.Z)(function*(){const S=yield b.getOrInitRedirectPersistenceManager(m);return null===g?S.removeCurrentUser():S.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var m=this;return(0,d.Z)(function*(){if(!m.redirectPersistenceManager){const b=g&&Qi(g)||m._popupRedirectResolver;Ke(b,m,"argument-error"),m.redirectPersistenceManager=yield xn.create(m,[Qi(b._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(g){var m=this;return(0,d.Z)(function*(){var b,S;return m._isInitialized&&(yield m.queue((0,d.Z)(function*(){}))),(null===(b=m._currentUser)||void 0===b?void 0:b._redirectEventId)===g?m._currentUser:(null===(S=m.redirectUser)||void 0===S?void 0:S._redirectEventId)===g?m.redirectUser:null})()}_persistUserIfCurrent(g){var m=this;return(0,d.Z)(function*(){if(g===m.currentUser)return m.queue((0,d.Z)(function*(){return m.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(m=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,m,b,S){if(this._deleted)return()=>{};const x="function"==typeof m?m:m.next.bind(m),B=this._isInitialized?Promise.resolve():this._initializationPromise;return Ke(B,this,"internal-error"),B.then(()=>x(this.currentUser)),"function"==typeof m?g.addObserver(m,b,S):g.addObserver(m)}directlySetCurrentUser(g){var m=this;return(0,d.Z)(function*(){m.currentUser&&m.currentUser!==g&&m._currentUser._stopProactiveRefresh(),g&&m.isProactiveRefreshEnabled&&g._startProactiveRefresh(),m.currentUser=g,g?yield m.assertedPersistence.setCurrentUser(g):yield m.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return Ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=ps(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,d.Z)(function*(){var m;const b={"X-Client-Version":g.clientVersion};g.app.options.appId&&(b["X-Firebase-gmpid"]=g.app.options.appId);const S=yield null===(m=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();S&&(b["X-Firebase-Client"]=S);const x=yield g._getAppCheckToken();return x&&(b["X-Firebase-AppCheck"]=x),b})()}_getAppCheckToken(){var g=this;return(0,d.Z)(function*(){var m;const b=yield null===(m=g.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getToken();return b?.error&&function Ps(E,...g){Ji.logLevel<=pe.in.WARN&&Ji.warn(`Auth (${ee.SDK_VERSION}): ${E}`,...g)}(`Error while retrieving App Check token: ${b.error}`),b?.token})()}}function yr(E){return(0,L.m9)(E)}class Kr{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,L.ne)(m=>this.observer=m)}get next(){return Ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Xi(E){const g=E.indexOf(":");return g<0?"":E.substr(0,g+1)}function vc(E){if(!E)return null;const g=Number(E);return isNaN(g)?null:g}class Da{constructor(g,m){this.providerId=g,this.signInMethod=m}toJSON(){return Fi("not implemented")}_getIdTokenResponse(g){return Fi("not implemented")}_linkToIdToken(g,m){return Fi("not implemented")}_getReauthenticationResolver(g){return Fi("not implemented")}}function r_(E,g){return(Me=Me||(0,d.Z)(function*(m,b){return Ln(m,"POST","/v1/accounts:resetPassword",pn(m,b))})).apply(this,arguments)}function Mu(E,g){return(ae=ae||(0,d.Z)(function*(m,b){return Ln(m,"POST","/v1/accounts:update",b)})).apply(this,arguments)}function Ou(E,g){return(He=He||(0,d.Z)(function*(m,b){return Xs(m,"POST","/v1/accounts:signInWithPassword",pn(m,b))})).apply(this,arguments)}function vl(E,g){return(oe=oe||(0,d.Z)(function*(m,b){return Ln(m,"POST","/v1/accounts:sendOobCode",pn(m,b))})).apply(this,arguments)}function Xd(E,g){return(it=it||(0,d.Z)(function*(m,b){return vl(m,b)})).apply(this,arguments)}function Gn(E,g){return(Nt=Nt||(0,d.Z)(function*(m,b){return vl(m,b)})).apply(this,arguments)}class yl extends Da{constructor(g,m,b,S=null){super("password",b),this._email=g,this._password=m,this._tenantId=S}static _fromEmailAndPassword(g,m){return new yl(g,m,"password")}static _fromEmailAndCode(g,m,b=null){return new yl(g,m,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(g){var m=this;return(0,d.Z)(function*(){var b;switch(m.signInMethod){case"password":const x={returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(b=g._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const B=yield yi(g,x,"signInWithPassword");return Ou(g,B)}var S;return Ou(g,x).catch(function(B){return(S=S||(0,d.Z)(function*(j){if("auth/missing-recaptcha-token"===j.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ie=yield yi(g,x,"signInWithPassword");return Ou(g,ie)}return Promise.reject(j)})).apply(this,arguments)});case"emailLink":return function o_(E,g){return(Nn=Nn||(0,d.Z)(function*(m,b){return Xs(m,"POST","/v1/accounts:signInWithEmailLink",pn(m,b))})).apply(this,arguments)}(g,{email:m._email,oobCode:m._password});default:Kn(g,"internal-error")}})()}_linkToIdToken(g,m){var b=this;return(0,d.Z)(function*(){switch(b.signInMethod){case"password":return Mu(g,{idToken:m,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function a_(E,g){return(Tn=Tn||(0,d.Z)(function*(m,b){return Xs(m,"POST","/v1/accounts:signInWithEmailLink",pn(m,b))})).apply(this,arguments)}(g,{idToken:m,email:b._email,oobCode:b._password});default:Kn(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function yo(E,g){return($n=$n||(0,d.Z)(function*(m,b){return Xs(m,"POST","/v1/accounts:signInWithIdp",pn(m,b))})).apply(this,arguments)}class no extends Da{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const m=new no(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(m.idToken=g.idToken),g.accessToken&&(m.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(m.nonce=g.nonce),g.pendingToken&&(m.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(m.accessToken=g.oauthToken,m.secret=g.oauthTokenSecret):Kn("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:b,signInMethod:S}=m,x=(0,re._T)(m,["providerId","signInMethod"]);if(!b||!S)return null;const B=new no(b,S);return B.idToken=x.idToken||void 0,B.accessToken=x.accessToken||void 0,B.secret=x.secret,B.nonce=x.nonce,B.pendingToken=x.pendingToken||null,B}_getIdTokenResponse(g){return yo(g,this.buildRequest())}_linkToIdToken(g,m){const b=this.buildRequest();return b.idToken=m,yo(g,b)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,yo(g,m)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),g.postBody=(0,L.xO)(m)}return g}}const u_={USER_NOT_FOUND:"user-not-found"};class bi extends Da{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,m){return new bi({verificationId:g,verificationCode:m})}static _fromTokenResponse(g,m){return new bi({phoneNumber:g,temporaryProof:m})}_getIdTokenResponse(g){return function eh(E,g){return(Vr=Vr||(0,d.Z)(function*(m,b){return Xs(m,"POST","/v1/accounts:signInWithPhoneNumber",pn(m,b))})).apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,m){return function l_(E,g){return(de=de||(0,d.Z)(function*(m,b){const S=yield Xs(m,"POST","/v1/accounts:signInWithPhoneNumber",pn(m,b));if(S.temporaryProof)throw dc(m,"account-exists-with-different-credential",S);return S})).apply(this,arguments)}(g,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function th(E,g){return(fe=fe||(0,d.Z)(function*(m,b){return Xs(m,"POST","/v1/accounts:signInWithPhoneNumber",pn(m,Object.assign(Object.assign({},b),{operation:"REAUTH"})),u_)})).apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:m,verificationId:b,verificationCode:S}=this.params;return g&&m?{temporaryProof:g,phoneNumber:m}:{sessionInfo:b,code:S}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:m,verificationCode:b,phoneNumber:S,temporaryProof:x}=g;return b||m||S||x?new bi({verificationId:m,verificationCode:b,phoneNumber:S,temporaryProof:x}):null}}class gs{constructor(g){var m,b,S,x,B,j;const ie=(0,L.zd)((0,L.pd)(g)),be=null!==(m=ie.apiKey)&&void 0!==m?m:null,yt=null!==(b=ie.oobCode)&&void 0!==b?b:null,dt=function ro(E){switch(E){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=ie.mode)&&void 0!==S?S:null);Ke(be&&yt&&dt,"argument-error"),this.apiKey=be,this.operation=dt,this.code=yt,this.continueUrl=null!==(x=ie.continueUrl)&&void 0!==x?x:null,this.languageCode=null!==(B=ie.languageCode)&&void 0!==B?B:null,this.tenantId=null!==(j=ie.tenantId)&&void 0!==j?j:null}static parseLink(g){const m=function Nu(E){const g=(0,L.zd)((0,L.pd)(E)).link,m=g?(0,L.zd)((0,L.pd)(g)).deep_link_id:null,b=(0,L.zd)((0,L.pd)(E)).deep_link_id;return(b?(0,L.zd)((0,L.pd)(b)).link:null)||b||m||g||E}(g);try{return new gs(m)}catch{return null}}}let yc=(()=>{class E{constructor(){this.providerId=E.PROVIDER_ID}static credential(m,b){return yl._fromEmailAndPassword(m,b)}static credentialWithLink(m,b){const S=gs.parseLink(b);return Ke(S,"argument-error"),yl._fromEmailAndCode(m,S.code,S.tenantId)}}return E.PROVIDER_ID="password",E.EMAIL_PASSWORD_SIGN_IN_METHOD="password",E.EMAIL_LINK_SIGN_IN_METHOD="emailLink",E})();class ur{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class ms extends ur{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class Ea extends ms{static credentialFromJSON(g){const m="string"==typeof g?JSON.parse(g):g;return Ke("providerId"in m&&"signInMethod"in m,"argument-error"),no._fromParams(m)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return Ke(g.idToken||g.accessToken,"argument-error"),no._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return Ea.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return Ea.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:m,oauthAccessToken:b,oauthTokenSecret:S,pendingToken:x,nonce:B,providerId:j}=g;if(!b&&!S&&!m&&!x||!j)return null;try{return new Ea(j)._credential({idToken:m,accessToken:b,nonce:B,pendingToken:x})}catch{return null}}}let Ru=(()=>{class E extends ms{constructor(){super("facebook.com")}static credential(m){return no._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return E.credentialFromTaggedObject(m)}static credentialFromError(m){return E.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return E.credential(m.oauthAccessToken)}catch{return null}}}return E.FACEBOOK_SIGN_IN_METHOD="facebook.com",E.PROVIDER_ID="facebook.com",E})(),Pu=(()=>{class E extends ms{constructor(){super("google.com"),this.addScope("profile")}static credential(m,b){return no._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:b})}static credentialFromResult(m){return E.credentialFromTaggedObject(m)}static credentialFromError(m){return E.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:b,oauthAccessToken:S}=m;if(!b&&!S)return null;try{return E.credential(b,S)}catch{return null}}}return E.GOOGLE_SIGN_IN_METHOD="google.com",E.PROVIDER_ID="google.com",E})(),bc=(()=>{class E extends ms{constructor(){super("github.com")}static credential(m){return no._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return E.credentialFromTaggedObject(m)}static credentialFromError(m){return E.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return E.credential(m.oauthAccessToken)}catch{return null}}}return E.GITHUB_SIGN_IN_METHOD="github.com",E.PROVIDER_ID="github.com",E})();class bo extends Da{constructor(g,m){super(g,g),this.pendingToken=m}_getIdTokenResponse(g){return yo(g,this.buildRequest())}_linkToIdToken(g,m){const b=this.buildRequest();return b.idToken=m,yo(g,b)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,yo(g,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:b,signInMethod:S,pendingToken:x}=m;return b&&S&&x&&b===S?new bo(b,x):null}static _create(g,m){return new bo(g,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ts extends ur{constructor(g){Ke(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return ts.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return ts.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const m=bo.fromJSON(g);return Ke(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:m,providerId:b}=g;if(!m||!b)return null;try{return bo._create(b,m)}catch{return null}}}let nh=(()=>{class E extends ms{constructor(){super("twitter.com")}static credential(m,b){return no._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:b})}static credentialFromResult(m){return E.credentialFromTaggedObject(m)}static credentialFromError(m){return E.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:b,oauthTokenSecret:S}=m;if(!b||!S)return null;try{return E.credential(b,S)}catch{return null}}}return E.TWITTER_SIGN_IN_METHOD="twitter.com",E.PROVIDER_ID="twitter.com",E})();function Ca(E,g){return(De=De||(0,d.Z)(function*(m,b){return Xs(m,"POST","/v1/accounts:signUp",pn(m,b))})).apply(this,arguments)}class wi{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,m,b,S=!1){return(0,d.Z)(function*(){const x=yield to._fromIdTokenResponse(g,b,S),B=Ta(b);return new wi({user:x,providerId:B,_tokenResponse:b,operationType:m})})()}static _forOperation(g,m,b){return(0,d.Z)(function*(){yield g._updateTokensIfNecessary(b,!0);const S=Ta(b);return new wi({user:g,providerId:S,_tokenResponse:b,operationType:m})})()}}function Ta(E){return E.providerId?E.providerId:"phoneNumber"in E?"phone":null}class bl extends L.ZR{constructor(g,m,b,S){var x;super(m.code,m.message),this.operationType=b,this.user=S,Object.setPrototypeOf(this,bl.prototype),this.customData={appName:g.name,tenantId:null!==(x=g.tenantId)&&void 0!==x?x:void 0,_serverResponse:m.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(g,m,b,S){return new bl(g,m,b,S)}}function bp(E,g,m,b){return("reauthenticate"===g?m._getReauthenticationResolver(E):m._getIdTokenResponse(E)).catch(x=>{throw"auth/multi-factor-auth-required"===x.code?bl._fromErrorAndOperation(E,x,g,b):x})}function wl(E){return new Set(E.map(({providerId:g})=>g).filter(g=>!!g))}function qo(E,g){return(Ve=Ve||(0,d.Z)(function*(m,b,S=!1){const x=yield rr(m,b._linkToIdToken(m.auth,yield m.getIdToken()),S);return wi._forOperation(m,"link",x)})).apply(this,arguments)}function wc(E,g,m){return(mt=mt||(0,d.Z)(function*(b,S,x){yield tn(S);const j=!1===b?"provider-already-linked":"no-such-provider";Ke(wl(S.providerData).has(x)===b,S.auth,j)})).apply(this,arguments)}function wp(E,g){return(tt=tt||(0,d.Z)(function*(m,b,S=!1){const{auth:x}=m,B="reauthenticate";try{const j=yield rr(m,bp(x,B,b,m),S);Ke(j.idToken,x,"internal-error");const ie=hc(j.idToken);Ke(ie,x,"internal-error");const{sub:be}=ie;return Ke(m.uid===be,x,"user-mismatch"),wi._forOperation(m,B,j)}catch(j){throw"auth/user-not-found"===j?.code&&Kn(x,"user-mismatch"),j}})).apply(this,arguments)}function Dl(E,g){return(Zn=Zn||(0,d.Z)(function*(m,b,S=!1){const x="signIn",B=yield bp(m,x,b),j=yield wi._fromIdTokenResponse(m,x,B);return S||(yield m._updateCurrentUser(j.user)),j})).apply(this,arguments)}function Dc(E,g){return(Mt=Mt||(0,d.Z)(function*(m,b){return Dl(yr(m),b)})).apply(this,arguments)}function ku(E,g){return(ln=ln||(0,d.Z)(function*(m,b){const S=(0,L.m9)(m);return yield wc(!1,S,b.providerId),qo(S,b)})).apply(this,arguments)}function Fu(E,g){return(Ut=Ut||(0,d.Z)(function*(m,b){return wp((0,L.m9)(m),b)})).apply(this,arguments)}class Do{constructor(g,m){this.factorId=g,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(g,m){return"phoneInfo"in m?El._fromServerResponse(g,m):"totpInfo"in m?Aa._fromServerResponse(g,m):Kn(g,"internal-error")}}class El extends Do{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,m){return new El(m)}}class Aa extends Do{constructor(g){super("totp",g)}static _fromServerResponse(g,m){return new Aa(m)}}function Bs(E,g,m){var b;Ke((null===(b=m.url)||void 0===b?void 0:b.length)>0,E,"invalid-continue-uri"),Ke(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,E,"invalid-dynamic-link-domain"),g.continueUrl=m.url,g.dynamicLinkDomain=m.dynamicLinkDomain,g.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(Ke(m.iOS.bundleId.length>0,E,"missing-ios-bundle-id"),g.iOSBundleId=m.iOS.bundleId),m.android&&(Ke(m.android.packageName.length>0,E,"missing-android-pkg-name"),g.androidInstallApp=m.android.installApp,g.androidMinimumVersionCode=m.android.minimumVersion,g.androidPackageName=m.android.packageName)}function Lu(E,g){return(ge=ge||(0,d.Z)(function*(m,b){const S=(0,L.m9)(m),x=yield r_(S,{oobCode:b}),B=x.requestType;switch(Ke(B,S,"internal-error"),B){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ke(x.newEmail,S,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ke(x.mfaInfo,S,"internal-error");default:Ke(x.email,S,"internal-error")}let j=null;return x.mfaInfo&&(j=Do._fromServerResponse(yr(S),x.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===x.requestType?x.newEmail:x.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===x.requestType?x.email:x.newEmail)||null,multiFactorInfo:j},operation:B}})).apply(this,arguments)}function Vu(E,g,m){return(nr=nr||(0,d.Z)(function*(b,S,x){const{auth:B}=b,ie={idToken:yield b.getIdToken(),returnSecureToken:!0};S&&(ie.email=S),x&&(ie.password=x);const be=yield rr(b,Mu(B,ie));yield b._updateTokensIfNecessary(be,!0)})).apply(this,arguments)}class _n{constructor(g,m,b={}){this.isNewUser=g,this.providerId=m,this.profile=b}}class Cc extends _n{constructor(g,m,b,S){super(g,m,b),this.username=S}}class Oa extends _n{constructor(g,m){super(g,"facebook.com",m)}}class Di extends Cc{constructor(g,m){super(g,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class Cp extends _n{constructor(g,m){super(g,"google.com",m)}}class Al extends Cc{constructor(g,m,b){super(g,"twitter.com",m,b)}}function xa(E){const{user:g,_tokenResponse:m}=E;return g.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function ch(E){var g,m;if(!E)return null;const{providerId:b}=E,S=E.rawUserInfo?JSON.parse(E.rawUserInfo):{},x=E.isNewUser||"identitytoolkit#SignupNewUserResponse"===E.kind;if(!b&&E?.idToken){const B=null===(m=null===(g=hc(E.idToken))||void 0===g?void 0:g.firebase)||void 0===m?void 0:m.sign_in_provider;if(B)return new _n(x,"anonymous"!==B&&"custom"!==B?B:null)}if(!b)return null;switch(b){case"facebook.com":return new Oa(x,S);case"github.com":return new Di(x,S);case"google.com":return new Cp(x,S);case"twitter.com":return new Al(x,S,E.screenName||null);case"custom":case"anonymous":return new _n(x,null);default:return new _n(x,b,S)}}(m)}class Vs{constructor(g,m,b){this.type=g,this.credential=m,this.auth=b}static _fromIdtoken(g,m){return new Vs("enroll",g,m)}static _fromMfaPendingCredential(g){return new Vs("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var m,b;if(g?.multiFactorSession){if(null!==(m=g.multiFactorSession)&&void 0!==m&&m.pendingCredential)return Vs._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(b=g.multiFactorSession)&&void 0!==b&&b.idToken)return Vs._fromIdtoken(g.multiFactorSession.idToken)}return null}}class Uu{constructor(g,m,b){this.session=g,this.hints=m,this.signInResolver=b}static _fromError(g,m){var b;const S=yr(g),x=m.customData._serverResponse,B=(x.mfaInfo||[]).map(ie=>Do._fromServerResponse(S,ie));Ke(x.mfaPendingCredential,S,"internal-error");const j=Vs._fromMfaPendingCredential(x.mfaPendingCredential);return new Uu(j,B,function(ie){return(b=b||(0,d.Z)(function*(be){const yt=yield be._process(S,j);delete x.mfaInfo,delete x.mfaPendingCredential;const dt=Object.assign(Object.assign({},x),{idToken:yt.idToken,refreshToken:yt.refreshToken});switch(m.operationType){case"signIn":const Tt=yield wi._fromIdTokenResponse(S,m.operationType,dt);return yield S._updateCurrentUser(Tt.user),Tt;case"reauthenticate":return Ke(m.user,S,"internal-error"),wi._forOperation(m.user,m.operationType,dt);default:Kn(S,"internal-error")}})).apply(this,arguments)})}resolveSignIn(g){var m=this;return(0,d.Z)(function*(){return m.signInResolver(g)})()}}class Na{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(b=>Do._fromServerResponse(g.auth,b)))})}static _fromUser(g){return new Na(g)}getSession(){var g=this;return(0,d.Z)(function*(){return Vs._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,m){var b=this;return(0,d.Z)(function*(){const S=g,x=yield b.getSession(),B=yield rr(b.user,S._process(b.user.auth,x,m));return yield b.user._updateTokensIfNecessary(B),b.user.reload()})()}unenroll(g){var m=this;return(0,d.Z)(function*(){const b="string"==typeof g?g:g.uid,S=yield m.user.getIdToken();try{const x=yield rr(m.user,function fh(E,g){return Ln(E,"POST","/v2/accounts/mfaEnrollment:withdraw",pn(E,g))}(m.user.auth,{idToken:S,mfaEnrollmentId:b}));m.enrolledFactors=m.enrolledFactors.filter(({uid:B})=>B!==b),yield m.user._updateTokensIfNecessary(x),yield m.user.reload()}catch(x){throw x}})()}}const Us=new WeakMap,Ml="__sak";class $u{constructor(g,m){this.storageRetriever=g,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Ml,"1"),this.storage.removeItem(Ml),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,m){return this.storage.setItem(g,JSON.stringify(m)),Promise.resolve()}_get(g){const m=this.storage.getItem(g);return Promise.resolve(m?JSON.parse(m):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const ns=(()=>{class E extends $u{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,b)=>this.onStorageEvent(m,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ap(){const E=(0,L.z$)();return Hr(E)||Fs(E)}()&&function gc(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=pc(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const b of Object.keys(this.listeners)){const S=this.storage.getItem(b),x=this.localCache[b];S!==x&&m(b,x,S)}}onStorageEvent(m,b=!1){if(!m.key)return void this.forAllChangedKeys((j,ie,be)=>{this.notifyListeners(j,be)});const S=m.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const j=this.storage.getItem(S);if(m.newValue!==j)null!==m.newValue?this.storage.setItem(S,m.newValue):this.storage.removeItem(S);else if(this.localCache[S]===m.newValue&&!b)return}const x=()=>{const j=this.storage.getItem(S);!b&&this.localCache[S]===j||this.notifyListeners(S,j)},B=this.storage.getItem(S);!function vr(){return(0,L.w1)()&&10===document.documentMode}()||B===m.newValue||m.newValue===m.oldValue?x():setTimeout(x,10)}notifyListeners(m,b){this.localCache[m]=b;const S=this.listeners[m];if(S)for(const x of Array.from(S))x(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,b,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:b,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,b){var S=()=>super._set,x=this;return(0,d.Z)(function*(){yield S().call(x,m,b),x.localCache[m]=JSON.stringify(b)})()}_get(m){var b=()=>super._get,S=this;return(0,d.Z)(function*(){const x=yield b().call(S,m);return S.localCache[m]=JSON.stringify(x),x})()}_remove(m){var b=()=>super._remove,S=this;return(0,d.Z)(function*(){yield b().call(S,m),delete S.localCache[m]})()}}return E.type="LOCAL",E})(),zn=(()=>{class E extends $u{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,b){}_removeListener(m,b){}}return E.type="SESSION",E})();let Jn=(()=>{class E{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const b=this.receivers.find(x=>x.isListeningto(m));if(b)return b;const S=new E(m);return this.receivers.push(S),S}isListeningto(m){return this.eventTarget===m}handleEvent(m){var b=this;return(0,d.Z)(function*(){var S;const x=m,{eventId:B,eventType:j,data:ie}=x.data,be=b.handlersMap[j];if(!be?.size)return;x.ports[0].postMessage({status:"ack",eventId:B,eventType:j});const yt=Array.from(be).map(function(Tt){return(S=S||(0,d.Z)(function*(en){return en(x.origin,ie)})).apply(this,arguments)}),dt=yield function Ra(E){var g;return Promise.all(E.map(function(m){return(g=g||(0,d.Z)(function*(b){try{return{fulfilled:!0,value:yield b}}catch(S){return{fulfilled:!1,reason:S}}})).apply(this,arguments)}))}(yt);x.ports[0].postMessage({status:"done",eventId:B,eventType:j,response:dt})})()}_subscribe(m,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(b)}_unsubscribe(m,b){this.handlersMap[m]&&b&&this.handlersMap[m].delete(b),(!b||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return E.receivers=[],E})();function Ui(E="",g=10){let m="";for(let b=0;b<g;b++)m+=Math.floor(10*Math.random());return E+m}class Jr{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,m,b=50){var S=this;return(0,d.Z)(function*(){const x=typeof MessageChannel<"u"?new MessageChannel:null;if(!x)throw new Error("connection_unavailable");let B,j;return new Promise((ie,be)=>{const yt=Ui("",20);x.port1.start();const dt=setTimeout(()=>{be(new Error("unsupported_event"))},b);j={messageChannel:x,onMessage(Tt){const en=Tt;if(en.data.eventId===yt)switch(en.data.status){case"ack":clearTimeout(dt),B=setTimeout(()=>{be(new Error("timeout"))},3e3);break;case"done":clearTimeout(B),ie(en.data.response);break;default:clearTimeout(dt),clearTimeout(B),be(new Error("invalid_response"))}}},S.handlers.add(j),x.port1.addEventListener("message",j.onMessage),S.target.postMessage({eventType:g,eventId:yt,data:m},[x.port2])}).finally(()=>{j&&S.removeMessageHandler(j)})})()}}function dr(){return window}function Op(){return typeof dr().WorkerGlobalScope<"u"&&"function"==typeof dr().importScripts}const _h="firebaseLocalStorageDb",vs="firebaseLocalStorage",Np="fbase_key";class Pa{constructor(g){this.request=g}toPromise(){return new Promise((g,m)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Sc(E,g){return E.transaction([vs],g?"readwrite":"readonly").objectStore(vs)}function Ac(){const E=indexedDB.open(_h,1);return new Promise((g,m)=>{E.addEventListener("error",()=>{m(E.error)}),E.addEventListener("upgradeneeded",()=>{const b=E.result;try{b.createObjectStore(vs,{keyPath:Np})}catch(S){m(S)}}),E.addEventListener("success",(0,d.Z)(function*(){const b=E.result;b.objectStoreNames.contains(vs)?g(b):(b.close(),yield function h_(){const E=indexedDB.deleteDatabase(_h);return new Pa(E).toPromise()}(),g(yield Ac()))}))})}function Hu(E,g,m){return(Mn=Mn||(0,d.Z)(function*(b,S,x){const B=Sc(b,!0).put({[Np]:S,value:x});return new Pa(B).toPromise()})).apply(this,arguments)}function Gu(E,g){const m=Sc(E,!0).delete(g);return new Pa(m).toPromise()}const Mr=(()=>{class E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,d.Z)(function*(){return m.db||(m.db=yield Ac()),m.db})()}_withRetries(m){var b=this;return(0,d.Z)(function*(){let S=0;for(;;)try{const x=yield b._openDb();return yield m(x)}catch(x){if(S++>3)throw x;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,d.Z)(function*(){return Op()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,d.Z)(function*(){var b,S;m.receiver=Jn._getInstance(function Eo(){return Op()?self:null}()),m.receiver._subscribe("keyChanged",function(x,B){return(b=b||(0,d.Z)(function*(j,ie){return{keyProcessed:(yield m._poll()).includes(ie.key)}})).apply(this,arguments)}),m.receiver._subscribe("ping",function(x,B){return(S=S||(0,d.Z)(function*(j,ie){return["keyChanged"]})).apply(this,arguments)})})()}initializeSender(){var m=this;return(0,d.Z)(function*(){var b,S;if(m.activeServiceWorker=yield function xp(){return(kn=kn||(0,d.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Jr(m.activeServiceWorker);const x=yield m.sender._send("ping",{},800);x&&null!==(b=x[0])&&void 0!==b&&b.fulfilled&&null!==(S=x[0])&&void 0!==S&&S.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var b=this;return(0,d.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function Ii(){var E;return(null===(E=navigator?.serviceWorker)||void 0===E?void 0:E.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:m},b.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Ac();return yield Hu(m,Ml,"1"),yield Gu(m,Ml),!0}catch{}return!1})()}_withPendingWrite(m){var b=this;return(0,d.Z)(function*(){b.pendingWrites++;try{yield m()}finally{b.pendingWrites--}})()}_set(m,b){var S=this;return(0,d.Z)(function*(){return S._withPendingWrite((0,d.Z)(function*(){return yield S._withRetries(x=>Hu(x,m,b)),S.localCache[m]=b,S.notifyServiceWorker(m)}))})()}_get(m){var b=this;return(0,d.Z)(function*(){const S=yield b._withRetries(x=>function Rp(E,g){return(an=an||(0,d.Z)(function*(m,b){const S=Sc(m,!1).get(b),x=yield new Pa(S).toPromise();return void 0===x?null:x.value})).apply(this,arguments)}(x,m));return b.localCache[m]=S,S})()}_remove(m){var b=this;return(0,d.Z)(function*(){return b._withPendingWrite((0,d.Z)(function*(){return yield b._withRetries(S=>Gu(S,m)),delete b.localCache[m],b.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,d.Z)(function*(){const b=yield m._withRetries(B=>{const j=Sc(B,!1).getAll();return new Pa(j).toPromise()});if(!b)return[];if(0!==m.pendingWrites)return[];const S=[],x=new Set;for(const{fbase_key:B,value:j}of b)x.add(B),JSON.stringify(m.localCache[B])!==JSON.stringify(j)&&(m.notifyListeners(B,j),S.push(B));for(const B of Object.keys(m.localCache))m.localCache[B]&&!x.has(B)&&(m.notifyListeners(B,null),S.push(B));return S})()}notifyListeners(m,b){this.localCache[m]=b;const S=this.listeners[m];if(S)for(const x of Array.from(S))x(b)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return E.type="LOCAL",E})(),xl=1e12;class ci{constructor(g){this.auth=g,this.counter=xl,this._widgets=new Map}render(g,m){const b=this.counter;return this._widgets.set(b,new io(g,this.auth.name,m||{})),this.counter++,b}reset(g){var m;const b=g||xl;null===(m=this._widgets.get(b))||void 0===m||m.delete(),this._widgets.delete(b)}getResponse(g){var m;return(null===(m=this._widgets.get(g||xl))||void 0===m?void 0:m.getResponse())||""}execute(g){var m=this;return(0,d.Z)(function*(){var b;return null===(b=m._widgets.get(g||xl))||void 0===b||b.execute(),""})()}}class io{constructor(g,m,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof g?document.getElementById(g):g;Ke(S,"argument-error",{appName:m}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Vn(E){const g=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<E;b++)g.push(m.charAt(Math.floor(62*Math.random())));return g.join("")}(50);const{callback:g,"expired-callback":m}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Nl=vp("rcb"),Mc=new $o(3e4,6e4);class Lp{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=dr().grecaptcha)||void 0===g||!g.render)}load(g,m=""){return Ke(function ys(E){return E.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(E)}(m),g,"argument-error"),this.shouldResolveImmediately(m)&&zo(dr().grecaptcha)?Promise.resolve(dr().grecaptcha):new Promise((b,S)=>{const x=dr().setTimeout(()=>{S(Yn(g,"network-request-failed"))},Mc.get());dr()[Nl]=()=>{dr().clearTimeout(x),delete dr()[Nl];const j=dr().grecaptcha;if(!j||!zo(j))return void S(Yn(g,"internal-error"));const ie=j.render;j.render=(be,yt)=>{const dt=ie(be,yt);return this.counter++,dt},this.hostLanguage=m,b(j)},nn(`https://www.google.com/recaptcha/api.js??${(0,L.xO)({onload:Nl,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(x),S(Yn(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var m;return!(null===(m=dr().grecaptcha)||void 0===m||!m.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Oc{load(g){return(0,d.Z)(function*(){return new ci(g)})()}clearedOneInstance(){}}const rs="recaptcha",is={theme:"light",type:"image"};class Er{constructor(g,m=Object.assign({},is),b){this.parameters=m,this.type=rs,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=yr(b),this.isInvisible="invisible"===this.parameters.size,Ke(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof g?document.getElementById(g):g;Ke(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Oc:new Lp,this.validateStartingState()}verify(){var g=this;return(0,d.Z)(function*(){g.assertNotDestroyed();const m=yield g.render(),b=g.getAssertedRecaptcha();return b.getResponse(m)||new Promise(x=>{const B=j=>{j&&(g.tokenChangeListeners.delete(B),x(j))};g.tokenChangeListeners.add(B),g.isInvisible&&b.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){Ke(!this.parameters.sitekey,this.auth,"argument-error"),Ke(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ke(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return m=>{if(this.tokenChangeListeners.forEach(b=>b(m)),"function"==typeof g)g(m);else if("string"==typeof g){const b=dr()[g];"function"==typeof b&&b(m)}}}assertNotDestroyed(){Ke(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,d.Z)(function*(){if(yield g.init(),!g.widgetId){let m=g.container;if(!g.isInvisible){const b=document.createElement("div");m.appendChild(b),m=b}g.widgetId=g.getAssertedRecaptcha().render(m,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,d.Z)(function*(){Ke(pl()&&!Op(),g.auth,"internal-error"),yield function xc(){let E=null;return new Promise(g=>{"complete"!==document.readyState?(E=()=>g(),window.addEventListener("load",E)):g()}).catch(g=>{throw E&&window.removeEventListener("load",E),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const m=yield function mc(E){return(Ct=Ct||(0,d.Z)(function*(g){return(yield Ln(g,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}(g.auth);Ke(m,g.auth,"internal-error"),g.parameters.sitekey=m})()}getAssertedRecaptcha(){return Ke(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class zr{constructor(g,m){this.verificationId=g,this.onConfirmation=m}confirm(g){const m=bi._fromVerification(this.verificationId,g);return this.onConfirmation(m)}}function Io(E,g,m){return(Ns=Ns||(0,d.Z)(function*(b,S,x){var B;const j=yield x.verify();try{let ie;if(Ke("string"==typeof j,b,"argument-error"),Ke(x.type===rs,b,"argument-error"),ie="string"==typeof S?{phoneNumber:S}:S,"session"in ie){const be=ie.session;if("phoneNumber"in ie)return Ke("enroll"===be.type,b,"internal-error"),(yield function ju(E,g){return Ln(E,"POST","/v2/accounts/mfaEnrollment:start",pn(E,g))}(b,{idToken:be.credential,phoneEnrollmentInfo:{phoneNumber:ie.phoneNumber,recaptchaToken:j}})).phoneSessionInfo.sessionInfo;{Ke("signin"===be.type,b,"internal-error");const yt=(null===(B=ie.multiFactorHint)||void 0===B?void 0:B.uid)||ie.multiFactorUid;return Ke(yt,b,"missing-multi-factor-info"),(yield function Ol(E,g){return Ln(E,"POST","/v2/accounts/mfaSignIn:start",pn(E,g))}(b,{mfaPendingCredential:be.credential,mfaEnrollmentId:yt,phoneSignInInfo:{recaptchaToken:j}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:be}=yield function xu(E,g){return(qn=qn||(0,d.Z)(function*(m,b){return Ln(m,"POST","/v1/accounts:sendVerificationCode",pn(m,b))})).apply(this,arguments)}(b,{phoneNumber:ie.phoneNumber,recaptchaToken:j});return be}}finally{x._reset()}})).apply(this,arguments)}let js=(()=>{class E{constructor(m){this.providerId=E.PROVIDER_ID,this.auth=yr(m)}verifyPhoneNumber(m,b){return Io(this.auth,m,(0,L.m9)(b))}static credential(m,b){return bi._fromVerification(m,b)}static credentialFromResult(m){return E.credentialFromTaggedObject(m)}static credentialFromError(m){return E.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:b,temporaryProof:S}=m;return b&&S?bi._fromTokenResponse(b,S):null}}return E.PROVIDER_ID="phone",E.PHONE_SIGN_IN_METHOD="phone",E})();function li(E,g){return g?Qi(g):(Ke(E._popupRedirectResolver,E,"argument-error"),E._popupRedirectResolver)}class bs extends Da{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return yo(g,this._buildIdpRequest())}_linkToIdToken(g,m){return yo(g,this._buildIdpRequest(m))}_getReauthenticationResolver(g){return yo(g,this._buildIdpRequest())}_buildIdpRequest(g){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(m.idToken=g),m}}function f_(E){return Dl(E.auth,new bs(E),E.bypassAuthState)}function yh(E){const{auth:g,user:m}=E;return Ke(m,g,"internal-error"),wp(m,new bs(E),E.bypassAuthState)}function Wu(E){return(ki=ki||(0,d.Z)(function*(g){const{auth:m,user:b}=g;return Ke(b,m,"internal-error"),qo(b,new bs(g),g.bypassAuthState)})).apply(this,arguments)}class $s{constructor(g,m,b,S,x=!1){this.auth=g,this.resolver=b,this.user=S,this.bypassAuthState=x,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var m,g=this;return new Promise(function(b,S){return(m=m||(0,d.Z)(function*(x,B){g.pendingPromise={resolve:x,reject:B};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(j){g.reject(j)}})).apply(this,arguments)})}onAuthEvent(g){var m=this;return(0,d.Z)(function*(){const{urlResponse:b,sessionId:S,postBody:x,tenantId:B,error:j,type:ie}=g;if(j)return void m.reject(j);const be={auth:m.auth,requestUri:b,sessionId:S,tenantId:B||void 0,postBody:x||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(ie)(be))}catch(yt){m.reject(yt)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return f_;case"linkViaPopup":case"linkViaRedirect":return Wu;case"reauthViaPopup":case"reauthViaRedirect":return yh;default:Kn(this.auth,"internal-error")}}resolve(g){Li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){Li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const bh=new $o(2e3,1e4);let wn=(()=>{class E extends $s{constructor(m,b,S,x,B){super(m,b,x,B),this.provider=S,this.authWindow=null,this.pollId=null,E.currentPopupAction&&E.currentPopupAction.cancel(),E.currentPopupAction=this}executeNotNull(){var m=this;return(0,d.Z)(function*(){const b=yield m.execute();return Ke(b,m.auth,"internal-error"),b})()}onExecution(){var m=this;return(0,d.Z)(function*(){Li(1===m.filter.length,"Popup operations only handle one event");const b=Ui();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],b),m.authWindow.associatedEvent=b,m.resolver._originValidation(m.auth).catch(S=>{m.reject(S)}),m.resolver._isIframeWebStorageSupported(m.auth,S=>{S||m.reject(Yn(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Yn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,E.currentPopupAction=null}pollUserCancellation(){const m=()=>{var b,S;this.pollId=null!==(S=null===(b=this.authWindow)||void 0===b?void 0:b.window)&&void 0!==S&&S.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Yn(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(m,bh.get())};m()}}return E.currentPopupAction=null,E})();const Or="pendingRedirect",Un=new Map;class Ko extends $s{constructor(g,m,b=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,b),this.eventId=null}execute(){var g=()=>super.execute,m=this;return(0,d.Z)(function*(){let b=Un.get(m.auth._key());if(!b){try{const x=(yield function Wn(E,g){return(Ee=Ee||(0,d.Z)(function*(m,b){const S=Nr(b),x=wh(m);if(!(yield x._isAvailable()))return!1;const B="true"===(yield x._get(S));return yield x._remove(S),B})).apply(this,arguments)}(m.resolver,m.auth))?yield g().call(m):null;b=()=>Promise.resolve(x)}catch(S){b=()=>Promise.reject(S)}Un.set(m.auth._key(),b)}return m.bypassAuthState||Un.set(m.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(g){var m=()=>super.onAuthEvent,b=this;return(0,d.Z)(function*(){if("signInViaRedirect"===g.type)return m().call(b,g);if("unknown"!==g.type){if(g.eventId){const S=yield b.auth._redirectUserForId(g.eventId);if(S)return b.user=S,m().call(b,g);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function xr(E,g){return(Xe=Xe||(0,d.Z)(function*(m,b){return wh(m)._set(Nr(b),"true")})).apply(this,arguments)}function Pl(E,g){Un.set(E._key(),g)}function wh(E){return Qi(E._redirectPersistence)}function Nr(E){return Vt(Or,E.config.apiKey,E.name)}function Co(E,g){return(H=H||(0,d.Z)(function*(m,b,S=!1){const x=yr(m),B=li(x,b),ie=yield new Ko(x,B,S).execute();return ie&&!S&&(delete ie.user._redirectEventId,yield x._persistUserIfCurrent(ie.user),yield x._setRedirectUser(null,b)),ie})).apply(this,arguments)}function Jo(E){return(J=J||(0,d.Z)(function*(g){const m=Ui(`${g.uid}:::`);return g._redirectEventId=m,yield g.auth._setRedirectUser(g),yield g.auth._persistUserIfCurrent(g),m})).apply(this,arguments)}class sr{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let m=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(g,b)&&(m=!0,this.sendToConsumer(g,b),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function Qo(E){switch(E.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return To(E);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=g,m=!0)),m}sendToConsumer(g,m){var b;if(g.error&&!To(g)){const S=(null===(b=g.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";m.onError(Yn(this.auth,S))}else m.onAuthEvent(g)}isEventForConsumer(g,m){const b=null===m.eventId||!!g.eventId&&g.eventId===m.eventId;return m.filter.includes(g.type)&&b}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Jt(g))}saveEventToCache(g){this.cachedEventUids.add(Jt(g)),this.lastProcessedEventTime=Date.now()}}function Jt(E){return[E.type,E.eventId,E.sessionId,E.tenantId].filter(g=>g).join("-")}function To({type:E,error:g}){return"unknown"===E&&"auth/no-auth-event"===g?.code}function Xo(E){return(Ae=Ae||(0,d.Z)(function*(g,m={}){return Ln(g,"GET","/v1/projects",m)})).apply(this,arguments)}const ea=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Zu=/^https?/;function Dh(E){const g=jo(),{protocol:m,hostname:b}=new URL(g);if(E.startsWith("chrome-extension://")){const B=new URL(E);return""===B.hostname&&""===b?"chrome-extension:"===m&&E.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===m&&B.hostname===b}if(!Zu.test(m))return!1;if(ea.test(E))return b===E;const S=E.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(b)}const or=new $o(3e4,6e4);function ao(){const E=dr().___jsl;if(E?.H)for(const g of Object.keys(E.H))if(E.H[g].r=E.H[g].r||[],E.H[g].L=E.H[g].L||[],E.H[g].r=[...E.H[g].L],E.CP)for(let m=0;m<E.CP.length;m++)E.CP[m]=null}let La=null;const Ku=new $o(5e3,15e3),Va={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},C=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function T(E){const g=E.config;Ke(g.authDomain,E,"auth-domain-config-required");const m=g.emulator?qd(g,"emulator/auth/iframe"):`https://${E.config.authDomain}/__/auth/iframe`,b={apiKey:g.apiKey,appName:E.name,v:ee.SDK_VERSION},S=C.get(E.config.apiHost);S&&(b.eid=S);const x=E._getFrameworks();return x.length&&(b.fw=x.join(",")),`${m}?${(0,L.xO)(b).slice(1)}`}const R={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class qe{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const At="__/auth/handler",qt="emulator/auth/handler",Xn=encodeURIComponent("fac");function Bn(E,g,m,b,S,x){return(Lt=Lt||(0,d.Z)(function*(B,j,ie,be,yt,dt){Ke(B.config.authDomain,B,"auth-domain-config-required"),Ke(B.config.apiKey,B,"invalid-api-key");const Tt={apiKey:B.config.apiKey,appName:B.name,authType:ie,redirectUrl:be,v:ee.SDK_VERSION,eventId:yt};if(j instanceof ur){j.setDefaultLanguage(B.languageCode),Tt.providerId=j.providerId||"",(0,L.xb)(j.getCustomParameters())||(Tt.customParameters=JSON.stringify(j.getCustomParameters()));for(const[di,Hs]of Object.entries(dt||{}))Tt[di]=Hs}if(j instanceof ms){const di=j.getScopes().filter(Hs=>""!==Hs);di.length>0&&(Tt.scopes=di.join(","))}B.tenantId&&(Tt.tid=B.tenantId);const en=Tt;for(const di of Object.keys(en))void 0===en[di]&&delete en[di];const Rn=yield B._getAppCheckToken(),Cr=Rn?`#${Xn}=${encodeURIComponent(Rn)}`:"";return`${function vn({config:E}){return E.emulator?qd(E,qt):`https://${E.authDomain}/${At}`}(B)}?${(0,L.xO)(en).slice(1)}${Cr}`})).apply(this,arguments)}const Rr="webStorageSupport",$i=class Ft{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zn,this._completeRedirectFn=Co,this._overrideRedirectResult=Pl}_openPopup(g,m,b,S){var x=this;return(0,d.Z)(function*(){var B;Li(null===(B=x.eventManagers[g._key()])||void 0===B?void 0:B.manager,"_initialize() not called before _openPopup()");const j=yield Bn(g,m,b,jo(),S);return function pt(E,g,m,b=500,S=600){const x=Math.max((window.screen.availHeight-S)/2,0).toString(),B=Math.max((window.screen.availWidth-b)/2,0).toString();let j="";const ie=Object.assign(Object.assign({},R),{width:b.toString(),height:S.toString(),top:x,left:B}),be=(0,L.z$)().toLowerCase();m&&(j=ba(be)?"_blank":m),mo(be)&&(g=g||"http://localhost",ie.scrollbars="yes");const yt=Object.entries(ie).reduce((Tt,[en,Rn])=>`${Tt}${en}=${Rn},`,"");if(function ri(E=(0,L.z$)()){var g;return Fs(E)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(be)&&"_self"!==j)return function It(E,g){const m=document.createElement("a");m.href=E,m.target=g;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(b)}(g||"",j),new qe(null);const dt=window.open(g||"",j,yt);Ke(dt,E,"popup-blocked");try{dt.focus()}catch{}return new qe(dt)}(g,j,Ui())})()}_openRedirect(g,m,b,S){var x=this;return(0,d.Z)(function*(){return yield x._originValidation(g),function mh(E){dr().location.href=E}(yield Bn(g,m,b,jo(),S)),new Promise(()=>{})})()}_initialize(g){const m=g._key();if(this.eventManagers[m]){const{manager:S,promise:x}=this.eventManagers[m];return S?Promise.resolve(S):(Li(x,"If manager is not set, promise should be"),x)}const b=this.initAndGetManager(g);return this.eventManagers[m]={promise:b},b.catch(()=>{delete this.eventManagers[m]}),b}initAndGetManager(g){var m=this;return(0,d.Z)(function*(){const b=yield function O(E){return(vt=vt||(0,d.Z)(function*(g){const m=yield function Vp(E){return La=La||function So(E){return new Promise((g,m)=>{var b,S,x;function B(){ao(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{ao(),m(Yn(E,"network-request-failed"))},timeout:or.get()})}if(null!==(S=null===(b=dr().gapi)||void 0===b?void 0:b.iframes)&&void 0!==S&&S.Iframe)g(gapi.iframes.getContext());else{if(null===(x=dr().gapi)||void 0===x||!x.load){const j=vp("iframefcb");return dr()[j]=()=>{gapi.load?B():m(Yn(E,"network-request-failed"))},nn(`https://apis.google.com/js/api.js?onload=${j}`).catch(ie=>m(ie))}B()}}).catch(g=>{throw La=null,g})}(E),La}(g),b=dr().gapi;return Ke(b,g,"internal-error"),m.open({where:document.body,url:T(g),messageHandlersFilter:b.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Va,dontclear:!0},S=>{var x;return new Promise(function(B,j){return(x=x||(0,d.Z)(function*(ie,be){yield S.restyle({setHideOnLeave:!1});const yt=Yn(g,"network-request-failed"),dt=dr().setTimeout(()=>{be(yt)},Ku.get());function Tt(){dr().clearTimeout(dt),ie(S)}S.ping(Tt).then(Tt,()=>{be(yt)})})).apply(this,arguments)})})})).apply(this,arguments)}(g),S=new sr(g);return b.register("authEvent",x=>(Ke(x?.authEvent,g,"invalid-auth-event"),{status:S.onEvent(x.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[g._key()]={manager:S},m.iframes[g._key()]=b,S})()}_isIframeWebStorageSupported(g,m){this.iframes[g._key()].send(Rr,{type:Rr},S=>{var x;const B=null===(x=S?.[0])||void 0===x?void 0:x[Rr];void 0!==B&&m(!!B),Kn(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const m=g._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Ti(E){return(he=he||(0,d.Z)(function*(g){if(g.config.emulator)return;const{authorizedDomains:m}=yield Xo(g);for(const b of m)try{if(Dh(b))return}catch{}Kn(g,"unauthorized-domain")})).apply(this,arguments)}(g)),this.originValidationPromises[m]}get _shouldInitProactively(){return pc()||Hr()||Fs()}};class Ir{constructor(g){this.factorId=g}_process(g,m,b){switch(m.type){case"enroll":return this._finalizeEnroll(g,m.credential,b);case"signin":return this._finalizeSignIn(g,m.credential);default:return Fi("unexpected MultiFactorSessionType")}}}class ui extends Ir{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new ui(g)}_finalizeEnroll(g,m,b){return function Sp(E,g){return Ln(E,"POST","/v2/accounts/mfaEnrollment:finalize",pn(E,g))}(g,{idToken:m,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,m){return function Qn(E,g){return Ln(E,"POST","/v2/accounts/mfaSignIn:finalize",pn(E,g))}(g,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let p_=(()=>{class E{constructor(){}static assertion(m){return ui._fromCredential(m)}}return E.FACTOR_ID="phone",E})();var Gp,zp,Yu,Ua,Fc,m_="@firebase/auth";class ws{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var m=this;return(0,d.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const m=this.auth.onIdTokenChanged(b=>{g(b?.stsTokenManager.accessToken||null)});this.internalListeners.set(g,m),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const m=this.internalListeners.get(g);m&&(this.internalListeners.delete(g),m(),this.updateProactiveRefresh())}assertAuthConfigured(){Ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ja(){return window}(0,L.Pz)("authIdTokenMaxAge"),function Ll(E){(0,ee._registerComponent)(new ye.wA("auth",(g,{options:m})=>{const b=g.getProvider("app").getImmediate(),S=g.getProvider("heartbeat"),x=g.getProvider("app-check-internal"),{apiKey:B,authDomain:j}=b.options;Ke(B&&!B.includes(":"),"invalid-api-key",{appName:b.name});const ie={apiKey:B,authDomain:j,clientPlatform:E,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ps(E)},be=new Gr(b,S,x,ie);return function Su(E,g){const m=g?.persistence||[],b=(Array.isArray(m)?m:[m]).map(Qi);g?.errorMap&&E._updateErrorMap(g.errorMap),E._initializeWithPersistence(b,g?.popupRedirectResolver)}(be,m),be},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,m,b)=>{g.getProvider("auth-internal").initialize()})),(0,ee._registerComponent)(new ye.wA("auth-internal",g=>{const m=yr(g.getProvider("auth").getImmediate());return new ws(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ee.registerVersion)(m_,"0.23.2",function $p(E){switch(E){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(E)),(0,ee.registerVersion)(m_,"0.23.2","esm2017")}("Browser");class qp extends sr{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(g=>{this.resolveInialized=g})}addPassiveListener(g){this.passiveListeners.add(g)}removePassiveListener(g){this.passiveListeners.delete(g)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(g){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(g)),super.onEvent(g)}initialized(){var g=this;return(0,d.Z)(function*(){yield g.initPromise})()}}function Zp(E){return(Fc=Fc||(0,d.Z)(function*(g){const m=yield jl()._get(na(g));return m&&(yield jl()._remove(na(g))),m})).apply(this,arguments)}function co(){const E=[];for(let m=0;m<20;m++){const b=Math.floor(62*Math.random());E.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(b))}return E.join("")}function jl(){return Qi(ns)}function na(E){return Vt("authEvent",E.config.apiKey,E.name)}function Bc(E){if(!E?.includes("?"))return{};const[g,...m]=E.split("?");return(0,L.zd)(m.join("?"))}const t0=class y_{constructor(){this._redirectPersistence=zn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Co,this._overrideRedirectResult=Pl}_initialize(g){var m=this;return(0,d.Z)(function*(){const b=g._key();let S=m.eventManagers.get(b);return S||(S=new qp(g),m.eventManagers.set(b,S),m.attachCallbackListeners(g,S)),S})()}_openPopup(g){Kn(g,"operation-not-supported-in-this-environment")}_openRedirect(g,m,b,S){var x=this;return(0,d.Z)(function*(){!function Wp(E){var g,m,b,S,x,B,j,ie,be,yt;const dt=ja();Ke("function"==typeof(null===(g=dt?.universalLinks)||void 0===g?void 0:g.subscribe),E,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ke(typeof(null===(m=dt?.BuildInfo)||void 0===m?void 0:m.packageName)<"u",E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ke("function"==typeof(null===(x=null===(S=null===(b=dt?.cordova)||void 0===b?void 0:b.plugins)||void 0===S?void 0:S.browsertab)||void 0===x?void 0:x.openUrl),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ke("function"==typeof(null===(ie=null===(j=null===(B=dt?.cordova)||void 0===B?void 0:B.plugins)||void 0===j?void 0:j.browsertab)||void 0===ie?void 0:ie.isAvailable),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ke("function"==typeof(null===(yt=null===(be=dt?.cordova)||void 0===be?void 0:be.InAppBrowser)||void 0===yt?void 0:yt.open),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(g);const B=yield x._initialize(g);yield B.initialized(),B.resetRedirect(),function Rc(){Un.clear()}(),yield x._originValidation(g);const j=function Vl(E,g,m=null){return{type:g,eventId:m,urlResponse:null,sessionId:co(),postBody:null,tenantId:E.tenantId,error:Yn(E,"no-auth-event")}}(g,b,S);yield function Ul(E,g){return jl()._set(na(E),g)}(g,j);const ie=yield function Qy(E,g,m){return(Gp=Gp||(0,d.Z)(function*(b,S,x){var B;const{BuildInfo:j}=ja();Li(S.sessionId,"AuthEvent did not contain a session ID");const ie=yield function Qu(E){return(Ua=Ua||(0,d.Z)(function*(g){const m=function Bl(E){if(Li(/[0-9a-zA-Z]+/.test(E),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(E);const g=new ArrayBuffer(E.length),m=new Uint8Array(g);for(let b=0;b<E.length;b++)m[b]=E.charCodeAt(b);return m}(g),b=yield crypto.subtle.digest("SHA-256",m);return Array.from(new Uint8Array(b)).map(x=>x.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}(S.sessionId),be={};return Fs()?be.ibi=j.packageName:Vi()?be.apn=j.packageName:Kn(b,"operation-not-supported-in-this-environment"),j.displayName&&(be.appDisplayName=j.displayName),be.sessionId=ie,Bn(b,x,S.type,void 0,null!==(B=S.eventId)&&void 0!==B?B:void 0,be)})).apply(this,arguments)}(g,j,m),be=yield function Xy(E){const{cordova:g}=ja();return new Promise(m=>{g.plugins.browsertab.isAvailable(b=>{let S=null;b?g.plugins.browsertab.openUrl(E):S=g.InAppBrowser.open(E,function _l(E=(0,L.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(E)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(E)}()?"_blank":"_system","location=yes"),m(S)})})}(ie);return function v_(E,g,m){return(Yu=Yu||(0,d.Z)(function*(b,S,x){const{cordova:B}=ja();let j=()=>{};try{yield new Promise((ie,be)=>{let yt=null;function dt(){var Rn;ie();const Cr=null===(Rn=B.plugins.browsertab)||void 0===Rn?void 0:Rn.close;"function"==typeof Cr&&Cr(),"function"==typeof x?.close&&x.close()}function Tt(){yt||(yt=window.setTimeout(()=>{be(Yn(b,"redirect-cancelled-by-user"))},2e3))}function en(){"visible"===document?.visibilityState&&Tt()}S.addPassiveListener(dt),document.addEventListener("resume",Tt,!1),Vi()&&document.addEventListener("visibilitychange",en,!1),j=()=>{S.removePassiveListener(dt),document.removeEventListener("resume",Tt,!1),document.removeEventListener("visibilitychange",en,!1),yt&&window.clearTimeout(yt)}})}finally{j()}})).apply(this,arguments)}(g,B,be)})()}_isIframeWebStorageSupported(g,m){throw new Error("Method not implemented.")}_originValidation(g){const m=g._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Lc(E){return(zp=zp||(0,d.Z)(function*(g){const{BuildInfo:m}=ja(),b={};Fs()?b.iosBundleId=m.packageName:Vi()?b.androidPackageName=m.packageName:Kn(g,"operation-not-supported-in-this-environment"),yield Xo(g,b)})).apply(this,arguments)}(g)),this.originValidationPromises[m]}attachCallbackListeners(g,m){var b,S;const{universalLinks:x,handleOpenURL:B,BuildInfo:j}=ja(),ie=setTimeout((0,d.Z)(function*(){yield Zp(g),m.onEvent(Kp())}),500),be=function(en){return(b=b||(0,d.Z)(function*(Rn){clearTimeout(ie);const Cr=yield Zp(g);let di=null;Cr&&Rn?.url&&(di=function Eh(E,g){var m,b;const S=function $l(E){const g=Bc(E),m=g.link?decodeURIComponent(g.link):void 0,b=Bc(m).link,S=g.deep_link_id?decodeURIComponent(g.deep_link_id):void 0;return Bc(S).link||S||b||m||E}(g);if(S.includes("/__/auth/callback")){const x=Bc(S),B=x.firebaseError?function Xu(E){try{return JSON.parse(E)}catch{return null}}(decodeURIComponent(x.firebaseError)):null,j=null===(b=null===(m=B?.code)||void 0===m?void 0:m.split("auth/"))||void 0===b?void 0:b[1],ie=j?Yn(j):null;return ie?{type:E.type,eventId:E.eventId,tenantId:E.tenantId,error:ie,urlResponse:null,sessionId:null,postBody:null}:{type:E.type,eventId:E.eventId,tenantId:E.tenantId,sessionId:E.sessionId,urlResponse:S,postBody:null}}return null}(Cr,Rn.url)),m.onEvent(di||Kp())})).apply(this,arguments)};typeof x<"u"&&"function"==typeof x.subscribe&&x.subscribe(null,be);const yt=B,dt=`${j.packageName.toLowerCase()}://`;ja().handleOpenURL=function(Tt){return(S=S||(0,d.Z)(function*(en){if(en.toLowerCase().startsWith(dt)&&be({url:en}),"function"==typeof yt)try{yt(en)}catch(Rn){console.error(Rn)}})).apply(this,arguments)}}};function Kp(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Yn("no-auth-event")}}var Yp,n0,b_;function td(){var E;return(null===(E=self?.location)||void 0===E?void 0:E.protocol)||null}function Qp(E=(0,L.z$)()){return!("file:"!==td()&&"ionic:"!==td()&&"capacitor:"!==td()||!E.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ch(){try{const E=self.localStorage,g=Ui();if(E)return E.setItem(g,"1"),E.removeItem(g),!function s0(E=(0,L.z$)()){return function eD(){return(0,L.w1)()&&11===document?.documentMode}()||function Ih(E=(0,L.z$)()){return/Edge\/\d+/.test(E)}(E)}()||(0,L.hl)()}catch{return $a()&&(0,L.hl)()}return!1}function $a(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function ss(){return(function nd(){return"http:"===td()||"https:"===td()}()||(0,L.ru)()||Qp())&&!function ZT(){return(0,L.b$)()||(0,L.UG)()}()&&Ch()&&!$a()}function Ha(){return Qp()&&typeof document<"u"}const Qr={LOCAL:"local",NONE:"none",SESSION:"session"},lo=Ke,Th="persistence";function ra(E){return(n0=n0||(0,d.Z)(function*(g){yield g._initializationPromise;const m=Ah(),b=Vt(Th,g.config.apiKey,g.name);m&&m.setItem(b,g._getPersistence())})).apply(this,arguments)}function Ah(){var E;try{return(null===(E=function eg(){return typeof window<"u"?window:null}())||void 0===E?void 0:E.sessionStorage)||null}catch{return null}}const w_=Ke;class Ao{constructor(){this.browserResolver=Qi($i),this.cordovaResolver=Qi(t0),this.underlyingResolver=null,this._redirectPersistence=zn,this._completeRedirectFn=Co,this._overrideRedirectResult=Pl}_initialize(g){var m=this;return(0,d.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(g)})()}_openPopup(g,m,b,S){var x=this;return(0,d.Z)(function*(){return yield x.selectUnderlyingResolver(),x.assertedUnderlyingResolver._openPopup(g,m,b,S)})()}_openRedirect(g,m,b,S){var x=this;return(0,d.Z)(function*(){return yield x.selectUnderlyingResolver(),x.assertedUnderlyingResolver._openRedirect(g,m,b,S)})()}_isIframeWebStorageSupported(g,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(g,m)}_originValidation(g){return this.assertedUnderlyingResolver._originValidation(g)}get _shouldInitProactively(){return Ha()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return w_(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var g=this;return(0,d.Z)(function*(){if(g.underlyingResolver)return;const m=yield function Xp(){return(Yp=Yp||(0,d.Z)(function*(){return!!Ha()&&new Promise(E=>{const g=setTimeout(()=>{E(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(g),E(!0)})})})).apply(this,arguments)}();g.underlyingResolver=m?g.cordovaResolver:g.browserResolver})()}}function id(E){return E.unwrap()}function o0(E){return tg(E)}function tg(E){const{_tokenResponse:g}=E instanceof L.ZR?E.customData:E;if(!g)return null;if(!(E instanceof L.ZR)&&"temporaryProof"in g&&"phoneNumber"in g)return js.credentialFromResult(E);const m=g.providerId;if(!m||m===_r.PASSWORD)return null;let b;switch(m){case _r.GOOGLE:b=Pu;break;case _r.FACEBOOK:b=Ru;break;case _r.GITHUB:b=bc;break;case _r.TWITTER:b=nh;break;default:const{oauthIdToken:S,oauthAccessToken:x,oauthTokenSecret:B,pendingToken:j,nonce:ie}=g;return x||B||S||j?j?m.startsWith("saml.")?bo._create(m,j):no._fromParams({providerId:m,signInMethod:m,pendingToken:j,idToken:S,accessToken:x}):new Ea(m).credential({idToken:S,accessToken:x,rawNonce:ie}):null}return E instanceof L.ZR?b.credentialFromError(E):b.credentialFromResult(E)}function Hi(E,g){return g.catch(m=>{throw m instanceof L.ZR&&function Mh(E,g){var m;const b=null===(m=g.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===g?.code)g.resolver=new a0(E,function Bt(E,g){var m;const b=(0,L.m9)(E),S=g;return Ke(g.customData.operationType,b,"argument-error"),Ke(null===(m=S.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,b,"argument-error"),Uu._fromError(b,S)}(E,g));else if(b){const S=tg(g),x=g;S&&(x.credential=S,x.tenantId=b.tenantId||void 0,x.email=b.email||void 0,x.phoneNumber=b.phoneNumber||void 0)}}(E,m),m}).then(m=>{const S=m.user;return{operationType:m.operationType,credential:o0(m),additionalUserInfo:xa(m),user:br.getOrCreate(S)}})}function Vc(E,g){return(b_=b_||(0,d.Z)(function*(m,b){const S=yield b;return{verificationId:S.verificationId,confirm:x=>Hi(m,S.confirm(x))}})).apply(this,arguments)}class a0{constructor(g,m){this.resolver=m,this.auth=function Hl(E){return E.wrapped()}(g)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(g){return Hi(id(this.auth),this.resolver.resolveSignIn(g))}}class br{constructor(g){this._delegate=g,this.multiFactor=function ph(E){const g=(0,L.m9)(E);return Us.has(g)||Us.set(g,Na._fromUser(g)),Us.get(g)}(g)}static getOrCreate(g){return br.USER_MAP.has(g)||br.USER_MAP.set(g,new br(g)),br.USER_MAP.get(g)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(g){return this._delegate.getIdTokenResult(g)}getIdToken(g){return this._delegate.getIdToken(g)}linkAndRetrieveDataWithCredential(g){return this.linkWithCredential(g)}linkWithCredential(g){var m=this;return(0,d.Z)(function*(){return Hi(m.auth,ku(m._delegate,g))})()}linkWithPhoneNumber(g,m){var b=this;return(0,d.Z)(function*(){return Vc(b.auth,function zu(E,g,m){return(hn=hn||(0,d.Z)(function*(b,S,x){const B=(0,L.m9)(b);yield wc(!1,B,"phone");const j=yield Io(B.auth,S,(0,L.m9)(x));return new zr(j,ie=>ku(B,ie))})).apply(this,arguments)}(b._delegate,g,m))})()}linkWithPopup(g){var m=this;return(0,d.Z)(function*(){return Hi(m.auth,function Nc(E,g,m){return(q=q||(0,d.Z)(function*(b,S,x){const B=(0,L.m9)(b);po(B.auth,S,ur);const j=li(B.auth,x);return new wn(B.auth,"linkViaPopup",S,j,B).executeNotNull()})).apply(this,arguments)}(m._delegate,g,Ao))})()}linkWithRedirect(g){var m=this;return(0,d.Z)(function*(){return yield ra(yr(m.auth)),function oo(E,g,m){return function Yo(E,g,m){return(On=On||(0,d.Z)(function*(b,S,x){const B=(0,L.m9)(b);po(B.auth,S,ur),yield B.auth._initializationPromise;const j=li(B.auth,x);yield wc(!1,B,S.providerId),yield xr(j,B.auth);const ie=yield Jo(B);return j._openRedirect(B.auth,S,"linkViaRedirect",ie)})).apply(this,arguments)}(E,g,m)}(m._delegate,g,Ao)})()}reauthenticateAndRetrieveDataWithCredential(g){return this.reauthenticateWithCredential(g)}reauthenticateWithCredential(g){var m=this;return(0,d.Z)(function*(){return Hi(m.auth,Fu(m._delegate,g))})()}reauthenticateWithPhoneNumber(g,m){return Vc(this.auth,function vh(E,g,m){return(_i=_i||(0,d.Z)(function*(b,S,x){const B=(0,L.m9)(b),j=yield Io(B.auth,S,(0,L.m9)(x));return new zr(j,ie=>Fu(B,ie))})).apply(this,arguments)}(this._delegate,g,m))}reauthenticateWithPopup(g){return Hi(this.auth,function Bp(E,g,m){return(Ue=Ue||(0,d.Z)(function*(b,S,x){const B=(0,L.m9)(b);po(B.auth,S,ur);const j=li(B.auth,x);return new wn(B.auth,"reauthViaPopup",S,j,B).executeNotNull()})).apply(this,arguments)}(this._delegate,g,Ao))}reauthenticateWithRedirect(g){var m=this;return(0,d.Z)(function*(){return yield ra(yr(m.auth)),function so(E,g,m){return function kl(E,g,m){return(wt=wt||(0,d.Z)(function*(b,S,x){const B=(0,L.m9)(b);po(B.auth,S,ur),yield B.auth._initializationPromise;const j=li(B.auth,x);yield xr(j,B.auth);const ie=yield Jo(B);return j._openRedirect(B.auth,S,"reauthViaRedirect",ie)})).apply(this,arguments)}(E,g,m)}(m._delegate,g,Ao)})()}sendEmailVerification(g){return function Tl(E,g){return(Et=Et||(0,d.Z)(function*(m,b){const S=(0,L.m9)(m),B={requestType:"VERIFY_EMAIL",idToken:yield m.getIdToken()};b&&Bs(S.auth,B,b);const{email:j}=yield function i_(E,g){return($e=$e||(0,d.Z)(function*(m,b){return vl(m,b)})).apply(this,arguments)}(S.auth,B);j!==m.email&&(yield m.reload())})).apply(this,arguments)}(this._delegate,g)}unlink(g){var m=this;return(0,d.Z)(function*(){return yield function wo(E,g){return(ze=ze||(0,d.Z)(function*(m,b){const S=(0,L.m9)(m);yield wc(!0,S,b);const{providerUserInfo:x}=yield function Ho(E,g){return(te=te||(0,d.Z)(function*(m,b){return Ln(m,"POST","/v1/accounts:update",b)})).apply(this,arguments)}(S.auth,{idToken:yield S.getIdToken(),deleteProvider:[b]}),B=wl(x||[]);return S.providerData=S.providerData.filter(j=>B.has(j.providerId)),B.has("phone")||(S.phoneNumber=null),yield S.auth._persistUserIfCurrent(S),S})).apply(this,arguments)}(m._delegate,g),m})()}updateEmail(g){return function Ip(E,g){return Vu((0,L.m9)(E),g,null)}(this._delegate,g)}updatePassword(g){return function _s(E,g){return Vu((0,L.m9)(E),null,g)}(this._delegate,g)}updatePhoneNumber(g){return function Rl(E,g){return(Ys=Ys||(0,d.Z)(function*(m,b){yield qo((0,L.m9)(m),b)})).apply(this,arguments)}(this._delegate,g)}updateProfile(g){return function Ic(E,g){return(tr=tr||(0,d.Z)(function*(m,{displayName:b,photoURL:S}){if(void 0===b&&void 0===S)return;const x=(0,L.m9)(m),j={idToken:yield x.getIdToken(),displayName:b,photoUrl:S,returnSecureToken:!0},ie=yield rr(x,function Ep(E,g){return(on=on||(0,d.Z)(function*(m,b){return Ln(m,"POST","/v1/accounts:update",b)})).apply(this,arguments)}(x.auth,j));x.displayName=ie.displayName||null,x.photoURL=ie.photoUrl||null;const be=x.providerData.find(({providerId:yt})=>"password"===yt);be&&(be.displayName=x.displayName,be.photoURL=x.photoURL),yield x._updateTokensIfNecessary(ie)})).apply(this,arguments)}(this._delegate,g)}verifyBeforeUpdateEmail(g,m){return function Sl(E,g,m){return(jt=jt||(0,d.Z)(function*(b,S,x){const B=(0,L.m9)(b),ie={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:S};x&&Bs(B.auth,ie,x);const{email:be}=yield function s_(E,g){return(En=En||(0,d.Z)(function*(m,b){return vl(m,b)})).apply(this,arguments)}(B.auth,ie);be!==b.email&&(yield b.reload())})).apply(this,arguments)}(this._delegate,g,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}br.USER_MAP=new WeakMap;const ia=Ke;let Oh=(()=>{class E{constructor(m,b){if(this.app=m,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:S}=m.options;ia(S,"invalid-api-key",{appName:m.name}),ia(S,"invalid-api-key",{appName:m.name});const x=typeof window<"u"?Ao:void 0;this._delegate=b.initialize({options:{persistence:Si(S,m.name),popupRedirectResolver:x}}),this._delegate._updateErrorMap(vu),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?br.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,b){!function vo(E,g,m){const b=yr(E);Ke(b._canInitEmulator,b,"emulator-config-failed"),Ke(/^https?:\/\//.test(g),b,"invalid-emulator-scheme");const S=!!m?.disableWarnings,x=Xi(g),{host:B,port:j}=function es(E){const g=Xi(E),m=/(\/\/)?([^?#/]+)/.exec(E.substr(g.length));if(!m)return{host:"",port:null};const b=m[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(b);if(S){const x=S[1];return{host:x,port:vc(b.substr(x.length+1))}}{const[x,B]=b.split(":");return{host:x,port:vc(B)}}}(g);b.config.emulator={url:`${x}//${B}${null===j?"":`:${j}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:B,port:j,protocol:x.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function Au(){function E(){const g=document.createElement("p"),m=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",E):E())}()}(this._delegate,m,b)}applyActionCode(m){return function Il(E,g){return(Z=Z||(0,d.Z)(function*(m,b){yield function Qd(E,g){return(Te=Te||(0,d.Z)(function*(m,b){return Ln(m,"POST","/v1/accounts:update",pn(m,b))})).apply(this,arguments)}((0,L.m9)(m),{oobCode:b})})).apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return Lu(this._delegate,m)}confirmPasswordReset(m,b){return function Dp(E,g,m){return(Y=Y||(0,d.Z)(function*(b,S,x){yield r_((0,L.m9)(b),{oobCode:S,newPassword:x})})).apply(this,arguments)}(this._delegate,m,b)}createUserWithEmailAndPassword(m,b){var S=this;return(0,d.Z)(function*(){return Hi(S._delegate,function ih(E,g,m){return(nt=nt||(0,d.Z)(function*(b,S,x){var B;const j=yr(b),ie={returnSecureToken:!0,email:S,password:x,clientType:"CLIENT_TYPE_WEB"};let be;if(null!==(B=j._getRecaptchaConfig())&&void 0!==B&&B.emailPasswordEnabled){const en=yield yi(j,ie,"signUpPassword");be=Ca(j,en)}else{var yt;be=Ca(j,ie).catch(function(en){return(yt=yt||(0,d.Z)(function*(Rn){if("auth/missing-recaptcha-token"===Rn.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Cr=yield yi(j,ie,"signUpPassword");return Ca(j,Cr)}return Promise.reject(Rn)})).apply(this,arguments)})}const dt=yield be.catch(en=>Promise.reject(en)),Tt=yield wi._fromIdTokenResponse(j,"signIn",dt);return yield j._updateCurrentUser(Tt.user),Tt})).apply(this,arguments)}(S._delegate,m,b))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function Bu(E,g){return(at=at||(0,d.Z)(function*(m,b){const x={identifier:b,continueUri:pl()?jo():"http://localhost"},{signinMethods:B}=yield function ah(E,g){return(gn=gn||(0,d.Z)(function*(m,b){return Ln(m,"POST","/v1/accounts:createAuthUri",pn(m,b))})).apply(this,arguments)}((0,L.m9)(m),x);return B||[]})).apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function Ec(E,g){const m=gs.parseLink(g);return"EMAIL_SIGNIN"===m?.operation}(0,m)}getRedirectResult(){var m=this;return(0,d.Z)(function*(){ia(ss(),m._delegate,"operation-not-supported-in-this-environment");const b=yield function qu(E,g){return(z=z||(0,d.Z)(function*(m,b){return yield yr(m)._initializationPromise,Co(m,b,!1)})).apply(this,arguments)}(m._delegate,Ao);return b?Hi(m._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function Qw(E,g){yr(E)._logFramework(g)}(this._delegate,m)}onAuthStateChanged(m,b,S){const{next:x,error:B,complete:j}=sd(m,b,S);return this._delegate.onAuthStateChanged(x,B,j)}onIdTokenChanged(m,b,S){const{next:x,error:B,complete:j}=sd(m,b,S);return this._delegate.onIdTokenChanged(x,B,j)}sendSignInLinkToEmail(m,b){return function oh(E,g,m){return(ft=ft||(0,d.Z)(function*(b,S,x){var B;const j=yr(b),ie={requestType:"EMAIL_SIGNIN",email:S,clientType:"CLIENT_TYPE_WEB"};function be(dt,Tt){Ke(Tt.handleCodeInApp,j,"argument-error"),Tt&&Bs(j,dt,Tt)}if(null!==(B=j._getRecaptchaConfig())&&void 0!==B&&B.emailPasswordEnabled){const dt=yield yi(j,ie,"getOobCode",!0);be(dt,x),yield Gn(j,dt)}else{var yt;be(ie,x),yield Gn(j,ie).catch(function(dt){return(yt=yt||(0,d.Z)(function*(Tt){if("auth/missing-recaptcha-token"!==Tt.code)return Promise.reject(Tt);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const en=yield yi(j,ie,"getOobCode",!0);be(en,x),yield Gn(j,en)}})).apply(this,arguments)})}})).apply(this,arguments)}(this._delegate,m,b)}sendPasswordResetEmail(m,b){return function Ma(E,g,m){return(sn=sn||(0,d.Z)(function*(b,S,x){var B;const j=yr(b),ie={requestType:"PASSWORD_RESET",email:S,clientType:"CLIENT_TYPE_WEB"};if(null!==(B=j._getRecaptchaConfig())&&void 0!==B&&B.emailPasswordEnabled){const yt=yield yi(j,ie,"getOobCode",!0);x&&Bs(j,yt,x),yield Xd(j,yt)}else{var be;x&&Bs(j,ie,x),yield Xd(j,ie).catch(function(yt){return(be=be||(0,d.Z)(function*(dt){if("auth/missing-recaptcha-token"!==dt.code)return Promise.reject(dt);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Tt=yield yi(j,ie,"getOobCode",!0);x&&Bs(j,Tt,x),yield Xd(j,Tt)}})).apply(this,arguments)})}})).apply(this,arguments)}(this._delegate,m,b||void 0)}setPersistence(m){var b=this;return(0,d.Z)(function*(){let S;switch(function Sh(E,g){lo(Object.values(Qr).includes(g),E,"invalid-persistence-type"),(0,L.b$)()?lo(g!==Qr.SESSION,E,"unsupported-persistence-type"):(0,L.UG)()?lo(g===Qr.NONE,E,"unsupported-persistence-type"):$a()?lo(g===Qr.NONE||g===Qr.LOCAL&&(0,L.hl)(),E,"unsupported-persistence-type"):lo(g===Qr.NONE||Ch(),E,"unsupported-persistence-type")}(b._delegate,m),m){case Qr.SESSION:S=zn;break;case Qr.LOCAL:S=(yield Qi(Mr)._isAvailable())?Mr:ns;break;case Qr.NONE:S=st;break;default:return Kn("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(S)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return Hi(this._delegate,function Sa(E){return(we=we||(0,d.Z)(function*(g){var m;const b=yr(g);if(yield b._initializationPromise,null!==(m=b.currentUser)&&void 0!==m&&m.isAnonymous)return new wi({user:b.currentUser,providerId:null,operationType:"signIn"});const S=yield Ca(b,{returnSecureToken:!0}),x=yield wi._fromIdTokenResponse(b,"signIn",S,!0);return yield b._updateCurrentUser(x.user),x})).apply(this,arguments)}(this._delegate))}signInWithCredential(m){return Hi(this._delegate,Dc(this._delegate,m))}signInWithCustomToken(m){return Hi(this._delegate,function Wy(E,g){return(Hn=Hn||(0,d.Z)(function*(m,b){const S=yr(m),x=yield function oi(E,g){return(Sn=Sn||(0,d.Z)(function*(m,b){return Xs(m,"POST","/v1/accounts:signInWithCustomToken",pn(m,b))})).apply(this,arguments)}(S,{token:b,returnSecureToken:!0}),B=yield wi._fromIdTokenResponse(S,"signIn",x);return yield S._updateCurrentUser(B.user),B})).apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,b){return Hi(this._delegate,function sh(E,g,m){return Dc((0,L.m9)(E),yc.credential(g,m))}(this._delegate,m,b))}signInWithEmailLink(m,b){return Hi(this._delegate,function Cl(E,g,m){return(un=un||(0,d.Z)(function*(b,S,x){const B=(0,L.m9)(b),j=yc.credentialWithLink(S,x||jo());return Ke(j._tenantId===(B.tenantId||null),B,"tenant-id-mismatch"),Dc(B,j)})).apply(this,arguments)}(this._delegate,m,b))}signInWithPhoneNumber(m,b){return Vc(this._delegate,function ka(E,g,m){return(fs=fs||(0,d.Z)(function*(b,S,x){const B=yr(b),j=yield Io(B,S,(0,L.m9)(x));return new zr(j,ie=>Dc(B,ie))})).apply(this,arguments)}(this._delegate,m,b))}signInWithPopup(m){var b=this;return(0,d.Z)(function*(){return ia(ss(),b._delegate,"operation-not-supported-in-this-environment"),Hi(b._delegate,function Ci(E,g,m){return(Uo=Uo||(0,d.Z)(function*(b,S,x){const B=yr(b);po(b,S,ur);const j=li(B,x);return new wn(B,"signInViaPopup",S,j).executeNotNull()})).apply(this,arguments)}(b._delegate,m,Ao))})()}signInWithRedirect(m){var b=this;return(0,d.Z)(function*(){return ia(ss(),b._delegate,"operation-not-supported-in-this-environment"),yield ra(b._delegate),function Pc(E,g,m){return function hr(E,g,m){return(ut=ut||(0,d.Z)(function*(b,S,x){const B=yr(b);po(b,S,ur),yield B._initializationPromise;const j=li(B,x);return yield xr(j,B),j._openRedirect(B,S,"signInViaRedirect")})).apply(this,arguments)}(E,g,m)}(b._delegate,m,Ao)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function rh(E,g){return(xe=xe||(0,d.Z)(function*(m,b){const{data:S}=yield Lu((0,L.m9)(m),b);return S.email})).apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return E.Persistence=Qr,E})();function sd(E,g,m){let b=E;"function"!=typeof E&&({next:b,error:g,complete:m}=E);const S=b;return{next:B=>S(B&&br.getOrCreate(B)),error:g,complete:m}}function Si(E,g){const m=function rd(E,g){const m=Ah();if(!m)return[];const b=Vt(Th,E,g);switch(m.getItem(b)){case Qr.NONE:return[st];case Qr.LOCAL:return[Mr,zn];case Qr.SESSION:return[zn];default:return[]}}(E,g);if(typeof self<"u"&&!m.includes(Mr)&&m.push(Mr),typeof window<"u")for(const b of[ns,zn])m.includes(b)||m.push(b);return m.includes(st)||m.push(st),m}class Ga{constructor(){this.providerId="phone",this._delegate=new js(id(Q.Z.auth()))}static credential(g,m){return js.credential(g,m)}verifyPhoneNumber(g,m){return this._delegate.verifyPhoneNumber(g,m)}unwrap(){return this._delegate}}Ga.PHONE_SIGN_IN_METHOD=js.PHONE_SIGN_IN_METHOD,Ga.PROVIDER_ID=js.PROVIDER_ID;const ng=Ke;class D_{constructor(g,m,b=Q.Z.app()){var S;ng(null===(S=b.options)||void 0===S?void 0:S.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new Er(g,m,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function c0(E){E.INTERNAL.registerComponent(new ye.wA("auth-compat",g=>{const m=g.getProvider("app-compat").getImmediate(),b=g.getProvider("auth");return new Oh(m,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:yc,FacebookAuthProvider:Ru,GithubAuthProvider:bc,GoogleAuthProvider:Pu,OAuthProvider:Ea,SAMLAuthProvider:ts,PhoneAuthProvider:Ga,PhoneMultiFactorGenerator:p_,RecaptchaVerifier:D_,TwitterAuthProvider:nh,Auth:Oh,AuthCredential:Da,Error:L.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),E.registerVersion("@firebase/auth-compat","0.4.2")}(Q.Z)},2614:()=>{const bt=":";const Sn=function(Y,...Z){if(Sn.translate){const xe=Sn.translate(Y,Z);Y=xe[0],Z=xe[1]}let ge=sn(Y[0],Y.raw[0]);for(let xe=1;xe<Y.length;xe++)ge+=Z[xe-1]+sn(Y[xe],Y.raw[xe]);return ge},Hn=":";function sn(Y,Z){return Z.charAt(0)===Hn?Y.substring(function fe(Y,Z){for(let ge=1,xe=1;ge<Y.length;ge++,xe++)if("\\"===Z[xe])xe++;else if(Y[ge]===bt)return ge;throw new Error(`Unterminated $localize metadata block in "${Z}".`)}(Y,Z)+1):Y}globalThis.$localize=Sn},4303:(bt,Ce,k)=>{k.d(Ce,{Jn:()=>Z,KN:()=>un,Xd:()=>Mt,qX:()=>ln});var ye,Pe,d=k(5861),Q=k(4537),L=k(7879),ee=k(9058),re=k(1878);class ve{constructor(q){this.container=q}getPlatformInfoString(){return this.container.getProviders().map(Ee=>{if(function U(Ue){const q=Ue.getComponent();return"VERSION"===q?.type}(Ee)){const Xe=Ee.getImmediate();return`${Xe.library}/${Xe.version}`}return null}).filter(Ee=>Ee).join(" ")}}const G="@firebase/app",ke=new L.Yd("@firebase/app"),ze={[G]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ve=new Map,mt=new Map;function tt(Ue,q){try{Ue.container.addComponent(q)}catch(Ee){ke.debug(`Component ${q.name} failed to register with FirebaseApp ${Ue.name}`,Ee)}}function Mt(Ue){const q=Ue.name;if(mt.has(q))return ke.debug(`There were multiple attempts to register component ${q}.`),!1;mt.set(q,Ue);for(const Ee of Ve.values())tt(Ee,Ue);return!0}function ln(Ue,q){const Ee=Ue.container.getProvider("heartbeat").getImmediate({optional:!0});return Ee&&Ee.triggerHeartbeat(),Ue.container.getProvider(q)}const sn=new ee.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."}),Z="10.4.0";function un(Ue,q,Ee){var Xe;let ut=null!==(Xe=ze[Ue])&&void 0!==Xe?Xe:Ue;Ee&&(ut+=`-${Ee}`);const wt=ut.match(/\s|\//),On=q.match(/\s|\//);if(wt||On){const z=[`Unable to register library "${ut}" with version "${q}":`];return wt&&z.push(`library name "${ut}" contains illegal characters (whitespace or "/")`),wt&&On&&z.push("and"),On&&z.push(`version name "${q}" contains illegal characters (whitespace or "/")`),void ke.warn(z.join(" "))}Mt(new Q.wA(`${ut}-version`,()=>({library:ut,version:q}),"VERSION"))}const Et="firebase-heartbeat-database",jt=1,on="firebase-heartbeat-store";let tr=null;function nr(){return tr||(tr=(0,re.X3)(Et,jt,{upgrade:(Ue,q)=>{0===q&&Ue.createObjectStore(on)}}).catch(Ue=>{throw sn.create("idb-open",{originalErrorMessage:Ue.message})})),tr}function kn(Ue,q){return(Pe=Pe||(0,d.Z)(function*(Ee,Xe){try{const wt=(yield nr()).transaction(on,"readwrite");yield wt.objectStore(on).put(Xe,Mn(Ee)),yield wt.done}catch(ut){if(ut instanceof ee.ZR)ke.warn(ut.message);else{const wt=sn.create("idb-set",{originalErrorMessage:ut?.message});ke.warn(wt.message)}}})).apply(this,arguments)}function Mn(Ue){return`${Ue.name}!${Ue.options.appId}`}class hn{constructor(q){this.container=q,this._heartbeatsCache=null;const Ee=this.container.getProvider("app").getImmediate();this._storage=new Ys(Ee),this._heartbeatsCachePromise=this._storage.read().then(Xe=>(this._heartbeatsCache=Xe,Xe))}triggerHeartbeat(){var q=this;return(0,d.Z)(function*(){const Xe=q.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ut=_i();if(null===q._heartbeatsCache&&(q._heartbeatsCache=yield q._heartbeatsCachePromise),q._heartbeatsCache.lastSentHeartbeatDate!==ut&&!q._heartbeatsCache.heartbeats.some(wt=>wt.date===ut))return q._heartbeatsCache.heartbeats.push({date:ut,agent:Xe}),q._heartbeatsCache.heartbeats=q._heartbeatsCache.heartbeats.filter(wt=>{const On=new Date(wt.date).valueOf();return Date.now()-On<=2592e6}),q._storage.overwrite(q._heartbeatsCache)})()}getHeartbeatsHeader(){var q=this;return(0,d.Z)(function*(){if(null===q._heartbeatsCache&&(yield q._heartbeatsCachePromise),null===q._heartbeatsCache||0===q._heartbeatsCache.heartbeats.length)return"";const Ee=_i(),{heartbeatsToSend:Xe,unsentEntries:ut}=function Ns(Ue,q=1024){const Ee=[];let Xe=Ue.slice();for(const ut of Ue){const wt=Ee.find(On=>On.agent===ut.agent);if(wt){if(wt.dates.push(ut.date),ki(Ee)>q){wt.dates.pop();break}}else if(Ee.push({agent:ut.agent,dates:[ut.date]}),ki(Ee)>q){Ee.pop();break}Xe=Xe.slice(1)}return{heartbeatsToSend:Ee,unsentEntries:Xe}}(q._heartbeatsCache.heartbeats),wt=(0,ee.L)(JSON.stringify({version:2,heartbeats:Xe}));return q._heartbeatsCache.lastSentHeartbeatDate=Ee,ut.length>0?(q._heartbeatsCache.heartbeats=ut,yield q._storage.overwrite(q._heartbeatsCache)):(q._heartbeatsCache.heartbeats=[],q._storage.overwrite(q._heartbeatsCache)),wt})()}}function _i(){return(new Date).toISOString().substring(0,10)}class Ys{constructor(q){this.app=q,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,ee.hl)()&&(0,ee.eu)().then(()=>!0).catch(()=>!1)})()}read(){var q=this;return(0,d.Z)(function*(){return(yield q._canUseIndexedDBPromise)&&(yield function Gt(Ue){return(ye=ye||(0,d.Z)(function*(q){try{return yield(yield nr()).transaction(on).objectStore(on).get(Mn(q))}catch(Ee){if(Ee instanceof ee.ZR)ke.warn(Ee.message);else{const Xe=sn.create("idb-get",{originalErrorMessage:Ee?.message});ke.warn(Xe.message)}}})).apply(this,arguments)}(q.app))||{heartbeats:[]}})()}overwrite(q){var Ee=this;return(0,d.Z)(function*(){var Xe;if(yield Ee._canUseIndexedDBPromise){const wt=yield Ee.read();return kn(Ee.app,{lastSentHeartbeatDate:null!==(Xe=q.lastSentHeartbeatDate)&&void 0!==Xe?Xe:wt.lastSentHeartbeatDate,heartbeats:q.heartbeats})}})()}add(q){var Ee=this;return(0,d.Z)(function*(){var Xe;if(yield Ee._canUseIndexedDBPromise){const wt=yield Ee.read();return kn(Ee.app,{lastSentHeartbeatDate:null!==(Xe=q.lastSentHeartbeatDate)&&void 0!==Xe?Xe:wt.lastSentHeartbeatDate,heartbeats:[...wt.heartbeats,...q.heartbeats]})}})()}}function ki(Ue){return(0,ee.L)(JSON.stringify({version:2,heartbeats:Ue})).length}!function Uo(Ue){Mt(new Q.wA("platform-logger",q=>new ve(q),"PRIVATE")),Mt(new Q.wA("heartbeat",q=>new hn(q),"PRIVATE")),un(G,"0.9.19",Ue),un(G,"0.9.19","esm2017"),un("fire-js","")}("")},4537:(bt,Ce,k)=>{k.d(Ce,{H0:()=>Pe,wA:()=>L});var d=k(5861),Q=k(9058);class L{constructor(U,G,te){this.name=U,this.instanceFactory=G,this.type=te,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(U){return this.instantiationMode=U,this}setMultipleInstances(U){return this.multipleInstances=U,this}setServiceProps(U){return this.serviceProps=U,this}setInstanceCreatedCallback(U){return this.onInstanceCreated=U,this}}const ee="[DEFAULT]";class re{constructor(U,G){this.name=U,this.container=G,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(U){const G=this.normalizeInstanceIdentifier(U);if(!this.instancesDeferred.has(G)){const te=new Q.BH;if(this.instancesDeferred.set(G,te),this.isInitialized(G)||this.shouldAutoInitialize())try{const ke=this.getOrInitializeService({instanceIdentifier:G});ke&&te.resolve(ke)}catch{}}return this.instancesDeferred.get(G).promise}getImmediate(U){var G;const te=this.normalizeInstanceIdentifier(U?.identifier),ke=null!==(G=U?.optional)&&void 0!==G&&G;if(!this.isInitialized(te)&&!this.shouldAutoInitialize()){if(ke)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:te})}catch(Oe){if(ke)return null;throw Oe}}getComponent(){return this.component}setComponent(U){if(U.name!==this.name)throw Error(`Mismatching Component ${U.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=U,this.shouldAutoInitialize()){if(function ye(ve){return"EAGER"===ve.instantiationMode}(U))try{this.getOrInitializeService({instanceIdentifier:ee})}catch{}for(const[G,te]of this.instancesDeferred.entries()){const ke=this.normalizeInstanceIdentifier(G);try{const Oe=this.getOrInitializeService({instanceIdentifier:ke});te.resolve(Oe)}catch{}}}}clearInstance(U=ee){this.instancesDeferred.delete(U),this.instancesOptions.delete(U),this.instances.delete(U)}delete(){var U=this;return(0,d.Z)(function*(){const G=Array.from(U.instances.values());yield Promise.all([...G.filter(te=>"INTERNAL"in te).map(te=>te.INTERNAL.delete()),...G.filter(te=>"_delete"in te).map(te=>te._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(U=ee){return this.instances.has(U)}getOptions(U=ee){return this.instancesOptions.get(U)||{}}initialize(U={}){const{options:G={}}=U,te=this.normalizeInstanceIdentifier(U.instanceIdentifier);if(this.isInitialized(te))throw Error(`${this.name}(${te}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ke=this.getOrInitializeService({instanceIdentifier:te,options:G});for(const[Oe,et]of this.instancesDeferred.entries())te===this.normalizeInstanceIdentifier(Oe)&&et.resolve(ke);return ke}onInit(U,G){var te;const ke=this.normalizeInstanceIdentifier(G),Oe=null!==(te=this.onInitCallbacks.get(ke))&&void 0!==te?te:new Set;Oe.add(U),this.onInitCallbacks.set(ke,Oe);const et=this.instances.get(ke);return et&&U(et,ke),()=>{Oe.delete(U)}}invokeOnInitCallbacks(U,G){const te=this.onInitCallbacks.get(G);if(te)for(const ke of te)try{ke(U,G)}catch{}}getOrInitializeService({instanceIdentifier:U,options:G={}}){let te=this.instances.get(U);if(!te&&this.component&&(te=this.component.instanceFactory(this.container,{instanceIdentifier:(ve=U,ve===ee?void 0:ve),options:G}),this.instances.set(U,te),this.instancesOptions.set(U,G),this.invokeOnInitCallbacks(te,U),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,U,te)}catch{}var ve;return te||null}normalizeInstanceIdentifier(U=ee){return this.component?this.component.multipleInstances?U:ee:U}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Pe{constructor(U){this.name=U,this.providers=new Map}addComponent(U){const G=this.getProvider(U.name);if(G.isComponentSet())throw new Error(`Component ${U.name} has already been registered with ${this.name}`);G.setComponent(U)}addOrOverwriteComponent(U){this.getProvider(U.name).isComponentSet()&&this.providers.delete(U.name),this.addComponent(U)}getProvider(U){if(this.providers.has(U))return this.providers.get(U);const G=new re(U,this);return this.providers.set(U,G),G}getProviders(){return Array.from(this.providers.values())}}},7879:(bt,Ce,k)=>{k.d(Ce,{Am:()=>ve,Ub:()=>Pe,Yd:()=>ye,in:()=>Q});const d=[];var Q=function(U){return U[U.DEBUG=0]="DEBUG",U[U.VERBOSE=1]="VERBOSE",U[U.INFO=2]="INFO",U[U.WARN=3]="WARN",U[U.ERROR=4]="ERROR",U[U.SILENT=5]="SILENT",U}(Q||{});const L={debug:Q.DEBUG,verbose:Q.VERBOSE,info:Q.INFO,warn:Q.WARN,error:Q.ERROR,silent:Q.SILENT},ee=Q.INFO,re={[Q.DEBUG]:"log",[Q.VERBOSE]:"log",[Q.INFO]:"info",[Q.WARN]:"warn",[Q.ERROR]:"error"},pe=(U,G,...te)=>{if(G<U.logLevel)return;const ke=(new Date).toISOString(),Oe=re[G];if(!Oe)throw new Error(`Attempted to log a message with an invalid logType (value: ${G})`);console[Oe](`[${ke}]  ${U.name}:`,...te)};class ye{constructor(G){this.name=G,this._logLevel=ee,this._logHandler=pe,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(G){if(!(G in Q))throw new TypeError(`Invalid value "${G}" assigned to \`logLevel\``);this._logLevel=G}setLogLevel(G){this._logLevel="string"==typeof G?L[G]:G}get logHandler(){return this._logHandler}set logHandler(G){if("function"!=typeof G)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=G}get userLogHandler(){return this._userLogHandler}set userLogHandler(G){this._userLogHandler=G}debug(...G){this._userLogHandler&&this._userLogHandler(this,Q.DEBUG,...G),this._logHandler(this,Q.DEBUG,...G)}log(...G){this._userLogHandler&&this._userLogHandler(this,Q.VERBOSE,...G),this._logHandler(this,Q.VERBOSE,...G)}info(...G){this._userLogHandler&&this._userLogHandler(this,Q.INFO,...G),this._logHandler(this,Q.INFO,...G)}warn(...G){this._userLogHandler&&this._userLogHandler(this,Q.WARN,...G),this._logHandler(this,Q.WARN,...G)}error(...G){this._userLogHandler&&this._userLogHandler(this,Q.ERROR,...G),this._logHandler(this,Q.ERROR,...G)}}function Pe(U){d.forEach(G=>{G.setLogLevel(U)})}function ve(U,G){for(const te of d){let ke=null;G&&G.level&&(ke=L[G.level]),te.userLogHandler=null===U?null:(Oe,et,...Be)=>{const rt=Be.map(Ne=>{if(null==Ne)return null;if("string"==typeof Ne)return Ne;if("number"==typeof Ne||"boolean"==typeof Ne)return Ne.toString();if(Ne instanceof Error)return Ne.message;try{return JSON.stringify(Ne)}catch{return null}}).filter(Ne=>Ne).join(" ");et>=(ke??Oe.logLevel)&&U({level:Q[et].toLowerCase(),message:rt,args:Be,type:Oe.name})}}}},1878:(bt,Ce,k)=>{k.d(Ce,{X3:()=>Dt});var d=k(5861);const Q=(oe,$e)=>$e.some(it=>oe instanceof it);let L,ee;const ye=new WeakMap,Pe=new WeakMap,ve=new WeakMap,U=new WeakMap,G=new WeakMap;let Oe={get(oe,$e,it){if(oe instanceof IDBTransaction){if("done"===$e)return Pe.get(oe);if("objectStoreNames"===$e)return oe.objectStoreNames||ve.get(oe);if("store"===$e)return it.objectStoreNames[1]?void 0:it.objectStore(it.objectStoreNames[0])}return Ne(oe[$e])},set:(oe,$e,it)=>(oe[$e]=it,!0),has:(oe,$e)=>oe instanceof IDBTransaction&&("done"===$e||"store"===$e)||$e in oe};function rt(oe){return"function"==typeof oe?function Be(oe){return oe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function pe(){return ee||(ee=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(oe)?function(...$e){return oe.apply(Ct(this),$e),Ne(ye.get(this))}:function(...$e){return Ne(oe.apply(Ct(this),$e))}:function($e,...it){const Nt=oe.call(Ct(this),$e,...it);return ve.set(Nt,$e.sort?$e.sort():[$e]),Ne(Nt)}}(oe):(oe instanceof IDBTransaction&&function ke(oe){if(Pe.has(oe))return;const $e=new Promise((it,Nt)=>{const En=()=>{oe.removeEventListener("complete",Nn),oe.removeEventListener("error",Tn),oe.removeEventListener("abort",Tn)},Nn=()=>{it(),En()},Tn=()=>{Nt(oe.error||new DOMException("AbortError","AbortError")),En()};oe.addEventListener("complete",Nn),oe.addEventListener("error",Tn),oe.addEventListener("abort",Tn)});Pe.set(oe,$e)}(oe),Q(oe,function re(){return L||(L=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(oe,Oe):oe)}function Ne(oe){if(oe instanceof IDBRequest)return function te(oe){const $e=new Promise((it,Nt)=>{const En=()=>{oe.removeEventListener("success",Nn),oe.removeEventListener("error",Tn)},Nn=()=>{it(Ne(oe.result)),En()},Tn=()=>{Nt(oe.error),En()};oe.addEventListener("success",Nn),oe.addEventListener("error",Tn)});return $e.then(it=>{it instanceof IDBCursor&&ye.set(it,oe)}).catch(()=>{}),G.set($e,oe),$e}(oe);if(U.has(oe))return U.get(oe);const $e=rt(oe);return $e!==oe&&(U.set(oe,$e),G.set($e,oe)),$e}const Ct=oe=>G.get(oe);function Dt(oe,$e,{blocked:it,upgrade:Nt,blocking:En,terminated:Nn}={}){const Tn=indexedDB.open(oe,$e),$n=Ne(Tn);return Nt&&Tn.addEventListener("upgradeneeded",qn=>{Nt(Ne(Tn.result),qn.oldVersion,qn.newVersion,Ne(Tn.transaction),qn)}),it&&Tn.addEventListener("blocked",qn=>it(qn.oldVersion,qn.newVersion,qn)),$n.then(qn=>{Nn&&qn.addEventListener("close",()=>Nn()),En&&qn.addEventListener("versionchange",Vr=>En(Vr.oldVersion,Vr.newVersion,Vr))}).catch(()=>{}),$n}const Me=["get","getKey","getAll","getAllKeys","count"],ae=["put","add","delete","clear"],Te=new Map;function He(oe,$e){var it;if(!(oe instanceof IDBDatabase)||$e in oe||"string"!=typeof $e)return;if(Te.get($e))return Te.get($e);const Nt=$e.replace(/FromIndex$/,""),En=$e!==Nt,Nn=ae.includes(Nt);if(!(Nt in(En?IDBIndex:IDBObjectStore).prototype)||!Nn&&!Me.includes(Nt))return;const Tn=function(qn){return(it=it||(0,d.Z)(function*(Vr,...de){const fe=this.transaction(Vr,Nn?"readwrite":"readonly");let De=fe.store;return En&&(De=De.index(de.shift())),(yield Promise.all([De[Nt](...de),Nn&&fe.done]))[0]})).apply(this,arguments)};return Te.set($e,Tn),Tn}!function et(oe){Oe=oe(Oe)}(oe=>({...oe,get:($e,it,Nt)=>He($e,it)||oe.get($e,it,Nt),has:($e,it)=>!!He($e,it)||oe.has($e,it)}))},5861:(bt,Ce,k)=>{function d(L,ee,re,pe,ye,Pe,ve){try{var U=L[Pe](ve),G=U.value}catch(te){return void re(te)}U.done?ee(G):Promise.resolve(G).then(pe,ye)}function Q(L){return function(){var ee=this,re=arguments;return new Promise(function(pe,ye){var Pe=L.apply(ee,re);function ve(G){d(Pe,pe,ye,ve,U,"next",G)}function U(G){d(Pe,pe,ye,ve,U,"throw",G)}ve(void 0)})}}k.d(Ce,{Z:()=>Q})},7582:(bt,Ce,k)=>{function ee(de,fe){var De={};for(var we in de)Object.prototype.hasOwnProperty.call(de,we)&&fe.indexOf(we)<0&&(De[we]=de[we]);if(null!=de&&"function"==typeof Object.getOwnPropertySymbols){var ze=0;for(we=Object.getOwnPropertySymbols(de);ze<we.length;ze++)fe.indexOf(we[ze])<0&&Object.prototype.propertyIsEnumerable.call(de,we[ze])&&(De[we[ze]]=de[we[ze]])}return De}function te(de,fe,De,we){return new(De||(De=Promise))(function(Ve,mt){function tt(ln){try{Mt(we.next(ln))}catch(Ut){mt(Ut)}}function Zn(ln){try{Mt(we.throw(ln))}catch(Ut){mt(Ut)}}function Mt(ln){ln.done?Ve(ln.value):function ze(Ve){return Ve instanceof De?Ve:new De(function(mt){mt(Ve)})}(ln.value).then(tt,Zn)}Mt((we=we.apply(de,fe||[])).next())})}function se(de){return this instanceof se?(this.v=de,this):new se(de)}function Me(de,fe,De){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ze,we=De.apply(de,fe||[]),Ve=[];return ze={},mt("next"),mt("throw"),mt("return"),ze[Symbol.asyncIterator]=function(){return this},ze;function mt(Sn){we[Sn]&&(ze[Sn]=function(Hn){return new Promise(function(sn,Y){Ve.push([Sn,Hn,sn,Y])>1||tt(Sn,Hn)})})}function tt(Sn,Hn){try{!function Zn(Sn){Sn.value instanceof se?Promise.resolve(Sn.value.v).then(Mt,ln):Ut(Ve[0][2],Sn)}(we[Sn](Hn))}catch(sn){Ut(Ve[0][3],sn)}}function Mt(Sn){tt("next",Sn)}function ln(Sn){tt("throw",Sn)}function Ut(Sn,Hn){Sn(Hn),Ve.shift(),Ve.length&&tt(Ve[0][0],Ve[0][1])}}function Te(de){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var De,fe=de[Symbol.asyncIterator];return fe?fe.call(de):(de=function Be(de){var fe="function"==typeof Symbol&&Symbol.iterator,De=fe&&de[fe],we=0;if(De)return De.call(de);if(de&&"number"==typeof de.length)return{next:function(){return de&&we>=de.length&&(de=void 0),{value:de&&de[we++],done:!de}}};throw new TypeError(fe?"Object is not iterable.":"Symbol.iterator is not defined.")}(de),De={},we("next"),we("throw"),we("return"),De[Symbol.asyncIterator]=function(){return this},De);function we(Ve){De[Ve]=de[Ve]&&function(mt){return new Promise(function(tt,Zn){!function ze(Ve,mt,tt,Zn){Promise.resolve(Zn).then(function(Mt){Ve({value:Mt,done:tt})},mt)}(tt,Zn,(mt=de[Ve](mt)).done,mt.value)})}}}k.d(Ce,{FC:()=>Me,KL:()=>Te,_T:()=>ee,mG:()=>te,qq:()=>se}),"function"==typeof SuppressedError&&SuppressedError}},bt=>{var Ce=d=>bt(bt.s=d);Ce(2614),Ce(1938)}]);